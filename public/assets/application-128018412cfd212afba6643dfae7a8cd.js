/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=xt[e]={};return lt.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function o(e,n,i,o){if(lt.acceptData(e)){var s,a,r=lt.expando,l="string"==typeof n,c=e.nodeType,d=c?lt.cache:e,u=c?e[r]:e[r]&&r;if(u&&d[u]&&(o||d[u].data)||!l||i!==t)return u||(c?e[r]=u=Z.pop()||lt.guid++:u=r),d[u]||(d[u]={},c||(d[u].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(o?d[u]=lt.extend(d[u],n):d[u].data=lt.extend(d[u].data,n)),s=d[u],o||(s.data||(s.data={}),s=s.data),i!==t&&(s[lt.camelCase(n)]=i),l?(a=s[n],null==a&&(a=s[lt.camelCase(n)])):a=s,a}}function s(e,t,n){if(lt.acceptData(e)){var i,o,s,a=e.nodeType,l=a?lt.cache:e,c=a?e[lt.expando]:lt.expando;if(l[c]){if(t&&(s=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in s?t=[t]:(t=lt.camelCase(t),t=t in s?[t]:t.split(" "));for(i=0,o=t.length;o>i;i++)delete s[t[i]];if(!(n?r:lt.isEmptyObject)(s))return}(n||(delete l[c].data,r(l[c])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(Tt,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?lt.parseJSON(i):i}catch(s){}lt.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var o=!!t.call(e,i,e);return o===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(Wt.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=sn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,o,s=lt._data(e),a=lt._data(t,s),r=s.events;if(r){delete a.handle,a.events={};for(n in r)for(i=0,o=r[n].length;o>i;i++)lt.event.add(t,n,r[n][i])}a.data&&(a.data=lt.extend({},a.data))}}function y(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){o=lt._data(t);for(i in o.events)lt.removeEvent(t,i,o.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(p(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,o,s=0,a=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(o=i[s]);s++)!n||lt.nodeName(o,n)?a.push(o):lt.merge(a,b(o,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],a):a}function w(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Tn.length;o--;)if(t=Tn[o]+n,t in e)return t;return i}function C(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function x(e,t){for(var n,i,o,s=[],a=0,r=e.length;r>a;a++)i=e[a],i.style&&(s[a]=lt._data(i,"olddisplay"),n=i.style.display,t?(s[a]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(s[a]=lt._data(i,"olddisplay",D(i.nodeName)))):s[a]||(o=C(i),(n&&"none"!==n||!o)&&lt._data(i,"olddisplay",o?n:lt.css(i,"display"))));for(a=0;r>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function S(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,o){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=lt.css(e,n+Sn[s],!0,o)),i?("content"===n&&(a-=lt.css(e,"padding"+Sn[s],!0,o)),"margin"!==n&&(a-=lt.css(e,"border"+Sn[s]+"Width",!0,o))):(a+=lt.css(e,"padding"+Sn[s],!0,o),"padding"!==n&&(a+=lt.css(e,"border"+Sn[s]+"Width",!0,o)));return a}function k(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=un(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=hn(e,t,s),(0>o||null==o)&&(o=e.style[t]),bn.test(o))return o;i=a&&(lt.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+T(e,t,n||(a?"border":"content"),i,s)+"px"}function D(e){var t=G,n=_n[e];return n||(n=N(e,t),"none"!==n&&n||(dn=(dn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(dn[0].contentWindow||dn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=N(e,t),dn.detach()),_n[e]=n),n}function N(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function E(e,t,n,i){var o;if(lt.isArray(t))lt.each(t,function(t,o){n||Dn.test(e)?i(e,o):E(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(o in t)E(e+"["+o+"]",t[o],n,i)}function A(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,s=t.toLowerCase().match(dt)||[];if(lt.isFunction(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function o(r){var l;return s[r]=!0,lt.each(e[r]||[],function(e,r){var c=r(t,n,i);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var s={},a=e===Un;return o(t.dataTypes[0])||!s["*"]&&o("*")}function I(e,n){var i,o,s=lt.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((s[o]?e:i||(i={}))[o]=n[o]);return i&&lt.extend(!0,e,i),e}function P(e,n,i){var o,s,a,r,l=e.contents,c=e.dataTypes,d=e.responseFields;for(r in d)r in i&&(n[d[r]]=i[r]);for(;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(r in l)if(l[r]&&l[r].test(s)){c.unshift(r);break}if(c[0]in i)a=c[0];else{for(r in i){if(!c[0]||e.converters[r+" "+c[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function L(e,t){var n,i,o,s,a={},r=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(o in e.converters)a[o.toLowerCase()]=e.converters[o];for(;i=l[++r];)if("*"!==i){if("*"!==c&&c!==i){if(o=a[c+" "+i]||a["* "+i],!o)for(n in a)if(s=n.split(" "),s[1]===i&&(o=a[c+" "+s[0]]||a["* "+s[0]])){o===!0?o=a[n]:a[n]!==!0&&(i=s[0],l.splice(r--,0,i));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function R(){try{return new e.XMLHttpRequest}catch(t){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function H(e,t){lt.each(t,function(t,n){for(var i=(si[t]||[]).concat(si["*"]),o=0,s=i.length;s>o;o++)if(i[o].call(e,t,n))return})}function B(e,t,n){var i,o,s=0,a=oi.length,r=lt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zn||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(s);return r.notifyWith(e,[c,s,n]),1>s&&l?n:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),d=c.props;for($(d,c.opts.specialEasing);a>s;s++)if(i=oi[s].call(c,e,d,c.opts))return i;return H(c,d),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e,t){var n,i,o,s,a;for(o in e)if(i=lt.camelCase(o),s=t[i],n=e[o],lt.isArray(n)&&(s=n[1],n=e[o]=n[0]),o!==i&&(e[i]=n,delete e[o]),a=lt.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete e[i];for(o in n)o in e||(e[o]=n[o],t[o]=s)}else t[i]=s}function z(e,t,n){var i,o,s,a,r,l,c,d,u,h=this,f=e.style,p={},m=[],g=e.nodeType&&C(e);n.queue||(d=lt._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,u=d.empty.fire,d.empty.fire=function(){d.unqueued||u()}),d.unqueued++,h.always(function(){h.always(function(){d.unqueued--,lt.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(o in t)if(a=t[o],ti.exec(a)){if(delete t[o],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(o)}if(s=m.length){r=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in r&&(g=r.hidden),l&&(r.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in p)lt.style(e,t,p[t])});for(o=0;s>o;o++)i=m[o],c=h.createTween(i,g?r[i]:0),p[i]=r[i]||lt.style(e,i),i in r||(r[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function j(e,t,n,i,o){return new j.prototype.init(e,t,n,i,o)}function W(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Sn[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,q,Y=typeof t,G=e.document,X=e.location,J=e.jQuery,K=e.$,Q={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,ot=Z.indexOf,st=Q.toString,at=Q.hasOwnProperty,rt=et.trim,lt=function(e,t){return new lt.fn.init(e,t,q)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},_t=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(Ct(),lt.ready())},Ct=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",_t,!1),e.removeEventListener("load",_t,!1)):(G.detachEvent("onreadystatechange",_t),e.detachEvent("onload",_t))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var o,s;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),ft.test(o[1])&&lt.isPlainObject(n))for(o in n)lt.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(s=G.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return i.find(e);this.length=1,this[0]=s}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,o,s,a,r=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[1]||{},l=2),"object"==typeof r||lt.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(o in s)e=r[o],i=s[o],r!==i&&(d&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,a=e&&lt.isArray(e)?e:[]):a=e&&lt.isPlainObject(e)?e:{},r[o]=lt.extend(d,a,i)):i!==t&&(r[o]=i));return r},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=K),t&&e.jQuery===lt&&(e.jQuery=J),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!G.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(V.resolveWith(G,[lt]),lt.fn.trigger&&lt(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[st.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||at.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=ft.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,o),o&&lt(o).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&pt.test(t.replace(gt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(s){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(bt,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,s=0,a=e.length,r=n(e);if(i){if(r)for(;a>s&&(o=t.apply(e[s],i),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],i),o===!1)break}else if(r)for(;a>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:rt&&!rt.call("﻿ ")?function(e){return null==e?"":rt.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(ot)return ot.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,o=e.length,s=0;if("number"==typeof i)for(;i>s;s++)e[o++]=n[s];else for(;n[s]!==t;)e[o++]=n[s++];return e.length=o,e},grep:function(e,t,n){var i,o=[],s=0,a=e.length;for(n=!!n;a>s;s++)i=!!t(e[s],s),n!==i&&o.push(e[s]);return o},map:function(e,t,i){var o,s=0,a=e.length,r=n(e),l=[];if(r)for(;a>s;s++)o=t(e[s],s,i),null!=o&&(l[l.length]=o);else for(s in e)o=t(e[s],s,i),null!=o&&(l[l.length]=o);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,o,s;return"string"==typeof n&&(s=e[n],n=e,e=s),lt.isFunction(e)?(i=it.call(arguments,2),o=function(){return e.apply(n||this,i.concat(it.call(arguments)))},o.guid=e.guid=e.guid||lt.guid++,o):t},access:function(e,n,i,o,s,a,r){var l=0,c=e.length,d=null==i;if("object"===lt.type(i)){s=!0;for(l in i)lt.access(e,n,l,i[l],!0,a,r)}else if(o!==t&&(s=!0,lt.isFunction(o)||(r=!0),d&&(r?(n.call(e,o),n=null):(d=n,n=function(e,t,n){return d.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,r?o:o.call(e[l],l,n(e[l],i)));return s?e:d?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!V)if(V=lt.Deferred(),"complete"===G.readyState)setTimeout(lt.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",_t,!1),e.addEventListener("load",_t,!1);else{G.attachEvent("onreadystatechange",_t),e.attachEvent("onload",_t);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(i){}n&&n.doScroll&&function o(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}Ct(),lt.ready()}}()}return V.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),q=lt(G);var xt={};lt.Callbacks=function(e){e="string"==typeof e?xt[e]||i(e):lt.extend({},e);var n,o,s,a,r,l,c=[],d=!e.once&&[],u=function(t){for(o=e.memory&&t,s=!0,r=l||0,l=0,a=c.length,n=!0;c&&a>r;r++)if(c[r].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(d?d.length&&u(d.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;(function i(t){lt.each(t,function(t,n){var o=lt.type(n);"function"===o?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})})(arguments),n?a=c.length:o&&(l=t,u(o))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,r>=i&&r--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=d=o=t,this},disabled:function(){return!c},lock:function(){return d=t,o||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||s&&!d||(n?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,s){var a=s[0],r=lt.isFunction(e[t])&&e[t];o[s[1]](function(){var e=r&&r.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},o={};return i.pipe=i.then,lt.each(t,function(e,s){var a=s[2],r=s[3];i[s[1]]=a.add,r&&a.add(function(){n=r},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?i:this,arguments),this},o[s[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,s=it.call(arguments),a=s.length,r=1!==a||e&&lt.isFunction(e.promise)?a:0,l=1===r?e:lt.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?it.call(arguments):o,i===t?l.notifyWith(n,i):--r||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)s[o]&&lt.isFunction(s[o].promise)?s[o].promise().done(c(o,i,s)).fail(l.reject).progress(c(o,n,t)):--r;return r||l.resolveWith(i,s),l.promise()}}),lt.support=function(){var t,n,i,o,s,a,r,l,c,d,u=G.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*"),i=u.getElementsByTagName("a")[0],!n||!i||!n.length)return{};s=G.createElement("select"),r=s.appendChild(G.createElement("option")),o=u.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==u.className,leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!o.value,optSelected:r.selected,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===G.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!r.disabled;try{delete u.test}catch(h){t.deleteExpando=!1}o=G.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),a=G.createDocumentFragment(),a.appendChild(o),t.appendChecked=o.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;return u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip,lt(function(){var n,i,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=G.getElementsByTagName("body")[0];a&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=u.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===u.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,i=u.appendChild(G.createElement("div")),i.style.cssText=u.style.cssText=s,i.style.marginRight=i.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof u.style.zoom!==Y&&(u.innerHTML="",u.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=u=o=i=null)}),n=s=a=r=i=o=null,t}();var St=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Tt=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!r(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return s(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,o,s=this[0],r=0,l=null;if(e===t){if(this.length&&(l=lt.data(s),1===s.nodeType&&!lt._data(s,"parsedAttrs"))){for(i=s.attributes;i.length>r;r++)o=i[r].name,o.indexOf("data-")||(o=lt.camelCase(o.slice(5)),a(s,o,l[o]));lt._data(s,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?s?a(s,e,lt.data(s,e)):null:(this.each(function(){lt.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,o=n.shift(),s=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),s.cur=o,o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,o=1,s=lt.Deferred(),a=this,r=this.length,l=function(){--o||s.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";r--;)i=lt._data(a[r],e+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),s.promise(n)}});var kt,Dt,Nt=/[\t\r\n]/g,Et=/\r/g,At=/^(?:input|select|textarea|button|object)$/i,Mt=/^(?:a|area)$/i,It=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Pt=/^(?:checked|selected)$/i,Lt=lt.support.getSetAttribute,Rt=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,s,a=0,r=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];r>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):" ")){for(s=0;o=t[s++];)0>i.indexOf(" "+o+" ")&&(i+=o+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,o,s,a=0,r=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];r>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):"")){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var o,s=0,a=lt(this),r=t,l=e.match(dt)||[];o=l[s++];)r=i?r:!a.hasClass(o),a[r?"addClass":"removeClass"](o);else(n===Y||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Nt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,o,s=this[0];{if(arguments.length)return o=lt.isFunction(e),this.each(function(n){var s,a=lt(this);1===this.nodeType&&(s=o?e.call(this,n,a.val()):e,null==s?s="":"number"==typeof s?s+="":lt.isArray(s)&&(s=lt.map(s,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))});if(s)return i=lt.valHooks[s.type]||lt.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(Et,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,a=s?null:[],r=s?o+1:i.length,l=0>o?r:s?o:0;r>l;l++)if(n=i[l],!(!n.selected&&l!==o||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),s)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var o,s,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Y?lt.prop(e,n,i):(s=1!==r||!lt.isXMLDoc(e),s&&(n=n.toLowerCase(),o=lt.attrHooks[n]||(It.test(n)?Dt:kt)),i===t?o&&s&&"get"in o&&null!==(a=o.get(e,n))?a:(typeof e.getAttribute!==Y&&(a=e.getAttribute(n)),null==a?t:a):null!==i?o&&s&&"set"in o&&(a=o.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,o=0,s=t&&t.match(dt);if(s&&1===e.nodeType)for(;n=s[o++];)i=lt.propFix[n]||n,It.test(n)?!Lt&&Pt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Lt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var o,s,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return a=1!==r||!lt.isXMLDoc(e),a&&(n=lt.propFix[n]||n,s=lt.propHooks[n]),i!==t?s&&"set"in s&&(o=s.set(e,i,n))!==t?o:e[n]=i:s&&"get"in s&&null!==(o=s.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):At.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:t}}}}),Dt={get:function(e,n){var i=lt.prop(e,n),o="boolean"==typeof i&&e.getAttribute(n),s="boolean"==typeof i?Rt&&Lt?null!=o:Pt.test(n)?e[lt.camelCase("default-"+n)]:!!o:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Rt&&Lt||!Pt.test(n)?e.setAttribute(!Lt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Rt&&Lt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):kt&&kt.set(e,t,n)}}),Lt||(kt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var o=e.getAttributeNode(i);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(i)),o.value=n+="","value"===i||n===e.getAttribute(i)?n:t
}},lt.attrHooks.contenteditable={get:kt.get,set:function(e,t,n){kt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Ft=/^(?:input|select|textarea)$/i,Ot=/^key/,Ht=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,o,s){var a,r,l,c,d,u,h,f,p,m,g,v=lt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,s=c.selector),i.guid||(i.guid=lt.guid++),(r=v.events)||(r=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof lt===Y||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(dt)||[""],l=n.length;l--;)a=$t.exec(n[l])||[],p=g=a[1],m=(a[2]||"").split(".").sort(),d=lt.event.special[p]||{},p=(s?d.delegateType:d.bindType)||p,d=lt.event.special[p]||{},h=lt.extend({type:p,origType:g,data:o,handler:i,guid:i.guid,selector:s,needsContext:s&&lt.expr.match.needsContext.test(s),namespace:m.join(".")},c),(f=r[p])||(f=r[p]=[],f.delegateCount=0,d.setup&&d.setup.call(e,o,m,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?f.splice(f.delegateCount++,0,h):f.push(h),lt.event.global[p]=!0;e=null}},remove:function(e,t,n,i,o){var s,a,r,l,c,d,u,h,f,p,m,g=lt.hasData(e)&&lt._data(e);if(g&&(d=g.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(r=$t.exec(t[c])||[],f=m=r[1],p=(r[2]||"").split(".").sort(),f){for(u=lt.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,h=d[f]||[],r=r[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)a=h[s],!o&&m!==a.origType||n&&n.guid!==a.guid||r&&!r.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(s,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&u.teardown.call(e,p,g.handle)!==!1||lt.removeEvent(e,f,g.handle),delete d[f])}else for(f in d)lt.event.remove(e,f+t[c],n,i,!0);lt.isEmptyObject(d)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,o,s){var a,r,l,c,d,u,h,f=[o||G],p=at.call(n,"type")?n.type:n,m=at.call(n,"namespace")?n.namespace.split("."):[];if(l=u=o=o||G,3!==o.nodeType&&8!==o.nodeType&&!Bt.test(p+lt.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),r=0>p.indexOf(":")&&"on"+p,n=n[lt.expando]?n:new lt.Event(p,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),i=null==i?[n]:lt.makeArray(i,[n]),d=lt.event.special[p]||{},s||!d.trigger||d.trigger.apply(o,i)!==!1)){if(!s&&!d.noBubble&&!lt.isWindow(o)){for(c=d.delegateType||p,Bt.test(c+p)||(l=l.parentNode);l;l=l.parentNode)f.push(l),u=l;u===(o.ownerDocument||G)&&f.push(u.defaultView||u.parentWindow||e)}for(h=0;(l=f[h++])&&!n.isPropagationStopped();)n.type=h>1?c:d.bindType||p,a=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),a&&a.apply(l,i),a=r&&l[r],a&&lt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=p,!(s||n.isDefaultPrevented()||d._default&&d._default.apply(o.ownerDocument,i)!==!1||"click"===p&&lt.nodeName(o,"a")||!lt.acceptData(o)||!r||!o[p]||lt.isWindow(o))){u=o[r],u&&(o[r]=null),lt.event.triggered=p;try{o[p]()}catch(g){}lt.event.triggered=t,u&&(o[r]=u)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,o,s,a,r=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],d=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(r=lt.event.handlers.call(this,e,c),n=0;(s=r[n++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,a=0;(o=s.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((lt.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,o,s,a,r=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(s=[],a=0;l>a;a++)o=n[a],i=o.selector+" ",s[i]===t&&(s[i]=o.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),s[i]&&s.push(o);s.length&&r.push({elem:c,handlers:s})}return n.length>l&&r.push({elem:this,handlers:n.slice(l)}),r},fix:function(e){if(e[lt.expando])return e;var t,n,i,o=e.type,s=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ht.test(o)?this.mouseHooks:Ot.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new lt.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,s,a=n.button,r=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||G,s=o.documentElement,i=o.body,e.pageX=n.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?n.toElement:r),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==G.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===G.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(o,null,t):lt.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Y&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==i&&!lt.contains(i,o))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ft.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ft.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ft.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,i,!0)},teardown:function(){0===--n&&G.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,o,s){var a,r;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],s);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===s&&(r=o,o=function(e){return lt().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var o,s;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,lt(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e){return pt.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}}function o(e){return e[B]=!0,e}function s(e){var t=M.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var o,s,a,r,l,c,d,f,p,m;if((t?t.ownerDocument||t:$)!==M&&A(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(r=t.nodeType)&&9!==r)return[];if(!P&&!i){if(o=mt.exec(e))if(a=o[1]){if(9===r){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&O(t,s)&&s.id===a)return n.push(s),n}else{if(o[2])return K.apply(n,Q.call(t.getElementsByTagName(e),0)),n;if((a=o[3])&&z.getByClassName&&t.getElementsByClassName)return K.apply(n,Q.call(t.getElementsByClassName(a),0)),n}if(z.qsa&&!L.test(e)){if(d=!0,f=B,p=t,m=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=u(e),(d=t.getAttribute("id"))?f=d.replace(yt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=ft.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return K.apply(n,Q.call(p.querySelectorAll(m),0)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return w(e.replace(at,"$1"),t,n,i)}function r(e,t){var n=t&&e,i=n&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return o(function(t){return t=+t,o(function(n,i){for(var o,s=e([],n.length,t),a=s.length;a--;)n[o=s[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(e,t){var n,i,o,s,r,l,c,d=V[e+" "];if(d)return t?0:d.slice(0);for(r=e,l=[],c=S.preFilter;r;){(!n||(i=rt.exec(r)))&&(i&&(r=r.slice(i[0].length)||r),l.push(o=[])),n=!1,(i=ct.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(at," ")}),r=r.slice(n.length));for(s in S.filter)!(i=ht[s].exec(r))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),r=r.slice(n.length));if(!n)break}return t?r.length:r?a.error(e):V(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=W++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,s)}:function(t,n,a){var r,l,c,d=j+" "+s;if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(c=t[B]||(t[B]={}),(l=c[i])&&l[0]===d){if((r=l[1])===!0||r===x)return r===!0}else if(l=c[i]=[d],l[1]=e(t,n,a)||x,l[1]===!0)return!0}}function p(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,o){for(var s,a=[],r=0,l=e.length,c=null!=t;l>r;r++)(s=e[r])&&(!n||n(s,i,o))&&(a.push(s),c&&t.push(r));return a}function g(e,t,n,i,s,a){return i&&!i[B]&&(i=g(i)),s&&!s[B]&&(s=g(s,a)),o(function(o,a,r,l){var c,d,u,h=[],f=[],p=a.length,g=o||b(t||"*",r.nodeType?[r]:r,[]),v=!e||!o&&t?g:m(g,h,e,r,l),y=n?s||(o?e:p||i)?[]:a:v;if(n&&n(v,y,r,l),i)for(c=m(y,f),i(c,[],r,l),d=c.length;d--;)(u=c[d])&&(y[f[d]]=!(v[f[d]]=u));if(o){if(s||e){if(s){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(v[d]=u);s(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=s?Z.call(o,u):h[d])>-1&&(o[c]=!(a[c]=u))}}else y=m(y===a?y.splice(p,y.length):y),s?s(null,a,y,l):K.apply(a,y)})}function v(e){for(var t,n,i,o=e.length,s=S.relative[e[0].type],a=s||S.relative[" "],r=s?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return Z.call(t,e)>-1},a,!0),d=[function(e,n,i){return!s&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];o>r;r++)if(n=S.relative[e[r].type])d=[f(p(d),n)];else{if(n=S.filter[e[r].type].apply(null,e[r].matches),n[B]){for(i=++r;o>i&&!S.relative[e[i].type];i++);return g(r>1&&p(d),r>1&&h(e.slice(0,r-1)).replace(at,"$1"),n,i>r&&v(e.slice(r,i)),o>i&&v(e=e.slice(i)),o>i&&h(e))}d.push(n)}return p(d)}function y(e,t){var n=0,i=t.length>0,s=e.length>0,r=function(o,r,l,c,d){var u,h,f,p=[],g=0,v="0",y=o&&[],b=null!=d,w=E,_=o||s&&S.find.TAG("*",d&&r.parentNode||r),C=j+=null==w?1:Math.random()||.1;for(b&&(E=r!==M&&r,x=n);null!=(u=_[v]);v++){if(s&&u){for(h=0;f=e[h++];)if(f(u,r,l)){c.push(u);break}b&&(j=C,x=++n)}i&&((u=!f&&u)&&g--,o&&y.push(u))}if(g+=v,i&&v!==g){for(h=0;f=t[h++];)f(y,p,r,l);if(o){if(g>0)for(;v--;)y[v]||p[v]||(p[v]=J.call(c));p=m(p)}K.apply(c,p),b&&!o&&p.length>0&&g+t.length>1&&a.uniqueSort(c)}return b&&(j=C,E=w),y};return i?o(r):r}function b(e,t,n){for(var i=0,o=t.length;o>i;i++)a(e,t[i],n);return n}function w(e,t,n,i){var o,s,a,r,l,c=u(e);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&9===t.nodeType&&!P&&S.relative[s[1].type]){if(t=S.find.ID(a.matches[0].replace(wt,_t),t)[0],!t)return n;e=e.slice(s.shift().value.length)}for(o=ht.needsContext.test(e)?0:s.length;o--&&(a=s[o],!S.relative[r=a.type]);)if((l=S.find[r])&&(i=l(a.matches[0].replace(wt,_t),ft.test(s[0].type)&&t.parentNode||t))){if(s.splice(o,1),e=i.length&&h(s),!e)return K.apply(n,Q.call(i,0)),n;break}}return D(e,c)(i,t,P,n,ft.test(e)),n}function _(){}var C,x,S,T,k,D,N,E,A,M,I,P,L,R,F,O,H,B="sizzle"+-new Date,$=e.document,z={},j=0,W=0,U=i(),V=i(),q=i(),Y=typeof t,G=1<<31,X=[],J=X.pop,K=X.push,Q=X.slice,Z=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",ot="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",st=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ot.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),rt=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),dt=new RegExp(st),ut=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/[\x20\t\r\n\f]*[+~]/,pt=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,_t=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Q.call($.documentElement.childNodes,0)[0].nodeType}catch(Ct){Q=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}k=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=a.setDocument=function(e){var i=e?e.ownerDocument||e:$;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,I=i.documentElement,P=k(i),z.tagNameNoComments=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),z.attributes=s(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),z.getByClassName=s(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),z.getByName=s(function(e){e.id=B+0,e.innerHTML="<a name='"+B+"'></a><div name='"+B+"'></div>",I.insertBefore(e,I.firstChild);var t=i.getElementsByName&&i.getElementsByName(B).length===2+i.getElementsByName(B+0).length;return z.getIdNotName=!i.getElementById(B),I.removeChild(e),t}),S.attrHandle=s(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==Y&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},z.getIdNotName?(S.find.ID=function(e,t){if(typeof t.getElementById!==Y&&!P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(wt,_t);return function(e){return e.getAttribute("id")===t}}):(S.find.ID=function(e,n){if(typeof n.getElementById!==Y&&!P){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==Y&&i.getAttributeNode("id").value===e?[i]:t:[]}},S.filter.ID=function(e){var t=e.replace(wt,_t);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=z.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},S.find.NAME=z.getByName&&function(e,t){return typeof t.getElementsByName!==Y?t.getElementsByName(name):void 0},S.find.CLASS=z.getByClassName&&function(e,t){return typeof t.getElementsByClassName===Y||P?void 0:t.getElementsByClassName(e)},R=[],L=[":focus"],(z.qsa=n(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||L.push(":checked")}),s(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&L.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(z.matchesSelector=n(F=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(e){z.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),R.push("!=",st)}),L=new RegExp(L.join("|")),R=new RegExp(R.join("|")),O=n(I.contains)||I.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=I.compareDocumentPosition?function(e,t){var n;return e===t?(N=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||O($,e)?-1:t===i||O($,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,o=0,s=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return N=!0,0;if(!s||!a)return e===i?-1:t===i?1:s?-1:a?1:0;if(s===a)return r(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?r(l[o],c[o]):l[o]===$?-1:c[o]===$?1:0},N=!1,[0,0].sort(H),z.detectDuplicates=N,M):M},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&A(e),t=t.replace(bt,"='$1']"),!(!z.matchesSelector||P||R&&R.test(t)||L.test(t)))try{var n=F.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,M,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),O(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==M&&A(e),P||(t=t.toLowerCase()),(n=S.attrHandle[t])?n(e):P||z.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,o=0;if(N=!z.detectDuplicates,e.sort(H),N){for(;t=e[i];i++)t===e[i-1]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return e},T=a.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},S=a.selectors={cacheLength:50,createPseudo:o,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,_t),e[3]=(e[4]||e[5]||"").replace(wt,_t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,_t).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var o=a.attr(i,e);return null==o?"!="===t:t?(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,o){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),r="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,f,p,m=s!==a?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),y=!l&&!r;if(g){if(s){for(;m;){for(u=t;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(d=g[B]||(g[B]={}),c=d[e]||[],f=c[0]===j&&c[1],h=c[0]===j&&c[2],u=f&&g.childNodes[f];u=++f&&u&&u[m]||(h=f=0)||p.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[j,f,h];break}}else if(y&&(c=(t[B]||(t[B]={}))[e])&&c[0]===j)h=c[1];else for(;(u=++f&&u&&u[m]||(h=f=0)||p.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[B]||(u[B]={}))[e]=[j,h]),u!==t)););return h-=o,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[B]?i(t):i.length>1?(n=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var o,s=i(e,t),a=s.length;a--;)o=Z.call(e,s[a]),e[o]=!(n[o]=s[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:o(function(e){var t=[],n=[],i=D(e.replace(at,"$1"));return i[B]?o(function(e,t,n,o){for(var s,a=i(e,null,o,[]),r=e.length;r--;)(s=a[r])&&(e[r]=!(t[r]=s))}):function(e,o,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:o(function(e){return function(t){return a(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:o(function(e){return ut.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(wt,_t).toLowerCase(),function(t){var n;do if(n=P?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[C]=l(C);for(C in{submit:!0,reset:!0})S.pseudos[C]=c(C);D=a.compile=function(e,t){var n,i=[],o=[],s=q[e+" "];if(!s){for(t||(t=u(e)),n=t.length;n--;)s=v(t[n]),s[B]?i.push(s):o.push(s);s=q(e,y(o,i))}return s},S.pseudos.nth=S.pseudos.eq,S.filters=_.prototype=S.pseudos,S.setFilters=new _,A(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(e);var zt=/Until$/,jt=/^(?:parents|prev(?:Until|All))/,Wt=/^.[^:#\[\.,]*$/,Ut=lt.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,o=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;o>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;o>t;t++)lt.find(e,this[t],n);return n=this.pushStack(o>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1))},filter:function(e){return this.pushStack(u(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ut.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,o=this.length,s=[],a=Ut.test(e)||"string"!=typeof e?lt(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}return this.pushStack(s.length>1?lt.unique(s):s)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var o=lt.map(this,t,n);return zt.test(e)||(i=n),i&&"string"==typeof i&&(o=lt.filter(i,o)),o=this.length>1&&!Vt[e]?lt.unique(o):o,this.length>1&&jt.test(e)&&(o=o.reverse()),this.pushStack(o)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var o=[],s=e[n];s&&9!==s.nodeType&&(i===t||1!==s.nodeType||!lt(s).is(i));)1===s.nodeType&&o.push(s),s=s[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Gt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Xt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,sn=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(G),cn=ln.appendChild(G.createElement("div"));rn.optgroup=rn.option,rn.tbody=rn.tfoot=rn.colgroup=rn.caption=rn.thead,rn.th=rn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(b(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Yt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Gt.test(e)||!lt.support.leadingWhitespace&&Xt.test(e)||rn[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var o,s,a,r,l,c,d=0,u=this.length,h=this,g=u-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=u||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(o){var s=h.eq(o);y&&(e[0]=v.call(this,o,n?s.html():t)),s.domManip(e,n,i)});if(u&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),o=c.firstChild,1===c.childNodes.length&&(c=o),o)){for(n=n&&lt.nodeName(o,"tr"),r=lt.map(b(c,"script"),p),a=r.length;u>d;d++)s=c,d!==g&&(s=lt.clone(s,!0,!0),a&&lt.merge(r,b(s,"script"))),i.call(n&&lt.nodeName(this[d],"table")?f(this[d],"tbody"):this[d],s,d);if(a)for(l=r[r.length-1].ownerDocument,lt.map(r,m),d=0;a>d;d++)s=r[d],on.test(s.type||"")&&!lt._data(s,"globalEval")&&lt.contains(l,s)&&(s.src?lt.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((s.text||s.textContent||s.innerHTML||"").replace(an,"")));c=o=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,o=[],s=lt(e),a=s.length-1;a>=i;i++)n=i===a?this:this.clone(!0),lt(s[i])[t](n),nt.apply(o,n.get());return this.pushStack(o)}}),lt.extend({clone:function(e,t,n){var i,o,s,a,r,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(s=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=b(s),r=b(e),a=0;null!=(o=r[a]);++a)i[a]&&y(o,i[a]);if(t)if(n)for(r=r||b(e),i=i||b(s),a=0;null!=(o=r[a]);a++)v(o,i[a]);else v(e,s);return i=b(s,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=r=o=null,s},buildFragment:function(e,t,n,i){for(var o,s,a,r,l,c,d,u=e.length,f=h(t),p=[],m=0;u>m;m++)if(s=e[m],s||0===s)if("object"===lt.type(s))lt.merge(p,s.nodeType?[s]:s);else if(Zt.test(s)){for(r=r||f.appendChild(t.createElement("div")),l=(Kt.exec(s)||["",""])[1].toLowerCase(),d=rn[l]||rn._default,r.innerHTML=d[1]+s.replace(Jt,"<$1></$2>")+d[2],o=d[0];o--;)r=r.lastChild;if(!lt.support.leadingWhitespace&&Xt.test(s)&&p.push(t.createTextNode(Xt.exec(s)[0])),!lt.support.tbody)for(s="table"!==l||Qt.test(s)?"<table>"!==d[1]||Qt.test(s)?0:r:r.firstChild,o=s&&s.childNodes.length;o--;)lt.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(lt.merge(p,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=f.lastChild}else p.push(t.createTextNode(s));for(r&&f.removeChild(r),lt.support.appendChecked||lt.grep(b(p,"input"),w),m=0;s=p[m++];)if((!i||-1===lt.inArray(s,i))&&(a=lt.contains(s.ownerDocument,s),r=b(f.appendChild(s),"script"),a&&g(r),n))for(o=0;s=r[o++];)on.test(s.type||"")&&n.push(s);return r=null,f},cleanData:function(e,t){for(var n,i,o,s,a=0,r=lt.expando,l=lt.cache,c=lt.support.deleteExpando,d=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(o=n[r],s=o&&l[o])){if(s.events)for(i in s.events)d[i]?lt.event.remove(n,i):lt.removeEvent(n,i,s.handle);l[o]&&(delete l[o],c?delete n[r]:typeof n.removeAttribute!==Y?n.removeAttribute(r):n[r]=null,Z.push(o))}}});var dn,un,hn,fn=/alpha\([^)]*\)/i,pn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+ct+")(.*)$","i"),bn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+ct+")","i"),_n={BODY:"block"},Cn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},Sn=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var o,s,a={},r=0;if(lt.isArray(n)){for(s=un(e),o=n.length;o>r;r++)a[n[r]]=lt.css(e,n[r],!1,s);return a}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:C(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,r,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=_(c,l)),r=lt.cssHooks[n]||lt.cssHooks[l],i===t)return r&&"get"in r&&(s=r.get(e,!1,o))!==t?s:c[n];if(a=typeof i,"string"===a&&(s=wn.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(lt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),r&&"set"in r&&(i=r.set(e,i,o))===t)))try{c[n]=i}catch(d){}}},css:function(e,n,i,o){var s,a,r,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=_(e.style,l)),r=lt.cssHooks[n]||lt.cssHooks[l],r&&"get"in r&&(a=r.get(e,!0,i)),a===t&&(a=hn(e,n,o)),"normal"===a&&n in xn&&(a=xn[n]),""===i||i?(s=parseFloat(a),i===!0||lt.isNumeric(s)?s||0:a):a},swap:function(e,t,n,i){var o,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];o=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return o}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var o,s,a,r=i||un(e),l=r?r.getPropertyValue(n)||r[n]:t,c=e.style;return r&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),bn.test(l)&&vn.test(n)&&(o=c.width,s=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=o,c.minWidth=s,c.maxWidth=a)),l}):G.documentElement.currentStyle&&(un=function(e){return e.currentStyle},hn=function(e,n,i){var o,s,a,r=i||un(e),l=r?r[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(o=c.left,s=e.runtimeStyle,a=s&&s.left,a&&(s.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=o,a&&(s.left=a)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,Cn,function(){return k(e,t,i)}):k(e,t,i):void 0},set:function(e,n,i){var o=i&&un(e);return S(e,n,i?T(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o),o):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return pn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(s.replace(fn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=fn.test(s)?s.replace(fn,o):s+" "+o)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+Sn[i]+t]=s[i]||s[i-2]||s[0];return o}},vn.test(e)||(lt.cssHooks[e+t].set=S)});var kn=/%20/g,Dn=/\[\]$/,Nn=/\r?\n/g,En=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&An.test(this.nodeName)&&!En.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Nn,"\r\n")}}):{name:t.name,value:n.replace(Nn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,o=[],s=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){s(this.name,this.value)});else for(i in e)E(i,e[i],n,s);return o.join("&").replace(kn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Mn,In,Pn=lt.now(),Ln=/\?/,Rn=/#.*$/,Fn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,$n=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,jn=lt.fn.load,Wn={},Un={},Vn="*/".concat("*");try{In=X.href}catch(qn){In=G.createElement("a"),In.href="",In=In.href}Mn=zn.exec(In.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&jn)return jn.apply(this,arguments);var o,s,a,r=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),r.length>0&&lt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){s=arguments,r.html(o?lt("<div>").append(lt.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){r.each(i,s||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,o,s){return lt.isFunction(i)&&(s=s||o,o=i,i=t),lt.ajax({url:e,type:n,dataType:s,data:i,success:o})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Hn.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,lt.ajaxSettings),t):I(lt.ajaxSettings,e)},ajaxPrefilter:A(Wn),ajaxTransport:A(Un),ajax:function(e,n){function i(e,n,i,o){var s,u,y,b,_,x=n;2!==w&&(w=2,l&&clearTimeout(l),d=t,r=o||"",C.readyState=e>0?4:0,i&&(b=P(h,C,i)),e>=200&&300>e||304===e?(h.ifModified&&(_=C.getResponseHeader("Last-Modified"),_&&(lt.lastModified[a]=_),_=C.getResponseHeader("etag"),_&&(lt.etag[a]=_)),204===e?(s=!0,x="nocontent"):304===e?(s=!0,x="notmodified"):(s=L(h,b),x=s.state,u=s.data,y=s.error,s=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),C.status=e,C.statusText=(n||x)+"",s?m.resolveWith(f,[u,x,C]):m.rejectWith(f,[C,x,y]),C.statusCode(v),v=t,c&&p.trigger(s?"ajaxSuccess":"ajaxError",[C,h,s?u:y]),g.fireWith(f,[C,x]),c&&(p.trigger("ajaxComplete",[C,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,s,a,r,l,c,d,u,h=lt.ajaxSetup({},n),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?lt(f):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,_="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!u)for(u={};t=On.exec(r);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||_;return d&&d.abort(t),i(0,t),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||In)+"").replace(Rn,"").replace($n,Mn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(dt)||[""],null==h.crossDomain&&(o=zn.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===Mn[1]&&o[2]===Mn[2]&&(o[3]||("http:"===o[1]?80:443))==(Mn[3]||("http:"===Mn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),M(Wn,h,n,C),2===w)return C;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Ln.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Fn.test(a)?a.replace(Fn,"$1_="+Pn++):a+(Ln.test(a)?"&":"?")+"_="+Pn++)),h.ifModified&&(lt.lastModified[a]&&C.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&C.setRequestHeader("If-None-Match",lt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vn+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)C.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(f,C,h)===!1||2===w))return C.abort();_="abort";for(s in{success:1,error:1,complete:1})C[s](h[s]);if(d=M(Un,h,n,C)){C.readyState=1,c&&p.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,d.send(y,i)}catch(x){if(!(2>w))throw x;i(-1,x)}}else i(-1,"No Transport");return C},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=G.head||lt("head")[0]||G.documentElement;return{send:function(t,o){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Yn=[],Gn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||lt.expando+"_"+Pn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,o){var s,a,r,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+s):n.jsonp!==!1&&(n.url+=(Ln.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return r||lt.error(s+" was not called"),r[0]},n.dataTypes[0]="json",a=e[s],e[s]=function(){r=arguments},o.always(function(){e[s]=a,n[s]&&(n.jsonpCallback=i.jsonpCallback,Yn.push(s)),r&&lt.isFunction(a)&&a(r[0]),r=a=t}),"script"):void 0});var Xn,Jn,Kn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Xn)Xn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&R()||F()}:R,Jn=lt.ajaxSettings.xhr(),lt.support.cors=!!Jn&&"withCredentials"in Jn,Jn=lt.support.ajax=!!Jn,Jn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(o,s){var a,r,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(r in n.xhrFields)l[r]=n.xhrFields[r];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(r in o)l.setRequestHeader(r,o[r])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,o){var r,c,d,u;try{if(i&&(o||4===l.readyState))if(i=t,a&&(l.onreadystatechange=lt.noop,Qn&&delete Xn[a]),o)4!==l.readyState&&l.abort();else{u={},r=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(h){d=""}r||!n.isLocal||n.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(f){o||s(-1,f)}u&&s(r,d,u,c)},n.async?4===l.readyState?setTimeout(i):(a=++Kn,Qn&&(Xn||(Xn={},lt(e).unload(Qn)),Xn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,oi=[z],si={"*":[function(e,t){var n,i,o=this.createTween(e,t),s=ni.exec(t),a=o.cur(),r=+a||0,l=1,c=20;if(s){if(n=+s[2],i=s[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&r){r=lt.css(o.elem,e,!0)||n||1;do l=l||".5",r/=l,lt.style(o.elem,e,r+i);while(l!==(l=o.cur()/a)&&1!==l&&--c)}o.unit=i,o.start=r,o.end=s[1]?r+(s[1]+1)*n:n}return o}]};lt.Animation=lt.extend(B,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],si[n]=si[n]||[],si[n].unshift(t)},prefilter:function(e,t){t?oi.unshift(e):oi.push(e)}}),lt.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(lt.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,o)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=lt.isEmptyObject(e),s=lt.speed(t,n,i),a=function(){var t=B(this,lt.extend({},e),s);a.finish=function(){t.stop(!0)},(o||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=lt.timers,a=lt._data(this);if(n)a[n]&&a[n].stop&&o(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&o(a[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],s=lt.timers,a=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=j.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,o={top:0,left:0},s=this[0],a=s&&s.ownerDocument;if(a)return n=a.documentElement,lt.contains(n,s)?(typeof s.getBoundingClientRect!==Y&&(o=s.getBoundingClientRect()),i=U(a),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var o,s,a=lt(e),r=a.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),d=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,u={},h={};d?(h=a.position(),o=h.top,s=h.left):(o=parseFloat(l)||0,s=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,r)),null!=t.top&&(u.top=t.top-r.top+o),null!=t.left&&(u.left=t.left-r.left+s),"using"in t?t.using.call(e,u):a.css(u)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||G.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||G.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(o){return lt.access(this,function(e,o,s){var a=U(e);return s===t?a?n in a?a[n]:a.document.documentElement[o]:e[o]:(a?a.scrollTo(i?lt(a).scrollLeft():s,i?s:lt(a).scrollTop()):e[o]=s,void 0)},e,o,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,o){lt.fn[o]=function(o,s){var a=arguments.length&&(i||"boolean"!=typeof o),r=i||(o===!0||s===!0?"margin":"border");return lt.access(this,function(n,i,o){var s;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):o===t?lt.css(n,i,r):lt.style(n,i,o,r)},n,a?o:t,a,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})})(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var o=e.Event(n);return t.trigger(o,i),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var o,s,a,r,l,c,d,u;if(i.fire(n,"ajax:before")){if(r=n.data("cross-domain"),l=r===t?null:r,c=n.data("with-credentials")||null,d=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),s=n.attr("action"),a=n.serializeArray();var h=n.data("ujs:submit-button");h&&(a.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),a=n.data("params")||null);u={type:o||"GET",data:a,dataType:d,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[e,o])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),s&&(u.url=s);var f=i.ajax(u);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var o=i.href(n),s=n.data("method"),a=n.attr("target"),r=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+s+'" type="hidden" />';l!==t&&r!==t&&(d+='<input name="'+l+'" value="'+r+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),o=!1;return n?(i.fire(e,"confirm")&&(o=i.confirm(n),t=i.fire(e,"confirm:complete",[o])),o&&t):!0},blankInputs:function(t,n,i){var o,s,a=e(),r=n||"input,textarea",l=t.find(r);return l.each(function(){if(o=e(this),s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!s==!i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;a=a.add(o)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var o=n.data("events"),s=!0;return o!==t&&o.submit!==t&&e.each(o.submit,function(e,t){return"function"==typeof t.handler?s=t.handler(i):void 0}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},i.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var o=e(this),s=o.data("method"),a=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||s&&"GET"!==s||a))return!0;var r=i.handleRemote(o);return r===!1?i.enableElement(o):r.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var o=e(this),s=o.data("remote")!==t,a=i.blankInputs(o,i.requiredInputSelector),r=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(a&&o.attr("novalidate")==t&&i.fire(o,"ajax:aborted:required",[a]))return i.stopEverything(n);if(s){if(r){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return!e.support.submitBubbles&&"1.7">e().jquery&&i.callFormSubmitBindings(o,n)===!1?i.stopEverything(n):(i.handleRemote(o),!1)}setTimeout(function(){i.disableFormElements(o)},13)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),/*! jQuery UI - v1.9.2 - 2012-11-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2012 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function n(t,n){var o,s,a,r=t.nodeName.toLowerCase();return"area"===r?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,o,s=e(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(t,!o)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?r["inner"+i].call(this):this.each(function(){e(this).css(a,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(a,o(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var o,s=e.ui[t].prototype;for(o in i)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([n,i[o]])},call:function(e,t,n){var i,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;o.length>i;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0?!0:(t[i]=1,o=t[i]>0,t[i]=0,o)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,o,s,a){return e.ui.isOverAxis(t,i,s)&&e.ui.isOverAxis(n,o,a)}}))}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(s){}o(t)},e.widget=function(t,n,i){var o,s,a,r,l=t.split(".")[0];t=t.split(".")[1],o=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[l]=e[l]||{},s=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new n,r.options=e.widget.extend({},r.options),e.each(i,function(t,o){e.isFunction(o)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=o.apply(this,arguments),this._super=n,this._superApply=s,t}}())}),a.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix:t},i,{constructor:a,namespace:l,widgetName:t,widgetBaseClass:o,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete s._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var o,s,a=i.call(arguments,1),r=0,l=a.length;l>r;r++)for(o in a[r])s=a[r][o],a[r].hasOwnProperty(o)&&s!==t&&(n[o]=e.isPlainObject(s)?e.isPlainObject(n[o])?e.widget.extend({},n[o],s):e.widget.extend({},s):s);return n},e.widget.bridge=function(n,o){var s=o.prototype.widgetFullName||n;e.fn[n]=function(a){var r="string"==typeof a,l=i.call(arguments,1),c=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var i,o=e.data(this,s);return o?e.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,l),i!==o&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,s);t?t.option(a||{})._init():e.data(this,s,new o(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var o,s,a,r=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(r={},o=n.split("."),n=o.shift(),o.length){for(s=r[n]=e.widget.extend({},this.options[n]),a=0;o.length-1>a;a++)s[o[a]]=s[o[a]]||{},s=s[o[a]];if(n=o.pop(),i===t)return s[n]===t?null:s[n];s[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];r[n]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var o,s=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,a){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?o.delegate(d,c,r):n.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var o,s,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(o in s)o in n||(n[o]=s[o]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&i.delay(o.delay),a&&e.effects&&(e.effects.effect[r]||e.uiBackCompat!==!1&&e.effects[r])?i[t](o):r!==t&&i[r]?i[r](o.duration,o.easing,s):i.queue(function(n){e(this)[t](),s&&s.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return o&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var i=this.element[0],o=!1;i&&(i=i.parentNode);)i==document&&(o=!0);if(!o&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment),i=n[0];if(!i)return;n.offset();var o="hidden"!=e(i).css("overflow");this.containment=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(o?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(o?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),s=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName),s=t.pageX,a=t.pageY;if(this.originalPosition){var r;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();r=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else r=this.containment;t.pageX-this.offset.click.left<r[0]&&(s=r[0]+this.offset.click.left),t.pageY-this.offset.click.top<r[1]&&(a=r[1]+this.offset.click.top),t.pageX-this.offset.click.left>r[2]&&(s=r[2]+this.offset.click.left),t.pageY-this.offset.click.top>r[3]&&(a=r[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;a=r?c-this.offset.click.top<r[1]||c-this.offset.click.top>r[3]?c-this.offset.click.top<r[1]?c+n.grid[1]:c-n.grid[1]:c:c;var d=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=r?d-this.offset.click.left<r[0]||d-this.offset.click.left>r[2]?d-this.offset.click.left<r[0]?d+n.grid[0]:d-n.grid[0]:d:d}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("draggable"),o=i.options,s=e.extend({},n,{item:i.element});i.sortables=[],e(o.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var i=e(this).data("draggable"),o=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,n){var i=e(this).data("draggable"),o=this;e.each(i.sortables,function(){var s=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!=a&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),o=e(this).data("draggable").options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n){var i=e(this).data("draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),i=n.options,o=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){for(var i=e(this).data("draggable"),o=i.options,s=o.snapTolerance,a=n.offset.left,r=a+i.helperProportions.width,l=n.offset.top,c=l+i.helperProportions.height,d=i.snapElements.length-1;d>=0;d--){var u=i.snapElements[d].left,h=u+i.snapElements[d].width,f=i.snapElements[d].top,p=f+i.snapElements[d].height;if(a>u-s&&h+s>a&&l>f-s&&p+s>l||a>u-s&&h+s>a&&c>f-s&&p+s>c||r>u-s&&h+s>r&&l>f-s&&p+s>l||r>u-s&&h+s>r&&c>f-s&&p+s>c){if("inner"!=o.snapMode){var m=s>=Math.abs(f-c),g=s>=Math.abs(p-l),v=s>=Math.abs(u-r),y=s>=Math.abs(h-a);m&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top-i.margins.top),g&&(n.position.top=i._convertPositionTo("relative",{top:p,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left-i.margins.left),y&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h}).left-i.margins.left)}var b=m||g||v||y;if("outer"!=o.snapMode){var m=s>=Math.abs(f-l),g=s>=Math.abs(p-c),v=s>=Math.abs(u-a),y=s>=Math.abs(h-r);m&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top-i.margins.top),g&&(n.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top-i.margins.top),v&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left-i.margins.left),y&&(n.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left-i.margins.left)}!i.snapElements[d].snapping&&(m||g||v||y||b)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=m||g||v||y||b}else i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,n=e.makeArray(e(t.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(n.length){var i=parseInt(n[0].style.zIndex)||0;e(n).each(function(e){this.style.zIndex=i+e}),this[0].style.zIndex=i+n.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),o=e(this).data("draggable").options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n){var i=e(this).data("draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;t.length>n;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)
}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]==this.element[0])return!1;var o=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,n,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left,s=o+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,r=a+t.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,d=n.offset.top,u=d+n.proportions.height;switch(i){case"fit":return o>=l&&c>=s&&a>=d&&u>=r;case"intersect":return o+t.helperProportions.width/2>l&&c>s-t.helperProportions.width/2&&a+t.helperProportions.height/2>d&&u>r-t.helperProportions.height/2;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,f=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,p=e.ui.isOver(f,h,d,l,n.proportions.height,n.proportions.width);return p;case"touch":return(a>=d&&u>=a||r>=d&&u>=r||d>a&&r>u)&&(o>=l&&c>=o||s>=l&&c>=s||l>o&&s>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,s=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var a=0;i.length>a;a++)if(!(i[a].options.disabled||t&&!i[a].accept.call(i[a].element[0],t.currentItem||t.element))){for(var r=0;s.length>r;r++)if(s[r]==i[a].element[0]){i[a].proportions.height=0;continue e}i[a].visible="none"!=i[a].element.css("display"),i[a].visible&&("mousedown"==o&&i[a]._activate.call(i[a],n),i[a].offset=i[a].element.offset(),i[a].proportions={width:i[a].element[0].offsetWidth,height:i[a].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i=e.ui.intersect(t,this,this.options.tolerance),o=i||1!=this.isover?i&&0==this.isover?"isover":null:"isout";if(o){var s;if(this.options.greedy){var a=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===a});r.length&&(s=e.data(r[0],"droppable"),s.greedyChild="isover"==o?1:0)}s&&"isover"==o&&(s.isover=0,s.isout=1,s._out.call(s,n)),this[o]=1,this["isout"==o?"isover":"isout"]=0,this["isover"==o?"_over":"_out"].call(this,n),s&&"isout"==o&&(s.isout=0,s.isover=1,s._over.call(s,n))}}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var o=0;i.length>o;o++){var s=e.trim(i[o]),a="ui-resizable-"+s,r=e('<div class="ui-resizable-handle '+a+'"></div>');r.css({zIndex:n.zIndex}),"se"==s&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(r)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=e(this.handles[n],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,o),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var i in this.handles)e(this.handles[i])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var i=this.options,o=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy();var a=t(this.helper.css("left")),r=t(this.helper.css("top"));i.containment&&(a+=e(i.containment).scrollLeft()||0,r+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:r},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:a,top:r},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),s.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var t=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,o=e.pageX-n.left||0,s=e.pageY-n.top||0,a=this._change[i];if(!a)return!1;var r=a.apply(this,[e,o,s]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(r=this._updateRatio(r,e)),r=this._respectSize(r,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(r),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,i=this;if(this._helper){var o=this._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),a=s&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.helper.width()-r,height:i.helper.height()-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(e.extend(l,{top:d,left:c})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,o,s,a,r=this.options;a={minWidth:n(r.minWidth)?r.minWidth:0,maxWidth:n(r.maxWidth)?r.maxWidth:1/0,minHeight:n(r.minHeight)?r.minHeight:0,maxHeight:n(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,o=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),o>a.minHeight&&(a.minHeight=o),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>s&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.options,this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),i=this.size,o=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"==o&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),o=(this._aspectRatio||t.shiftKey,this.axis),s=n(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=n(e.height)&&i.maxHeight&&i.maxHeight<e.height,r=n(e.width)&&i.minWidth&&i.minWidth>e.width,l=n(e.height)&&i.minHeight&&i.minHeight>e.height;r&&(e.width=i.minWidth),l&&(e.height=i.minHeight),s&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,d=this.position.top+this.size.height,u=/sw|nw|w/.test(o),h=/nw|ne|n/.test(o);r&&u&&(e.left=c-i.minWidth),s&&u&&(e.left=c-i.maxWidth),l&&h&&(e.top=d-i.minHeight),a&&h&&(e.top=d-i.maxHeight);var f=!e.width&&!e.height;return f&&!e.left&&e.top?e.top=null:f&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;this._proportionallyResizeElements.length>n;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var o=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],s=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(o,function(e,t){var n=parseInt(e,10)||0,i=parseInt(s[t],10)||0;return n+i})}i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.ui.ie6?1:0,o=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+o,height:this.element.outerHeight()+o,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=(this.options,this.originalSize),i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=(this.options,this.originalSize),o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):e.each(n.alsoResize,function(e){i(e)})},resize:function(t,n){var i=e(this).data("resizable"),o=i.options,s=i.originalSize,a=i.originalPosition,r={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(t,i){e(t).each(function(){var t=e(this),o=e(this).data("resizable-alsoresize"),s={},a=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(o[t]||0)+(r[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("resizable"),i=n.options,o=n._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),a=s&&e.ui.hasScroll(o[0],"left")?0:n.sizeDiff.height,r=s?0:n.sizeDiff.width,l={width:n.size.width-r,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,d=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n=e(this).data("resizable"),i=n.options,o=n.element,s=i.containment,a=s instanceof e?s.get(0):/parent/.test(s)?o.parent().get(0):s;if(a)if(n.containerElement=e(a),/document/.test(s)||s==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var r=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){l[e]=t(r.css("padding"+n))}),n.containerOffset=r.offset(),n.containerPosition=r.position(),n.containerSize={height:r.innerHeight()-l[3],width:r.innerWidth()-l[1]};var c=n.containerOffset,d=n.containerSize.height,u=n.containerSize.width,h=e.ui.hasScroll(a,"left")?a.scrollWidth:u,f=e.ui.hasScroll(a)?a.scrollHeight:d;n.parentData={element:a,left:c.left,top:c.top,width:h,height:f}}},resize:function(t){var n=e(this).data("resizable"),i=n.options,o=(n.containerSize,n.containerOffset),s=(n.size,n.position),a=n._aspectRatio||t.shiftKey,r={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(r=o),s.left<(n._helper?o.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-o.left:n.position.left-r.left),a&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?o.left:0),s.top<(n._helper?o.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-o.top:n.position.top),a&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?o.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper?n.offset.left-r.left:n.offset.left-r.left)+n.sizeDiff.width),d=Math.abs((n._helper?n.offset.top-r.top:n.offset.top-o.top)+n.sizeDiff.height),u=n.containerElement.get(0)==n.element.parent().get(0),h=/relative|absolute/.test(n.containerElement.css("position"));u&&h&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,a&&(n.size.height=n.size.width/n.aspectRatio)),d+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-d,a&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var t=e(this).data("resizable"),n=t.options,i=(t.position,t.containerOffset),o=t.containerPosition,s=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){var n=e(this).data("resizable"),i=n.options,o=n.size,s=n.originalSize,a=n.originalPosition,r=n.axis;i._aspectRatio||t.shiftKey,i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((o.width-s.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((o.height-s.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(r)?(n.size.width=s.width+l,n.size.height=s.height+c):/^(ne)$/.test(r)?(n.size.width=s.width+l,n.size.height=s.height+c,n.position.top=a.top-c):/^(sw)$/.test(r)?(n.size.width=s.width+l,n.size.height=s.height+c,n.position.left=a.left-l):(n.size.width=s.width+l,n.size.height=s.height+c,n.position.top=a.top-c,n.position.left=a.left-l)}});var t=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var i=this.options;this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().andSelf().each(function(){var i=e.data(this,"selectable-item");if(i){var o=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");return i.$element.removeClass(o?"ui-unselecting":"ui-selected").addClass(o?"ui-selecting":"ui-unselecting"),i.unselecting=!o,i.selecting=o,i.selected=o,o?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1}})}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var i=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,r=t.pageY;if(o>a){var l=a;a=o,o=l}if(s>r){var l=r;r=s,s=l}return this.helper.css({left:o,top:s,width:a-o,height:r-s}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==i.tolerance?c=!(l.left>a||o>l.right||l.top>r||s>l.bottom):"fit"==i.tolerance&&(c=l.left>o&&a>l.right&&l.top>s&&r>l.bottom),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var o=null;if(e(t.target).parents().each(function(){return e.data(this,i.widgetName+"-item")==i?(o=e(this),!1):void 0}),e.data(t.target,i.widgetName+"-item")==i&&(o=e(t.target)),!o)return!1;if(this.options.handle&&!n){var s=!1;if(e(this.options.handle,o).find("*").andSelf().each(function(){this==t.target&&(s=!0)}),!s)return!1}return this.currentItem=o,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,i){var o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),i!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var o=this.items.length-1;o>=0;o--){var s=this.items[o],a=s.item[0],r=this._intersectsWithPointer(s);if(r&&s.instance===this.currentContainer&&a!=this.currentItem[0]&&this.placeholder[1==r?"next":"prev"]()[0]!=a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1==r?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,s=e.left,a=s+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,u=i+c>r&&l>i+c&&t+d>s&&a>t+d;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:t+this.helperProportions.width/2>s&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>r&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=n&&i,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return o?this.floating?a&&"right"==a||"down"==s?2:1:s&&("down"==s?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"==s&&i||"left"==s&&!i:o&&("down"==o&&n||"up"==o&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],i=[],o=this._connectWith();if(o&&t)for(var s=o.length-1;s>=0;s--)for(var a=e(o[s]),r=a.length-1;r>=0;r--){var l=e.data(a[r],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=i.length-1;s>=0;s--)i[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready)for(var s=o.length-1;s>=0;s--)for(var a=e(o[s]),r=a.length-1;r>=0;r--){var l=e.data(a[r],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var s=i.length-1;s>=0;s--)for(var c=i[s][1],d=i[s][0],r=0,u=d.length;u>r;r++){var h=e(d[r]);h.data(this.widgetName+"-item",c),n.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;t||(i.width=o.outerWidth(),i.height=o.outerHeight());var s=o.offset();i.left=s.left,i.top=s.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var i=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(n.style.visibility="hidden"),n},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var n=null,i=null,o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(n&&e.contains(this.containers[o].element[0],n.element[0]))continue;n=this.containers[o],i=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",t,this._uiHash(this)),this.containers[o].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else{for(var s=1e4,a=null,r=this.containers[i].floating?"left":"top",l=this.containers[i].floating?"width":"height",c=this.positionAbs[r]+this.offset.click[r],d=this.items.length-1;d>=0;d--)if(e.contains(this.containers[i].element[0],this.items[d].item[0])&&this.items[d].item[0]!=this.currentItem[0]){var u=this.items[d].item.offset()[r],h=!1;Math.abs(u-c)>Math.abs(u+this.items[d][l]-c)&&(h=!0,u+=this.items[d][l]),s>Math.abs(u-c)&&(s=Math.abs(u-c),a=this.items[d],this.direction=h?"up":"down")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],i=e(t.containment).offset(),o="hidden"!=e(n).css("overflow");this.containment=[i.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(o?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(o?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),s=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var s=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var r=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+n.grid[1]:r-n.grid[1]:r:r;var l=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l:l}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o==this.counter&&this.refreshPositions(!i)})},_clear:function(t,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var o in this._storedCSS)("auto"==this._storedCSS[o]||"static"==this._storedCSS[o])&&(this._storedCSS[o]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var o=this.containers.length-1;o>=0;o--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var o=0;i.length>o;o++)i[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var o=0;i.length>o;o++)i[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,i="ui-effects-";e.effects={effect:{}},/*!
 * jQuery Color Animations v2.0.0
 * http://jquery.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Mon Aug 13 13:41:02 2012 -0500
 */
function(t,n){function i(e,t,n){var i=h[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function o(e){var n=d(),i=n._rgba=[];return e=e.toLowerCase(),m(c,function(t,o){var s,a=o.re.exec(e),r=a&&o.parse(a),l=o.space||"rgba";return r?(s=n[l](r),n[u[l].cache]=s[u[l].cache],i=n._rgba=s._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,a.transparent),n):a[e]}function s(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var a,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=d.support={},p=t("<p>")[0],m=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=p.style.backgroundColor.indexOf("rgba")>-1,m(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=t.extend(d.prototype,{parse:function(s,r,l,c){if(s===n)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(r),r=n);var h=this,f=t.type(s),p=this._rgba=[];return r!==n&&(s=[s,r,l,c],f="array"),"string"===f?this.parse(o(s)||a._default):"array"===f?(m(u.rgba.props,function(e,t){p[t.idx]=i(s[t.idx],t)}),this):"object"===f?(s instanceof d?m(u,function(e,t){s[t.cache]&&(h[t.cache]=s[t.cache].slice())}):m(u,function(t,n){var o=n.cache;m(n.props,function(e,t){if(!h[o]&&n.to){if("alpha"===e||null==s[e])return;h[o]=n.to(h._rgba)}h[o][t.idx]=i(s[e],t,!0)}),h[o]&&0>e.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):void 0},is:function(e){var t=d(e),n=!0,i=this;return m(u,function(e,o){var s,a=t[o.cache];return a&&(s=i[o.cache]||o.to&&o.to(i._rgba)||[],m(o.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===s[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return m(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=d(e),o=n._space(),s=u[o],a=0===this.alpha()?d("transparent"):this,r=a[s.cache]||s.to(a._rgba),l=r.slice();return n=n[s.cache],m(s.props,function(e,o){var s=o.idx,a=r[s],c=n[s],d=h[o.type]||{};null!==c&&(null===a?l[s]=c:(d.mod&&(c-a>d.mod/2?a+=d.mod:a-c>d.mod/2&&(a-=d.mod)),l[s]=i((c-a)*t+a,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=d(e)._rgba;return d(t.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,s=e[2]/255,a=e[3],r=Math.max(i,o,s),l=Math.min(i,o,s),c=r-l,d=r+l,u=.5*d;return t=l===r?0:i===r?60*(o-s)/c+360:o===r?60*(s-i)/c+120:60*(i-o)/c+240,n=0===u||1===u?u:.5>=u?c/d:c/(2-d),[Math.round(t)%360,n,u,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,r=2*i-a;return[Math.round(255*s(r,a,t+1/3)),Math.round(255*s(r,a,t)),Math.round(255*s(r,a,t-1/3)),o]},m(u,function(e,o){var s=o.props,a=o.cache,r=o.to,c=o.from;d.fn[e]=function(e){if(r&&!this[a]&&(this[a]=r(this._rgba)),e===n)return this[a].slice();var o,l=t.type(e),u="array"===l||"object"===l?e:arguments,h=this[a].slice();return m(s,function(e,t){var n=u["object"===l?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),c?(o=d(c(h)),o[a]=h,o):d(h)},m(s,function(n,i){d.fn[n]||(d.fn[n]=function(o){var s,a=t.type(o),r="alpha"===n?this._hsla?"hsla":"rgba":e,c=this[r](),d=c[i.idx];return"undefined"===a?d:("function"===a&&(o=o.call(this,d),a=t.type(o)),null==o&&i.empty?this:("string"===a&&(s=l.exec(o),s&&(o=d+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=o,this[r](c)))})})}),m(r,function(e,n){t.cssHooks[n]={set:function(e,i){var s,a,r="";if("string"!==t.type(i)||(s=o(i))){if(i=d(s||i),!f.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}i=i.blend(r&&"transparent"!==r?r:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(c){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=d(e.elem,n),e.end=d(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(){var t,n,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)t=i[n],"string"==typeof i[t]&&(o[e.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}function i(t,n){var i,o,a={};for(i in n)o=n[i],t[i]!==o&&(s[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,n,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,s,a,r){var l=e.speed(s,a,r);return this.queue(function(){var s,a=e(this),r=a.attr("class")||"",c=l.children?a.find("*").andSelf():a;c=c.map(function(){var t=e(this);return{el:t,start:n.call(this)}}),s=function(){e.each(o,function(e,n){t[n]&&a[n+"Class"](t[n])})},s(),c=c.map(function(){return this.end=n.call(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),c=c.map(function(){var t=this,n=e.Deferred(),i=jQuery.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,i,o){return n?e.effects.animateClass.call(this,{add:t},n,i,o):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,i,o){return n?e.effects.animateClass.call(this,{remove:t},n,i,o):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,i,o,s,a){return"boolean"==typeof i||i===t?o?e.effects.animateClass.call(this,i?{add:n}:{remove:n},o,s,a):this._toggleClass(n,i):e.effects.animateClass.call(this,{toggle:n},i,o,s)},switchClass:function(t,n,i,o,s){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,s)}})}(),function(){function o(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function s(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:n&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var o,s;for(s=0;n.length>s;s++)null!==n[s]&&(o=e.data(i+n[s]),o===t&&(o=""),e.css(n[s],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(a){s=document.body}return t.wrap(i),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,o){return o=o||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(o[n]=s[0]*i+s[1])}),o}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(s)&&s.call(o[0]),e.isFunction(t)&&t()}var o=e(this),s=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?n():r.call(o[0],i,n)}var i=o.apply(this,arguments),s=i.mode,a=i.queue,r=e.effects.effect[i.effect],l=!r&&n&&e.effects[i.effect];return e.fx.off||!r&&!l?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):r?a===!1?this.each(t):this.queue(a||"fx",t):l.call(this,{options:i,duration:i.duration,callback:i.complete,mode:i.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=o.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=o.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}()}(jQuery),function(e){var t=0,n={},i={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var n=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t),i=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),i.collapsible||i.active!==!1&&null!=i.active||(i.active=0),0>i.active&&(i.active+=this.headers.length),this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var i=e(this),o=i.attr("id"),s=i.next(),a=s.attr("id");o||(o=n+"-header-"+t,i.attr("id",o)),a||(a=n+"-panel-"+t,s.attr("id",a)),i.attr("aria-controls",a),s.attr("aria-labelledby",o)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(i.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(o+1)%i];break;case n.LEFT:case n.UP:s=this.headers[(o-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[i-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,n,i=this.options.heightStyle,o=this.element.parent();"fill"===i?(e.support.minHeight||(n=o.css("overflow"),o.css("overflow","hidden")),t=o.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),n&&o.css("overflow",n),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={};t&&(e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._on(this.headers,n))},_eventHandler:function(t){var n=this.options,i=this.active,o=e(t.currentTarget),s=o[0]===i[0],a=s&&n.collapsible,r=a?e():o.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:a?e():o,newPanel:r};t.preventDefault(),s&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=a?!1:this.headers.index(o),this.active=s?e():o,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&o.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,o){var s,a,r,l=this,c=0,d=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=d&&u.down||u,f=function(){l._toggleComplete(o)};return"number"==typeof h&&(r=h),"string"==typeof h&&(a=h),a=a||h.easing||u.easing,r=r||h.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(n,{duration:r,easing:a,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(i,{duration:r,easing:a,complete:f,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?c+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(s-t.outerHeight()-c),c=0)}}),void 0):t.animate(n,r,a,f):e.animate(i,r,a,f)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.uiBackCompat!==!1&&(function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var n=t._create;t._create=function(){if(this.options.navigation){var t=this,i=this.element.find(this.options.header),o=i.next(),s=i.add(o).find("a").filter(this.options.navigationFilter)[0];s&&i.add(o).each(function(n){return e.contains(this,s)?(t.options.active=Math.floor(n/2),!1):void 0})}n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=t._create,i=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(e){("autoHeight"===e||"clearStyle"===e||"fillSpace"===e)&&(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var n=t._findActive;t._findActive=function(e){return-1===e&&(e=!1),e&&"number"!=typeof e&&(e=this.headers.index(this.headers.filter(e)),-1===e&&(e=!1)),n.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var n=t._trigger;t._trigger=function(e,t,i){var o=n.apply(this,arguments);return o?("beforeActivate"===e?o=n.call(this,"changestart",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel}):"activate"===e&&(o=n.call(this,"change",t,{oldHeader:i.oldHeader,oldContent:i.oldPanel,newHeader:i.newHeader,newContent:i.newPanel})),o):!1}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var n=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animate=e.animated?"slide"===e.animated?300:"bounceslide"===e.animated?{duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animated:!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,i=!0,n=!0,void 0;t=!1,i=!1,n=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(t)return t=!1,i.preventDefault(),void 0;if(!n){var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(i){n===t&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,n,i,o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,o=e([]);return n&&(o=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,d="checkbox"===this.type||"radio"===this.type,u=d?"":"ui-state-active",h="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||e(this).removeClass(u)}).bind("click"+this.eventNamespace,function(e){r.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(h)}),d&&(this.element.bind("change"+this.eventNamespace,function(){o||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){r.disabled||(o=!1,n=e.pageX,i=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){r.disabled||(n!==e.pageX||i!==e.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||o?!1:(e(this).toggleClass("ui-state-active"),a.buttonElement.attr("aria-pressed",a.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;
e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var t=a.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(e(this).addClass("ui-state-active"),t=this,a.document.one("mouseup",function(){t=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return r.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(r),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,o=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)(null==t[n]||t[n]==undefined)&&(e[n]=t[n]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),i=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[i?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var o=this._get(t,"showOn");if(("focus"==o||"both"==o)&&e.focus(this._showDatepicker),"button"==o||"both"==o){var s=this._get(t,"buttonText"),a=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==a?s:$("<img/>").attr({src:a,alt:s,title:s}))),e[i?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var i=function(e){for(var t=0,n=0,i=0;e.length>i;i++)e[i].length>t&&(t=e[i].length,n=i);return n};t.setMonth(i(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(i(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,i){t.settings[n]=i}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,o){var s=this._dialogInst;if(!s){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+a+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}if(extendRemove(s.settings,i||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var r=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[r/2-100+c,l/2-150+d]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==i||"span"==i)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var o=t.children("."+this._inlineClass);o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var o=t.children("."+this._inlineClass);o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):i?"all"==t?$.extend({},i.settings):this._get(i,t):null;var o=t||{};if("string"==typeof t&&(o={},o[t]=n),i){this._curInst==i&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(i,"min"),r=this._getMinMaxDate(i,"max");extendRemove(i.settings,o),null!==a&&o.dateFormat!==undefined&&o.minDate===undefined&&(i.settings.minDate=this._formatDate(i,a)),null!==r&&o.dateFormat!==undefined&&o.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,r)),this._attachments($(e),i),this._autoSize(i),this._setDate(i,s),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,i=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var o=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);o[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,o[0]);var s=$.datepicker._get(t,"onSelect");if(s){var a=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[a,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,i?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),i=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(i){$.datepicker.log(i)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),i=n?n.apply(e,[e,t]):{};if(i!==!1){extendRemove(t.settings,i),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var o=!1;$(e).parents().each(function(){return o|="fixed"==$(this).css("position"),!o});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,o),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),!t.inline){var a=$.datepicker._get(t,"showAnim"),r=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[a]||$.effects[a])?t.dpDiv.show(a,$.datepicker._get(t,"showOptions"),r,l):t.dpDiv[a||"show"](a?r:null,l),a&&r||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(e),o=i[1],s=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var a=e.yearshtml;setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,r=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+a?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>r&&r>i?Math.abs(t.left+i-r):0),t.top-=Math.min(t.top,t.top+o>l&&l>o?Math.abs(o+a):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];var i=$(e).offset();return[i.left,i.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),i=this._get(t,"duration"),o=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),i,o):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=$(e),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,t+("M"==n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var i=$(e),o=this._getInst(i[0]);o["selected"+("M"==n?"Month":"Year")]=o["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(e,t,n,i){var o=$(e);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])){var s=this._getInst(o[0]);s.selectedDay=s.currentDay=$("a",i).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),i=this._getInst(n[0]);t=null!=t?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i);var o=this._get(i,"onSelect");o?o.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),o=this.formatDate(n,i,this._getFormatConfig(e));$(t).each(function(){$(this).val(o)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var i=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;i="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10);for(var o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,r=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,d=-1,u=-1,h=!1,f=function(t){var n=e.length>y+1&&e.charAt(y+1)==t;return n&&y++,n},p=function(e){var n=f(e),i="@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2,o=new RegExp("^\\d{1,"+i+"}"),s=t.substring(v).match(o);if(!s)throw"Missing number at position "+v;return v+=s[0].length,parseInt(s[0],10)},m=function(e,n,i){var o=$.map(f(e)?i:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),s=-1;if($.each(o,function(e,n){var i=n[1];return t.substr(v,i.length).toLowerCase()==i.toLowerCase()?(s=n[0],v+=i.length,!1):void 0}),-1!=s)return s+1;throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;e.length>y;y++)if(h)"'"!=e.charAt(y)||f("'")?g():h=!1;else switch(e.charAt(y)){case"d":d=p("d");break;case"D":m("D",o,s);break;case"o":u=p("o");break;case"m":c=p("m");break;case"M":c=m("M",a,r);break;case"y":l=p("y");break;case"@":var b=new Date(p("@"));l=b.getFullYear(),c=b.getMonth()+1,d=b.getDate();break;case"!":var b=new Date((p("!")-this._ticksTo1970)/1e4);l=b.getFullYear(),c=b.getMonth()+1,d=b.getDate();break;case"'":f("'")?g():h=!0;break;default:g()}if(t.length>v){var w=t.substr(v);if(!/^\s+/.test(w))throw"Extra/unparsed characters found in date: "+w}if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i>=l?0:-100)),u>-1)for(c=1,d=u;;){var _=this._getDaysInMonth(l,c-1);if(_>=d)break;c++,d-=_}var b=this._daylightSavingAdjust(new Date(l,c-1,d));if(b.getFullYear()!=l||b.getMonth()+1!=c||b.getDate()!=d)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,r=function(t){var n=e.length>h+1&&e.charAt(h+1)==t;return n&&h++,n},l=function(e,t,n){var i=""+t;if(r(e))for(;n>i.length;)i="0"+i;return i},c=function(e,t,n,i){return r(e)?i[t]:n[t]},d="",u=!1;if(t)for(var h=0;e.length>h;h++)if(u)"'"!=e.charAt(h)||r("'")?d+=e.charAt(h):u=!1;else switch(e.charAt(h)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),i,o);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),s,a);break;case"y":d+=r("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?d+="'":u=!0;break;default:d+=e.charAt(h)}return d},_possibleChars:function(e){for(var t="",n=!1,i=function(t){var n=e.length>o+1&&e.charAt(o+1)==t;return n&&o++,n},o=0;e.length>o;o++)if(n)"'"!=e.charAt(o)||i("'")?t+=e.charAt(o):n=!1;else switch(e.charAt(o)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":n=!0;break;default:t+=e.charAt(o)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,i,o=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null;n=i=this._getDefaultDate(e);var a=this._getFormatConfig(e);try{n=this.parseDate(o,s,a)||i}catch(r){this.log(r),s=t?"":s}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=s?n.getDate():0,e.currentMonth=s?n.getMonth():0,e.currentYear=s?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}for(var i=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,o=i.getFullYear(),s=i.getMonth(),a=i.getDate(),r=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(t);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(l[1],10),a=Math.min(a,$.datepicker._getDaysInMonth(o,s))}l=r.exec(t)}return new Date(o,s,a)},s=null==t||""===t?n:"string"==typeof t?o(t):"number"==typeof t?isNaN(t)?n:i(t):new Date(t.getTime());return s=s&&"Invalid Date"==s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),o==e.selectedMonth&&s==e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),i=this._get(e,"showButtonPanel"),o=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),a=this._getNumberOfMonths(e),r=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=a[0]||1!=a[1],d=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),f=e.drawMonth-r,p=e.drawYear;if(0>f&&(f+=12,p--),h){var m=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-a[0]*a[1]+1,h.getDate()));
for(m=u&&u>m?u:m;this._daylightSavingAdjust(new Date(p,f,1))>m;)f--,0>f&&(f=11,p--)}e.drawMonth=f,e.drawYear=p;var g=this._get(e,"prevText");g=s?this.formatDate(g,this._daylightSavingAdjust(new Date(p,f-l,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,p,f)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+g+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+g+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(p,f+l,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,p,f)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),_=this._get(e,"gotoCurrent")&&e.currentDay?d:t;w=s?this.formatDate(w,_,this._getFormatConfig(e)):w;var C=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?C:"")+(this._isInRange(e,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":C)+"</div>":"",S=parseInt(this._get(e,"firstDay"),10);S=isNaN(S)?0:S;var T=this._get(e,"showWeek"),k=this._get(e,"dayNames");this._get(e,"dayNamesShort");var D=this._get(e,"dayNamesMin"),N=this._get(e,"monthNames"),E=this._get(e,"monthNamesShort"),A=this._get(e,"beforeShowDay"),M=this._get(e,"showOtherMonths"),I=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek")||this.iso8601Week;for(var P=this._getDefaultDate(e),L="",R=0;a[0]>R;R++){var F="";this.maxRows=4;for(var O=0;a[1]>O;O++){var H=this._daylightSavingAdjust(new Date(p,f,e.selectedDay)),B=" ui-corner-all",z="";if(c){if(z+='<div class="ui-datepicker-group',a[1]>1)switch(O){case 0:z+=" ui-datepicker-group-first",B=" ui-corner-"+(n?"right":"left");break;case a[1]-1:z+=" ui-datepicker-group-last",B=" ui-corner-"+(n?"left":"right");break;default:z+=" ui-datepicker-group-middle",B=""}z+='">'}z+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+B+'">'+(/all|left/.test(B)&&0==R?n?b:v:"")+(/all|right/.test(B)&&0==R?n?v:b:"")+this._generateMonthYearHeader(e,f,p,u,h,R>0||O>0,N,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var j=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",W=0;7>W;W++){var U=(W+S)%7;j+="<th"+((W+S+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+k[U]+'">'+D[U]+"</span></th>"}z+=j+"</tr></thead><tbody>";var V=this._getDaysInMonth(p,f);p==e.selectedYear&&f==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var q=(this._getFirstDayOfMonth(p,f)-S+7)%7,Y=Math.ceil((q+V)/7),G=c?this.maxRows>Y?this.maxRows:Y:Y;this.maxRows=G;for(var X=this._daylightSavingAdjust(new Date(p,f,1-q)),J=0;G>J;J++){z+="<tr>";for(var K=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(X)+"</td>":"",W=0;7>W;W++){var Q=A?A.apply(e.input?e.input[0]:null,[X]):[!0,""],Z=X.getMonth()!=f,et=Z&&!I||!Q[0]||u&&u>X||h&&X>h;K+='<td class="'+((W+S+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(X.getTime()==H.getTime()&&f==e.selectedMonth&&e._keyEvent||P.getTime()==X.getTime()&&P.getTime()==H.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!M?"":" "+Q[1]+(X.getTime()==d.getTime()?" "+this._currentClass:"")+(X.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!M||!Q[2]?"":' title="'+Q[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+X.getMonth()+'" data-year="'+X.getFullYear()+'"')+">"+(Z&&!M?"&#xa0;":et?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==t.getTime()?" ui-state-highlight":"")+(X.getTime()==d.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}z+=K+"</tr>"}f++,f>11&&(f=0,p++),z+="</tbody></table>"+(c?"</div>"+(a[0]>0&&O==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=z}L+=F}return L+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,L},_generateMonthYearHeader:function(e,t,n,i,o,s,a,r){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),d=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',h="";if(s||!l)h+='<span class="ui-datepicker-month">'+a[t]+"</span>";else{var f=i&&i.getFullYear()==n,p=o&&o.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var m=0;12>m;m++)(!f||m>=i.getMonth())&&(!p||o.getMonth()>=m)&&(h+='<option value="'+m+'"'+(m==t?' selected="selected"':"")+">"+r[m]+"</option>");h+="</select>"}if(d||(u+=h+(!s&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!c)u+='<span class="ui-datepicker-year">'+n+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},b=y(g[0]),w=Math.max(b,y(g[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,w=o?Math.min(w,o.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';w>=b;b++)e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";e.yearshtml+="</select>",u+=e.yearshtml,e.yearshtml=null}return u+=this._get(e,"yearSuffix"),d&&(u+=(!s&&l&&c?"":"&#xa0;")+h),u+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"==n?t:0),o=e.drawMonth+("M"==n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"==n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),o=n&&n>t?n:t;return o=i&&o>i?i:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,i+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!i||t.getTime()<=i.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,i,o,s,a,r=this,l=this.options,c=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(n+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(r.close(t),t.preventDefault())}).mousedown(function(e){r.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),i=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){t.focus()}).prependTo(t),o=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),r.close(e)}).appendTo(i),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(o),s=e("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(i),a=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(a),t.attr({role:"dialog","aria-labelledby":s.attr("id")}),i.find("*").add(i).disableSelection(),this._hoverable(o),this._focusable(o),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(n){if(l.modal&&n.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",t),o=i.filter(":first"),s=i.filter(":last");return n.target!==s[0]||n.shiftKey?n.target===o[0]&&n.shiftKey?(s.focus(1),!1):void 0:(o.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var n,i,o=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){o._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(n=0,e(".ui-dialog").each(function(){this!==o.uiDialog[0]&&(i=e(this).css("z-index"),isNaN(i)||(n=Math.max(n,i)))}),e.ui.dialog.maxZ=n),this},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var i,o=this.options;return o.modal&&!t||!o.stack&&!o.modal?this._trigger("focus",n):(o.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=o.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),i={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(i),this._trigger("focus",n),this)},open:function(){if(!this._isOpen){var t,n=this.options,i=this.uiDialog;return this._size(),this._position(n.position),i.show(n.show),this.overlay=n.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=i)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var n=this,i=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(i=!0)}),i?(e.each(t,function(t,i){var o,s;i=e.isFunction(i)?{click:i,text:t}:i,i=e.extend({type:"button"},i),s=i.click,i.click=function(){s.apply(n.element[0],arguments)},o=e("<button></button>",i).appendTo(n.uiButtonSet),e.fn.button&&o.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,o){e(this).addClass("ui-dialog-dragging"),n._trigger("dragStart",i,t(o))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(o,s){i.position=[s.position.left-n.document.scrollLeft(),s.position.top-n.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),n._trigger("dragStop",o,t(s)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var o=this,s=this.options,a=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:r,start:function(t,n){e(this).addClass("ui-dialog-resizing"),o._trigger("resizeStart",t,i(n))},resize:function(e,t){o._trigger("resize",e,i(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),s.height=e(this).height(),s.width=e(this).width(),o._trigger("resizeStop",t,i(n)),e.ui.dialog.overlay.resize()}}).css("position",a).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,i=[],o=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(o[e]=i[e],i[e]=t)}),t={my:i[0]+(0>o[0]?o[0]:"+"+o[0])+" "+i[1]+(0>o[1]?o[1]:"+"+o[1]),at:i.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.position(t),n||this.uiDialog.hide()},_setOptions:function(t){var n=this,s={},a=!1;e.each(t,function(e,t){n._setOption(e,t),e in i&&(a=!0),e in o&&(s[e]=t)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,i){var o,s,a=this.uiDialog;switch(t){case"buttons":this._createButtons(i);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":a.removeClass(this.options.dialogClass).addClass(n+i);break;case"disabled":i?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":o=a.is(":data(draggable)"),o&&!i&&a.draggable("destroy"),!o&&i&&this._makeDraggable();break;case"position":this._position(i);break;case"resizable":s=a.is(":data(resizable)"),s&&!i&&a.resizable("destroy"),s&&"string"==typeof i&&a.resizable("option","handles",i),s||i===!1||this._makeResizable(i);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(i||"&#160;"))}this._super(t,i)},_size:function(){var t,n,i,o=this.options,s=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),o.minWidth>o.width&&(o.width=o.minWidth),t=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),n=Math.max(0,o.minHeight-t),"auto"===o.height?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),i=this.element.css("height","auto").height(),s||this.uiDialog.hide(),this.element.height(Math.max(i,n))):this.element.height(Math.max(o.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:void 0})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(i){var o=e.ui.dialog.overlay.instances;0!==o.length&&o[o.length-1]===n&&t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances),i=0;-1!==n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){i=Math.max(i,this.css("z-index"))}),this.maxZ=i},height:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),n>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),n>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){var t=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,o){var s,a,r,l=e(this),c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(l,i.mode||"hide"),u=i.direction||"up",h=t.test(u),f=h?"height":"width",p=h?"top":"left",m=n.test(u),g={},v="show"===d;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),s=e.effects.createWrapper(l).css({overflow:"hidden"}),a=s[f](),r=parseFloat(s.css(p))||0,g[f]=v?a:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[p]=v?r:a+r),v&&(s.css(f,0),m||s.css(p,r+a)),s.animate(g,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===d&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),o()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,n){var i,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",h=t.distance,f=t.times||5,p=2*f+(d||c?1:0),m=t.duration/p,g=t.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,b=a.queue(),w=b.length;for((d||c)&&r.push("opacity"),e.effects.save(a,r),a.show(),e.effects.createWrapper(a),h||(h=a["top"===v?"outerHeight":"outerWidth"]()/3),d&&(s={opacity:1},s[v]=0,a.css("opacity",0).css(v,y?2*-h:2*h).animate(s,m,g)),c&&(h/=Math.pow(2,f-1)),s={},s[v]=0,i=0;f>i;i++)o={},o[v]=(y?"-=":"+=")+h,a.animate(o,m,g).animate(s,m,g),h=c?2*h:h/2;c&&(o={opacity:0},o[v]=(y?"-=":"+=")+h,a.animate(o,m,g)),a.queue(function(){c&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),a.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,n){var i,o,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),c="show"===l,d=t.direction||"vertical",u="vertical"===d,h=u?"height":"width",f=u?"top":"left",p={};e.effects.save(a,r),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?i:a,s=o[h](),c&&(o.css(h,0),o.css(f,s/2)),p[h]=c?s:0,p[f]=c?0:s/2,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),n()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,n){var i,o=e(this),s=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(o,t.mode||"hide"),r="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};e.effects.save(o,s),o.show(),e.effects.createWrapper(o),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&o.css("opacity",0).css(c,"pos"===d?-i:i),u[c]=(r?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+i,o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,n){function i(){b.push(this),b.length===u*h&&o()}function o(){f.css({visibility:"visible"}),e(b).remove(),m||f.hide(),n()}var s,a,r,l,c,d,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=u,f=e(this),p=e.effects.setMode(f,t.mode||"hide"),m="show"===p,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/h),y=Math.ceil(f.outerHeight()/u),b=[];for(s=0;u>s;s++)for(l=g.top+s*y,d=s-(u-1)/2,a=0;h>a;a++)r=g.left+a*v,c=a-(h-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?c*v:0),top:l+(m?d*y:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:d*y),opacity:m?1:0},t.duration||500,t.easing,i)}}(jQuery),function(e){e.effects.effect.fade=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}}(jQuery),function(e){e.effects.effect.fold=function(t,n){var i,o,s=e(this),a=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"hide"),l="show"===r,c="hide"===r,d=t.size||15,u=/([0-9]+)%/.exec(d),h=!!t.horizFirst,f=l!==h,p=f?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,a),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),o=f?[i.width(),i.height()]:[i.height(),i.width()],u&&(d=parseInt(u[1],10)/100*o[c?0:1]),l&&i.css(h?{height:0,width:d}:{height:d,width:0}),g[p[0]]=l?o[0]:d,v[p[1]]=l?o[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),n()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,n){var i=e(this),o=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===s&&(a.opacity=0),e.effects.save(i,o),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,o),n()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,n){var i,o=e(this),s=e.effects.setMode(o,t.mode||"show"),a="show"===s,r="hide"===s,l=a||"hide"===s,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,h=o.queue(),f=h.length;for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),u=1),i=1;c>i;i++)o.animate({opacity:u},d,t.easing),u=1-u;o.animate({opacity:u},d,t.easing),o.queue(function(){r&&o.hide(),n()}),f>1&&h.splice.apply(h,[1,0].concat(h.splice(f,c+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,n){var i=e(this),o=e.effects.setMode(i,t.mode||"hide"),s="hide"===o,a=parseInt(t.percent,10)||150,r=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:n,percent:s?a:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),i.effect(t)},e.effects.effect.scale=function(t,n){var i=e(this),o=e.extend(!0,{},t),s=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};o.effect="size",o.queue=!1,o.complete=n,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),i.effect(o)},e.effects.effect.size=function(t,n){var i,o,s,a=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==f,m=t.scale||"both",g=t.origin||["middle","center"],v=a.css("position"),y=p?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===f?(a.from=t.to||b,a.to=t.from||i):(a.from=t.from||("show"===f?b:i),a.to=t.to||("hide"===f?b:i)),s={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(y=y.concat(u),a.from=e.effects.setTransition(a,u,s.from.y,a.from),a.to=e.effects.setTransition(a,u,s.to.y,a.to)),s.from.x!==s.to.x&&(y=y.concat(h),a.from=e.effects.setTransition(a,h,s.from.x,a.from),a.to=e.effects.setTransition(a,h,s.to.x,a.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(y=y.concat(d).concat(c),a.from=e.effects.setTransition(a,d,s.from.y,a.from),a.to=e.effects.setTransition(a,d,s.to.y,a.to)),e.effects.save(a,y),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(o=e.effects.getBaseline(g,i),a.from.top=(i.outerHeight-a.outerHeight())*o.y,a.from.left=(i.outerWidth-a.outerWidth())*o.x,a.to.top=(i.outerHeight-a.to.outerHeight)*o.y,a.to.left=(i.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(d),h=h.concat(["marginLeft","marginRight"]),c=r.concat(u).concat(h),a.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&e.effects.save(n,c),n.from={height:i.height*s.from.y,width:i.width*s.from.x,outerHeight:i.outerHeight*s.from.y,outerWidth:i.outerWidth*s.from.x},n.to={height:i.height*s.to.y,width:i.width*s.to.x,outerHeight:i.height*s.to.y,outerWidth:i.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,u,s.from.y,n.from),n.to=e.effects.setTransition(n,u,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){p&&e.effects.restore(n,c)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===f&&a.hide(),e.effects.restore(a,y),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,n){var i=parseInt(n,10),o=e?a.to.left:a.to.top;return"auto"===n?o+"px":i+o+"px"})})),e.effects.removeWrapper(a),n()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,n){var i,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),h="up"===r||"down"===r?"top":"left",f="up"===r||"left"===r,p={},m={},g={},v=o.queue(),y=v.length;for(e.effects.save(o,s),o.show(),e.effects.createWrapper(o),p[h]=(f?"-=":"+=")+l,m[h]=(f?"+=":"-=")+2*l,g[h]=(f?"-=":"+=")+2*l,o.animate(p,u,t.easing),i=1;c>i;i++)o.animate(m,u,t.easing).animate(g,u,t.easing);o.animate(m,u,t.easing).animate(p,u/2,t.easing).queue(function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,d+1))),o.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,n){var i,o=e(this),s=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(o,t.mode||"show"),r="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(o,s),o.show(),i=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),r&&o.css(c,d?isNaN(i)?"-"+i:-i:i),u[c]=(r?d?"+=":"-=":d?"-=":"+=")+i,o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),n()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,n){var i=e(this),o=e(t.to),s="fixed"===o.css("position"),a=e("body"),r=s?a.scrollTop():0,l=s?a.scrollLeft():0,c=o.offset(),d={top:c.top-r,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},u=i.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:u.top-r,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){h.remove(),n()})}}(jQuery),function(e){var t=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()
},"click .ui-menu-item:has(a)":function(n){var i=e(n.target).closest(".ui-menu-item");!t&&i.not(".ui-state-disabled").length&&(t=!0,this.select(n),i.has(".ui-menu").length?this.expand(n):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(n){e(n.target).closest(".ui-menu").length||this.collapseAll(n),t=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,o,s,a,r,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),s===o?a=!0:s=o+s,r=new RegExp("^"+n(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(t.keyCode),r=new RegExp("^"+n(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,o,s,a,r;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=t.height(),0>o?this.activeMenu.scrollTop(s+o):o+r>a&&this.activeMenu.scrollTop(s+o-a+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,o;return this.active?(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-i-o}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,i,o;return this.active?(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+o>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,r=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+%?/,u=/^\w+/,h=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),n=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=s[0].clientWidth),s.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,h,p,m,g,v=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=v[0],_=(t.collision||"flip").split(" "),C={};return 9===w.nodeType?(h=v.width(),p=v.height(),m={top:0,left:0}):e.isWindow(w)?(h=v.width(),p=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):w.preventDefault?(t.at="left top",h=p=0,m={top:w.pageY,left:w.pageX}):(h=v.outerWidth(),p=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),C[this]=[e?e[0]:0,n?n[0]:0],t[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?g.left+=h:"center"===t.at[0]&&(g.left+=h/2),"bottom"===t.at[1]?g.top+=p:"center"===t.at[1]&&(g.top+=p/2),o=n(C.at,h,p),g.left+=o[0],g.top+=o[1],this.each(function(){var l,c,d=e(this),u=d.outerWidth(),f=d.outerHeight(),w=i(this,"marginLeft"),x=i(this,"marginTop"),S=u+w+i(this,"marginRight")+b.width,T=f+x+i(this,"marginBottom")+b.height,k=e.extend({},g),D=n(C.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?k.left-=u:"center"===t.my[0]&&(k.left-=u/2),"bottom"===t.my[1]?k.top-=f:"center"===t.my[1]&&(k.top-=f/2),k.left+=D[0],k.top+=D[1],e.support.offsetFractions||(k.left=r(k.left),k.top=r(k.top)),l={marginLeft:w,marginTop:x},e.each(["left","top"],function(n,i){e.ui.position[_[n]]&&e.ui.position[_[n]][i](k,{targetWidth:h,targetHeight:p,elemWidth:u,elemHeight:f,collisionPosition:l,collisionWidth:S,collisionHeight:T,offset:[o[0]+D[0],o[1]+D[1]],my:t.my,at:t.at,within:y,elem:d})}),e.fn.bgiframe&&d.bgiframe(),t.using&&(c=function(e){var n=m.left-k.left,i=n+h-u,o=m.top-k.top,r=o+p-f,l={target:{element:v,left:m.left,top:m.top,width:h,height:p},element:{element:d,left:k.left,top:k.top,width:u,height:f},horizontal:0>i?"left":n>0?"right":"center",vertical:0>r?"top":o>0?"bottom":"middle"};u>h&&h>a(n+i)&&(l.horizontal="center"),f>p&&p>a(o+r)&&(l.vertical="middle"),l.important=s(a(n),a(i))>s(a(o),a(r))?"horizontal":"vertical",t.using.call(this,e,l)}),d.offset(e.extend(k,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,r=e.left-t.collisionPosition.marginLeft,l=o-r,c=r+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&0>=c?(n=e.left+l+t.collisionWidth-a-o,e.left+=l-n):e.left=c>0&&0>=l?o:l>c?o+a-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-r,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,l=o-r,c=r+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&0>=c?(n=e.top+l+t.collisionHeight-a-o,e.top+=l-n):e.top=c>0&&0>=l?o:l>c?o+a-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-r,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>d?(n=e.left+h+f+p+t.collisionWidth-r-s,(0>n||a(d)>n)&&(e.left+=h+f+p)):u>0&&(i=e.left-t.collisionPosition.marginLeft+h+f+p-l,(i>0||u>a(i))&&(e.left+=h+f+p))},top:function(e,t){var n,i,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-r-l,h="top"===t.my[1],f=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>d?(i=e.top+f+p+m+t.collisionHeight-r-s,e.top+f+p+m>d&&(0>i||a(d)>i)&&(e.top+=f+p+m)):u>0&&(n=e.top-t.collisionPosition.marginTop+f+p+m-l,e.top+f+p+m>u&&(n>0||u>a(n))&&(e.top+=f+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,o,s,a=document.getElementsByTagName("body")[0],r=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(r),n=a||document.documentElement,n.insertBefore(t,n.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",o=e(r).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var o=i.offset.split(" "),s=i.at.split(" ");return 1===o.length&&(o[1]=o[0]),/^\d/.test(o[0])&&(o[0]="+"+o[0]),/^\d/.test(o[1])&&(o[1]="+"+o[1]),1===s.length&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(i,{at:s[0]+o[0]+" "+s[1]+o[1],offset:t}))}}(jQuery)}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var n,i,o=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&2!==o.values.length&&(o.values=[o.values[0],o.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===o.range||"max"===o.range?" ui-slider-range-"+o.range:""))),i=o.values&&o.values.length||1,n=s.length;i>n;n++)r.push(a);this.handles=s.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){o.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(n){var i,o,s,a,r=e(n.target).data("ui-slider-handle-index");switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(n.target).addClass("ui-state-active"),i=this._start(n,r),i===!1))return}switch(a=this.options.step,o=s=this.options.values&&this.options.values.length?this.values(r):this.value(),n.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===this._valueMax())return;s=this._trimAlignValue(o+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===this._valueMin())return;s=this._trimAlignValue(o-a)}this._slide(n,r,s)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,o,s,a,r,l,c,d=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-d.values(t));o>n&&(o=n,s=e(this),a=t)}),u.range===!0&&this.values(1)===u.min&&(a+=1,s=e(this.handles[a])),r=this._start(t,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),s=this._valueMin()+i*o,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,o,s;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(o=this.values(),o[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:o}),i=this.values(t?0:1),s!==!1&&this.values(t,n,!0))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var i,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,o=arguments[0],s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var i,o=0;switch(e.isArray(this.options.values)&&(o=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;o>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,o,s,a=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),d["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](d,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},r.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:r.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},r.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:r.animate}))),t=n}):(i=this.value(),o=this._valueMin(),s=this._valueMax(),n=s!==o?100*((i-o)/(s-o)):0,d["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](d,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:r.animate}))}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var o=n.attr(i);void 0!==o&&o.length&&(t[i]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&i.min>e?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(n)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function n(){return++o}function i(e){return e.hash.length>1&&e.href.replace(s,"")===location.href.replace(s,"").replace(/\s/g,"%20")}var o=0,s=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options,i=n.active,o=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()
}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===i&&(o&&this.tabs.each(function(t,n){return e(n).attr("aria-controls")===o?(i=t,!1):void 0}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=n.collapsible?!1:0)),n.active=i,!n.collapsible&&n.active===!1&&this.anchors.length&&(n.active=0),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(this.options.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,o),t.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,o){var s,a,r,l=e(o).uniqueId().attr("id"),c=e(o).closest("li"),d=c.attr("aria-controls");i(o)?(s=o.hash,a=t.element.find(t._sanitizeSelector(s))):(r=t._tabId(c),s="#"+r,a=t.element.find(s),a.length||(a=t._createPanel(r),a.insertAfter(t.panels[n-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),d&&c.data("ui-tabs-aria-controls",d),c.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i,o=this.element.parent();"fill"===t?(e.support.minHeight||(i=o.css("overflow"),o.css("overflow","hidden")),n=o.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),i&&o.css("overflow",i),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,o=e(t.currentTarget),s=o.closest("li"),a=s[0]===i[0],r=a&&n.collapsible,l=r?e():this._getPanelForTab(s),c=i.length?this._getPanelForTab(i):e(),d={oldTab:i,oldPanel:c,newTab:r?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",t,d)===!1||(n.active=r?!1:this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,d))},_toggle:function(t,n){function i(){s.running=!1,s._trigger("activate",t,n)}function o(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&s.options.show?s._show(a,s.options.show,i):(a.show(),i())}var s=this,a=n.newPanel,r=n.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),o()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),a.length&&r.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;i!==!1&&(n===t?i=!1:(n=this._getIndex(n),i=e.isArray(i)?e.map(i,function(e){return e!==n?e:null}):e.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(i!==!0){if(n===t)i=!0;else{if(n=this._getIndex(n),-1!==e.inArray(n,i))return;i=e.isArray(i)?e.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(t,n){t=this._getIndex(t);var o=this,s=this.tabs.eq(t),a=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),l={tab:s,panel:r};i(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){r.html(e),o._trigger("load",n,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,n,i){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.uiBackCompat!==!1&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(n,i){return e.data(i.tab[0],"cache.tabs")?(n.preventDefault(),void 0):(i.jqXHR.success(function(){t.options.cache&&e.data(i.tab[0],"cache.tabs",!0)}),void 0)}})},_ajaxSettings:function(t,n,i){var o=this.options.ajaxOptions;return e.extend({},o,{error:function(e,t){try{o.error(e,t,i.tab.closest("li").index(),i.tab[0])}catch(n){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var n=t.tab.find("span"),i=n.html();n.html(this.options.spinner),t.jqXHR.complete(function(){n.html(i)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var n,i=this.options;(t&&i.disabled===!0||e.isArray(i.disabled)&&-1!==e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var n,i=this.options;(t&&i.disabled===!1||e.isArray(i.disabled)&&-1===e.inArray(t,i.disabled))&&(n=!0),this._superApply(arguments),n&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(n,i,o){o===t&&(o=this.anchors.length);var s,a,r=this.options,l=e(r.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,i)),c=n.indexOf("#")?this._tabId(l):n.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),s=o>=this.tabs.length,a=this.element.find("#"+c),a.length||(a=this._createPanel(c),s?o>0?a.insertAfter(this.panels.eq(-1)):a.appendTo(this.element):a.insertBefore(this.panels[o])),a.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),s?l.appendTo(this.tablist):l.insertBefore(this.tabs[o]),r.disabled=e.map(r.disabled,function(e){return e>=o?++e:e}),this.refresh(),1===this.tabs.length&&r.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[o],this.panels[o])),this},remove:function(t){t=this._getIndex(t);var n=this.options,i=this.tabs.eq(t).remove(),o=this._getPanelForTab(i).remove();return i.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(this.anchors.length>t+1?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(i.find("a")[0],o[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var i=t.is("li")?t.find("a[href]"):t;return i=i[0],e(i).closest("li").attr("aria-controls")||i.title&&i.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+n()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=-1===e.selected?!1:e.selected),this._super(),e.selected=e.active,e.selected===!1&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var n=this.options;this._super("active",-1===t?!1:t),n.selected=n.active,n.selected===!1&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,n){var i,o,s=this._superApply(arguments);return s?("beforeActivate"===e?(i=n.newTab.length?n.newTab:n.oldTab,o=n.newPanel.length?n.newPanel:n.oldPanel,s=this._super("select",t,{tab:i.find(".ui-tabs-anchor")[0],panel:o[0],index:i.closest("li").index()})):"activate"===e&&n.newTab.length&&(s=this._super("show",t,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),s):!1}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(e=this._getIndex(e),-1===e){if(!this.options.collapsible||-1===this.options.selected)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(e=parseInt(this._cookie(),10),-1===e&&(e=!1),t.active=e),this._super()},_cookie:function(n){var i=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(i.push(n===!1?-1:n),i.push(this.options.cookie)),e.cookie.apply(null,i)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,n,i){var o=e.extend({},i);return"load"===t&&(o.panel=o.panel[0],o.tab=o.tab.find(".ui-tabs-anchor")[0]),this._super(t,n,o)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,n,i=this.options.fx;return i&&(e.isArray(i)?(t=i[0],n=i[1]):t=n=i),i?{show:n,hide:t}:null},_toggle:function(e,t){function n(){o.running=!1,o._trigger("activate",e,t)}function i(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.show?s.animate(r.show,r.show.duration,function(){n()}):(s.show(),n())}var o=this,s=t.newPanel,a=t.oldPanel,r=this._getFx();return r?(o.running=!0,a.length&&r.hide?a.animate(r.hide,r.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),i()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),i()),void 0):this._super(e,t)}}))}(jQuery),function(e){function t(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))}function n(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(n,i);-1!==o&&i.splice(o,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var i=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),this.options[t]=n,void 0):(this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i[0],t.close(o,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,o=this,s=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){e.data("ui-tooltip-open")&&o._delay(function(){t&&(t.type=s),this._open(t,e,n)})}),n&&this._open(t,e,n),void 0)},_open:function(n,i,o){function s(e){c.of=e,a.is(":hidden")||a.position(c)}var a,r,l,c=e.extend({},this.options.position);if(o){if(a=this._find(i),a.length)return a.find(".ui-tooltip-content").html(o),void 0;i.is("[title]")&&(n&&"mouseover"===n.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),t(i,a.attr("id")),a.find(".ui-tooltip-content").html(o),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:s}),s(n)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=setInterval(function(){a.is(":visible")&&(s(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",n,{tooltip:a}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(a)}},n&&"mouseover"!==n.type||(r.mouseleave="close"),n&&"focusin"!==n.type||(r.focusout="close"),this._on(!0,i,r)}},close:function(t){var i=this,o=e(t?t.currentTarget:this.element),s=this._find(o);this.closing||(o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),n(o),s.stop(!0),this._hide(s,this.options.hide,function(){i._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var n="ui-tooltip-"+i++,o=e("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),e.fn.bgiframe&&o.bgiframe(),this.tooltips[n]=t,o},_find:function(t){var n=t.data("ui-tooltip-id");return n?e("#"+n):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i[0],t.close(o,!0),e("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,o=e(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=e(s),t&&t.preventDefault(),i.length||(i=o.hasClass("alert")?o:o.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),o=i.data("alert");o||i.data("alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),o=i.data("modal"),s=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);o||i.data("modal",o=new t(this,s)),"string"==typeof n?o[n]():s.show&&o.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),o=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),n.data());t.preventDefault(),o.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",o=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var i,o,s=e(this);if(!s.is(".disabled, :disabled"))return i=n(s),o=i.hasClass("open"),t(),o||i.toggleClass("open"),s.focus(),!1},keydown:function(t){var o,s,a,r,l;if(/(38|40|27)/.test(t.keyCode)&&(o=e(this),t.preventDefault(),t.stopPropagation(),!o.is(".disabled, :disabled"))){if(a=n(o),r=a.hasClass("open"),!r||r&&27==t.keyCode)return 27==t.which&&a.find(i).focus(),o.click();s=e("[role=menu] li:not(.divider):visible a",a),s.length&&(l=s.index(s.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&s.length-1>l&&l++,~l||(l=0),s.eq(l).focus())}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,o.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,o=e.proxy(this.process,this),s=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=s.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#\w/.test(i)&&e(i);return o&&o.length&&[[o.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=s.last()[0])&&this.activate(e);for(e=o.length;e--;)a!=s[e]&&t>=o[e]&&(!o[e+1]||o[e+1]>=t)&&this.activate(s[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("scrollspy"),s="object"==typeof n&&n;o||i.data("scrollspy",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,o=this.element,s=o.closest("ul:not(.dropdown-menu)"),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(t=s.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),o.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(o.parent("li"),s),this.activate(n,n.parent(),function(){o.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var s=n.find("> .active"),a=i&&e.support.transition&&s.hasClass("fade");a?s.one(e.support.transition.end,o):o(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),o=i.data("tab");o||i.data("tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var o,s,a,r,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)r=a[l],"click"==r?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=r&&(o="hover"==r?"mouseenter":"focus",s="hover"==r?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,o={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(o[e]=t)},this),n=e(t.currentTarget)[this.type](o).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,o,s,a,r=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,o=t[0].offsetHeight,s){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(a,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,o,s,a=this.tip(),r=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,s=!0),"bottom"==t||"top"==t?(o=0,0>e.left&&(o=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(o-r+n,n,"left")):this.replaceArrow(i-l,i,"top"),s&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("tooltip"),s="object"==typeof n&&n;o||i.data("tooltip",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("popover"),s="object"==typeof n&&n;o||i.data("popover",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),o=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("button"),s="object"==typeof n&&n;o||i.data("button",o=new t(this,s)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,o;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(o=i.data("collapse"),o&&o.transitioning)return;i.collapse("hide"),o||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var o=this,s=function(){"show"==n.type&&o.reset(),o.transitioning=0,o.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("collapse"),s=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);o||i.data("collapse",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),o=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(o).data("collapse")?"toggle":i.data();i[e(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(o).collapse(s)})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,o=this.$element.find(".item.active"),s=n||o[t](),a=this.interval,r="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),s=s.length?s:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:s[0],direction:r}),!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;s.addClass(t),s[0].offsetWidth,o.addClass(r),s.addClass(r),this.$element.one(e.support.transition.end,function(){s.removeClass([t,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("carousel"),s=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:s.slide;o||i.data("carousel",o=new t(this,s)),"number"==typeof n?o.to(n):a?o[a]():s.interval&&o.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,o=e(this),s=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},s.data(),o.data());s.carousel(a),(i=o.attr("data-slide-to"))&&s.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):o.push(t):n.push(t);return n.concat(i,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),o=i.data("typeahead"),s="object"==typeof n&&n;o||i.data("typeahead",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),s=this.options.offset,a=s.bottom,r=s.top,l="affix affix-top affix-bottom";"object"!=typeof s&&(a=r=s),"function"==typeof r&&(r=s.top()),"function"==typeof a&&(a=s.bottom()),t=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=n-a?"bottom":null!=r&&r>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("affix"),s="object"==typeof n&&n;o||i.data("affix",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(){$(function(){return $(".icon-tooltip").tooltip({placement:"right",html:!0})})}.call(this),function(){jQuery(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip(),$(".as_tooltip").tooltip()})}.call(this),!function(e){var t=function(n,i,o){o&&(o.stopPropagation(),o.preventDefault()),this.$element=e(n),this.$newElement=null,this.button=null,this.options=e.extend({},e.fn.selectpicker.defaults,this.$element.data(),"object"==typeof i&&i),null==this.options.title&&(this.options.title=this.$element.attr("title")),this.val=t.prototype.val,this.render=t.prototype.render,this.refresh=t.prototype.refresh,this.selectAll=t.prototype.selectAll,this.deselectAll=t.prototype.deselectAll,this.init()};t.prototype={constructor:t,init:function(){this.options.container?this.$element.css("visibility","hidden"):this.$element.hide(),this.multiple=this.$element.prop("multiple");var t=void 0!==this.$element.attr("class")?this.$element.attr("class").split(/\s+/):"",n=this.$element.attr("id");this.$element.after(this.createView()),this.$newElement=this.$element.next(".bootstrap-select"),this.options.container&&this.selectPosition(),this.button=this.$newElement.find("> button"),void 0!==n&&(this.button.attr("id",n),e('label[for="'+n+'"]').click(e.proxy(this,function(){this.$newElement.find("button#"+n).focus()})));for(var i=0;t.length>i;i++)"selectpicker"!=t[i]&&this.$newElement.addClass(t[i]);this.multiple&&this.$newElement.addClass("show-tick"),this.button.addClass(this.options.style),this.checkDisabled(),this.checkTabIndex(),this.clickListener(),this.$element.bind("DOMNodeInserted DOMNodeRemoved",e.proxy(this.refresh,this)),this.render(),this.setSize()},createDropdown:function(){var t="<div class='btn-group bootstrap-select'><button type='button' class='btn dropdown-toggle clearfix' data-toggle='dropdown'><span class='filter-option pull-left'></span>&nbsp;<span class='caret'></span></button><ul class='dropdown-menu' role='menu'></ul></div>";return e(t)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi(),$li=this.createLi(),this.$newElement.find("ul").append($li)},destroyLi:function(){this.$newElement.find("li").remove()},createLi:function(){var t=this,n=[],i=[],o="";if(this.$element.find("option").each(function(){n.push(e(this).text())}),this.$element.find("option").each(function(){var n=void 0!==e(this).attr("class")?e(this).attr("class"):"",o=e(this).text(),s=void 0!==e(this).data("subtext")?'<small class="muted">'+e(this).data("subtext")+"</small>":"",a=void 0!==e(this).data("icon")?'<i class="'+e(this).data("icon")+'"></i> ':"";if((e(this).is(":disabled")||e(this).parent().is(":disabled"))&&(a="<span>"+a+"</span>"),o=a+'<span class="text">'+o+s+"</span>",e(this).parent().is("optgroup")&&1!=e(this).data("divider"))if(0==e(this).index()){var r=e(this).parent().attr("label"),l=void 0!==e(this).parent().data("subtext")?'<small class="muted">'+e(this).parent().data("subtext")+"</small>":"",c=e(this).parent().data("icon")?'<i class="'+e(this).parent().data("icon")+'"></i> ':"";r=c+'<span class="text">'+r+l+"</span>",0!=e(this)[0].index?i.push('<div class="div-contain"><div class="divider"></div></div><dt>'+r+"</dt>"+t.createA(o,"opt "+n)):i.push("<dt>"+r+"</dt>"+t.createA(o,"opt "+n))}else i.push(t.createA(o,"opt "+n));else 1==e(this).data("divider")?i.push('<div class="div-contain"><div class="divider"></div></div>'):i.push(t.createA(o,n))}),n.length>0)for(var s=0;n.length>s;s++)this.$element.find("option").eq(s),o+="<li rel="+s+">"+i[s]+"</li>";return 0!=this.$element.find("option:selected").length||t.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),e(o)},createA:function(e,t){return'<a tabindex="-1" href="#" class="'+t+'">'+e+'<i class="icon-ok check-mark"></i>'+"</a>"},render:function(){var t=this;this.$element.find("option").each(function(n){t.setDisabled(n,e(this).is(":disabled")||e(this).parent().is(":disabled")),t.setSelected(n,e(this).is(":selected"))});var n=this.$element.find("option:selected").map(function(){return void 0!=e(this).attr("title")?e(this).attr("title"):e(this).text()}).toArray(),i=n.join(", ");if(t.multiple&&t.options.selectedTextFormat.indexOf("count")>-1){var o=t.options.selectedTextFormat.split(">");(o.length>1&&n.length>o[1]||1==o.length&&n.length>=2)&&(i=n.length+" of "+this.$element.find("option").length+" selected")}i||(i=void 0!=t.options.title?t.options.title:t.options.noneSelectedText),t.$newElement.find(".filter-option").html(i)},setSize:function(){function t(){var t=a-e(window).scrollTop(),s=window.innerHeight,c=l+parseInt(i.css("margin-top"))+parseInt(i.css("margin-bottom"))+2,d=s-t-r-c;menuHeight=d,n.$newElement.hasClass("dropup")&&(menuHeight=t-c),minHeight=i.find("li").length+i.find("dt").length>3?3*o+c-2:0,i.css({"max-height":menuHeight+"px","overflow-y":"auto","min-height":minHeight+"px"})}var n=this,i=this.$newElement.find(".dropdown-menu");i.find("li > a");var o=this.$newElement.addClass("open").find(".dropdown-menu li > a").outerHeight();this.$newElement.removeClass("open");var s=i.find("li .divider").outerHeight(!0),a=this.$newElement.offset().top,r=this.$newElement.outerHeight(),l=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom"))+parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width"));if("auto"==this.options.size)t(),e(window).resize(t),e(window).scroll(t);else if(this.options.size&&"auto"!=this.options.size&&i.find("li").length>this.options.size){var c=i.find("li > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),d=i.find("li").slice(0,c+1).find(".div-contain").length;menuHeight=o*this.options.size+d*s+l,i.css({"max-height":menuHeight+"px","overflow-y":"auto"})}if("auto"==this.options.width){this.$newElement.find(".dropdown-menu").css("min-width","0");var u=this.$newElement.find(".dropdown-menu").css("width");this.$newElement.css("width",u),this.options.container&&this.$element.css("width",u)}else this.options.width&&"auto"!=this.options.width&&(this.$newElement.css("width",this.options.width),this.options.container&&this.$element.css("width",this.options.width))},selectPosition:function(){var e=this.$element.offset().top,t=this.$element.offset().left;this.$newElement.appendTo(this.options.container),this.$newElement.css({position:"absolute",top:e+"px",left:t+"px"})},refresh:function(){this.reloadLi(),this.render(),this.setSize(),this.checkDisabled(),this.options.container&&this.selectPosition()},setSelected:function(e,t){t?this.$newElement.find("li").eq(e).addClass("selected"):this.$newElement.find("li").eq(e).removeClass("selected")},setDisabled:function(e,t){t?this.$newElement.find("li").eq(e).addClass("disabled"):this.$newElement.find("li").eq(e).removeClass("disabled")},isDisabled:function(){return this.$element.is(":disabled")||this.$element.attr("readonly")},checkDisabled:function(){this.isDisabled()?(this.button.addClass("disabled"),this.button.click(function(e){e.preventDefault()}),this.button.on("focusin",function(){e(this).blur()})):!this.isDisabled()&&this.button.hasClass("disabled")&&(this.button.removeClass("disabled"),this.button.click(function(){return!0}))},checkTabIndex:function(){if(this.$element.is("[tabindex]")){var e=this.$element.attr("tabindex");this.button.attr("tabindex",e)}},clickListener:function(){var t=this;e("body").on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click","li a",function(n){var i=e(this).parent().index(),o=e(this).parent(),s=o.parents(".bootstrap-select"),a=t.$element.val();if(t.multiple&&n.stopPropagation(),n.preventDefault(),t.$element.not(":disabled")&&!e(this).parent().hasClass("disabled")){if(t.multiple){var r=t.$element.find("option").eq(i).prop("selected");r?t.$element.find("option").eq(i).removeAttr("selected"):t.$element.find("option").eq(i).prop("selected",!0).attr("selected","selected")}else t.$element.find("option").removeAttr("selected"),t.$element.find("option").eq(i).prop("selected",!0).attr("selected","selected");s.find(".filter-option").html(o.text()),s.find("button").focus(),a!=t.$element.val()&&t.$element.trigger("change"),t.render()}}),this.$newElement.on("click","li.disabled a, li dt, li .div-contain",function(t){t.preventDefault(),t.stopPropagation(),$select=e(this).parent().parents(".bootstrap-select"),$select.find("button").focus()}),this.$element.on("change",function(){t.render()})},val:function(e){return void 0!=e?(this.$element.val(e),this.$element.trigger("change"),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()}},e.fn.selectpicker=function(n,i){var o,s=arguments,a=this.each(function(){if(e(this).is("select")){var a=e(this),r=a.data("selectpicker"),l="object"==typeof n&&n;if(r){if(l)for(var c in l)r.options[c]=l[c]}else a.data("selectpicker",r=new t(this,l,i));"string"==typeof n&&(property=n,r[property]instanceof Function?([].shift.apply(s),o=r[property].apply(r,s)):o=r.options[property])}});return void 0!=o?o:a},e.fn.selectpicker.defaults={style:null,size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",width:null,container:!1,icon:!1}}(window.jQuery),function(){$(function(){return $(".experience_info").hover(function(){return $(".experience_info").addClass("dn"),$(".experience_more").removeClass("dn"),$(this).addClass("dn"),$(this).prev(".experience_more").removeClass("dn")})}),$(".experience_more").mouseleave(function(){return $(".experience_more").addClass("dn"),$(".experience_info").removeClass("dn")})}.call(this),function(){$(function(){return $(".selectpicker").selectpicker(),$(".selectpicker.regions").on("change",function(){return window.location=$(this).find("option:selected").data("url")})})}.call(this),function(){$(function(){return $('input[name="purchase[exchange_id]"]').on("change",function(){return $("h6.discount span").html($(this).next("span.payment_method_datails").find("span.points").html())}),0===$('input[name="purchase[exchange_id]"]:checked').length?$('input[name="purchase[exchange_id]"]:first').trigger("click"):void 0})}.call(this),function(){$(function(){return $(".datepicker").datepicker({format:"dd/mm/yyyy",language:"es"})})}.call(this),function(){$(function(){return $(".datetimepicker").datetimepicker({format:"dd/MM/yyyy hh:mm:ss",language:"es"})})}.call(this),window.tinyMCEPreInit=window.tinyMCEPreInit||{base:"/assets/tinymce",query:"3.5.8.1",suffix:""},function(e){var t,n=/^\s*|\s*$/g,i="$1"==="B".replace(/A(.)|B/,"$1"),o={majorVersion:"3",minorVersion:"5.8",releaseDate:"2012-11-20",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(l.suffix="_src"),-1!=(a=e.src.indexOf("?"))&&(l.query=e.src.substring(a+1)),l.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),s&&-1==l.baseURL.indexOf("://")&&0!==l.baseURL.indexOf("/")&&(l.baseURL=s+l.baseURL),l.baseURL):null}var n,i,o,s,a,r,l=this,c=document,d=navigator,u=d.userAgent;if(l.isOpera=e.opera&&opera.buildNumber,l.isWebKit=/WebKit/.test(u),l.isIE=!l.isWebKit&&!l.isOpera&&/MSIE/gi.test(u)&&/Explorer/gi.test(d.appName),l.isIE6=l.isIE&&/MSIE [56]/.test(u),l.isIE7=l.isIE&&/MSIE [7]/.test(u),l.isIE8=l.isIE&&/MSIE [8]/.test(u),l.isIE9=l.isIE&&/MSIE [9]/.test(u),l.isGecko=!l.isWebKit&&/Gecko/.test(u),l.isMac=-1!=u.indexOf("Mac"),l.isAir=/adobeair/i.test(u),l.isIDevice=/(iPad|iPhone)/.test(u),l.isIOS5=l.isIDevice&&u.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return l.suffix=tinyMCEPreInit.suffix,l.baseURL=tinyMCEPreInit.base,l.query=tinyMCEPreInit.query,void 0;for(l.suffix="",i=c.getElementsByTagName("base"),n=0;i.length>n;n++)r=i[n].href,r&&(/^https?:\/\/[^\/]+$/.test(r)&&(r+="/"),s=r?r.match(/.*\//)[0]:"");for(i=c.getElementsByTagName("script"),n=0;i.length>n;n++)if(t(i[n]))return;if(o=c.getElementsByTagName("head")[0])for(i=o.getElementsByTagName("script"),n=0;i.length>n;n++)if(t(i[n]))return},is:function(e,n){return n?"array"==n&&o.isArray(e)?!0:typeof e==n:e!==t},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},makeMap:function(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:function(e,n,i){var o,s;if(!e)return 0;if(i=i||e,e.length!==t){for(o=0,s=e.length;s>o;o++)if(n.call(i,e[o],o,e)===!1)return 0}else for(o in e)if(e.hasOwnProperty(o)&&n.call(i,e[o],o,e)===!1)return 0;return 1},map:function(e,t){var n=[];return o.each(e,function(e){n.push(t(e))}),n},grep:function(e,t){var n=[];return o.each(e,function(e){(!t||t(e))&&n.push(e)}),n},inArray:function(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},extend:function(e,n){var i,o,s,a,r=arguments;for(i=1,o=r.length;o>i;i++){n=r[i];for(s in n)n.hasOwnProperty(s)&&(a=n[s],a!==t&&(e[s]=a))}return e},trim:function(e){return(e?""+e:"").replace(n,"")},create:function(e,t,n){var i,o,s,a,r,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),s=e[3].match(/(^|\.)(\w+)$/i)[2],o=l.createNS(e[3].replace(/\.\w+$/,""),n),!o[s]){if("static"==e[2])return o[s]=t,this.onCreate&&this.onCreate(e[2],e[3],o[s]),void 0;t[s]||(t[s]=function(){},c=1),o[s]=t[s],l.extend(o[s].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],r=o[s],o[s]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],r.apply(this,arguments)},o[s].prototype[s]=o[s],l.each(i,function(e,t){o[s].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?o[s].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=s&&(o[s].prototype[t]=e)})),l.each(t["static"],function(e,t){o[s][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],o[s].prototype)}},walk:function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),o.each(e,function(e,s){return t.call(i,e,s,n)===!1?!1:(o.walk(e,t,n,i),void 0)}))},createNS:function(t,n){var i,o;for(n=n||e,t=t.split("."),i=0;t.length>i;i++)o=t[i],n[o]||(n[o]={}),n=n[o];return n},resolve:function(t,n){var i,o;for(n=n||e,t=t.split("."),i=0,o=t.length;o>i&&(n=n[t[i]],n);i++);return n},addUnload:function(t,n){function i(){function t(){n.detachEvent("onstop",t),o&&o(),n=0}var n=document;"interactive"==n.readyState&&(n&&n.attachEvent("onstop",t),e.setTimeout(function(){n&&n.detachEvent("onstop",t)},0))}var o,s=this;return o=function(){var t,n,a=s.unloads;if(a){for(n in a)t=a[n],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",i),e.detachEvent("onunload",o)):e.removeEventListener&&e.removeEventListener("unload",o,!1),s.unloads=t=a=w=o=0,e.CollectGarbage&&CollectGarbage()}},t={func:t,scope:n||this},s.unloads?s.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",o),e.attachEvent("onbeforeunload",i)):e.addEventListener&&e.addEventListener("unload",o,!1),s.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,n=null;return o.each(t,function(i,o){return i&&i.func==e?(t.splice(o,1),n=e,!1):void 0}),n},explode:function(e,t){return!e||o.is(e,"array")?e:o.map(e.split(t||","),o.trim)},_addVer:function(e){var t;return this.query?(t=(-1==e.indexOf("?")?"?":"&")+this.query,-1==e.indexOf("#")?e+t:e.replace("#",t+"#")):e},_replace:function(e,n,o){return i?o.replace(e,function(){var e,i=n,o=arguments;for(e=0;o.length-2>e;e++)i=o[e]===t?i.replace(new RegExp("\\$"+e,"g"),""):i.replace(new RegExp("\\$"+e,"g"),o[e]);return i}):o.replace(e,n)}};o._init(),e.tinymce=e.tinyMCE=o}(window),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(e){this.scope=e||this,this.listeners=[]},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){var n=this,i={cb:e,scope:t||n.scope};return n.inDispatch?n.listeners=[i].concat(n.listeners):n.listeners.unshift(i),e},remove:function(e){var t=this.listeners,n=null;return tinymce.each(t,function(i,o){return e==i.cb?(n=i,t.splice(o,1),!1):void 0}),n},dispatch:function(){var e,t,n,i=this,o=arguments,s=i.listeners;for(i.inDispatch=!0,t=0;s.length>t&&(n=s[t],e=n.cb.apply(n.scope,o.length>0?o:[n.scope]),e!==!1);t++);return i.inDispatch=!1,e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,n){var i,o,s=this;return t=tinymce.trim(t),n=s.settings=n||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?(s.source=t,void 0):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(n.base_uri?n.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(o=n.base_uri?n.base_uri.path:new tinymce.util.URI(location.href).directory,t=(n.base_uri&&n.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(o,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),s[e]=i}),i=n.base_uri,i&&(s.protocol||(s.protocol=i.protocol),s.userInfo||(s.userInfo=i.userInfo),s.port||"mce_host"!==s.host||(s.port=i.port),s.host&&"mce_host"!==s.host||(s.host=i.host),s.source=""),void 0)},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new tinymce.util.URI(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol)return e.getURI();var i=n.getURI(),o=e.getURI();return i==o||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new tinymce.util.URI(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,i,o,s=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,o=e.length;o>i;i++)if(i>=n.length||e[i]!=n[i]){s=i+1;break}if(e.length<n.length)for(i=0,o=n.length;o>i;i++)if(i>=e.length||e[i]!=n[i]){s=i+1;break}if(1===s)return t;for(i=0,o=e.length-(s-1);o>i;i++)a+="../";for(i=s-1,o=n.length;o>i;i++)a+=i!=s-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,n){var i,o,s,a=0,r=[];for(o=/\/$/.test(n)?"/":"",t=t.split("/"),n=n.split("/"),e(t,function(e){e&&r.push(e)}),t=r,i=n.length-1,r=[];i>=0;i--)0!==n[i].length&&"."!==n[i]&&(".."!==n[i]?a>0?a--:r.push(n[i]):a++);return i=t.length-a,s=0>=i?r.reverse().join("/"):t.slice(0,i).join("/")+"/"+r.reverse().join("/"),0!==s.indexOf("/")&&(s="/"+s),o&&s.lastIndexOf("/")!==s.length-1&&(s+=o),s},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var n,i=this.get(t);return i&&e(i.split("&"),function(e){e=e.split("="),n=n||{},n[unescape(e[0])]=unescape(e[1])}),n},setHash:function(t,n,i,o,s,a){var r="";e(n,function(e,t){r+=(r?"&":"")+escape(t)+"="+escape(e)}),this.set(t,r,i,o,s,a)},get:function(e){var t,n,i=document.cookie,o=e+"=";if(i){if(n=i.indexOf("; "+o),-1==n){if(n=i.indexOf(o),0!==n)return null}else n+=2;return t=i.indexOf(";",n),-1==t&&(t=i.length),unescape(i.substring(n+o.length,t))}},set:function(e,t,n,i,o,s){document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(i?"; path="+escape(i):"")+(o?"; domain="+o:"")+(s?"; secure":"")},remove:function(e,t,n){var i=new Date;i.setTime(i.getTime()-1e3),this.set(e,"",i,t,n)}})}(),function(){function serialize(e,t){var n,i,o,s;if(t=t||'"',null==e)return"null";if(o=typeof e,"string"==o)return i="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(n=i.indexOf(o),n+1?"\\"+i.charAt(n+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";e.length>n;n++)i+=(n>0?",":"")+serialize(e[n],t);return i+"]"}i="{";for(s in e)e.hasOwnProperty(s)&&(i+="function"!=typeof e[s]?(i.length>1?","+t:t)+s+t+":"+serialize(e[s],t):"");return i+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(){!e.async||4==i.readyState||a++>1e4?(e.success&&1e4>a&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):s.setTimeout(t,10)}function n(e){i=0;try{i=new ActiveXObject(e)}catch(t){}return i}var i,o,s=window,a=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",i=s.XMLHttpRequest?new XMLHttpRequest:n("Microsoft.XMLHTTP")||n("Msxml2.XMLHTTP")){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(e.data),!e.async)return t();o=s.setTimeout(t,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,n=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(i){var o=i.error,s=i.success;i=e(this.settings,i),i.success=function(e,n){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?o.call(i.error_scope||i.scope,e.error,n):s.call(i.success_scope||i.scope,e.result)},i.error=function(e,t){o&&o.call(i.error_scope||i.scope,e,t)},i.data=t.serialize({id:i.id||"c"+this.count++,method:i.method,params:i.params}),i.content_type="application/json",n.send(i)},"static":{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return e.isMac?t.metaKey:t.ctrlKey&&!t.altKey}}}(tinymce),tinymce.util.Quirks=function(e){function t(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}}function n(){var t=e.getDoc().documentMode;return t?t:6}function i(e){return e.isDefaultPrevented()}function o(){function t(t){var n,i,o,s;if(n=M.getRng(),i=A.getParent(n.startContainer,A.isBlock),t&&(i=A.getNext(i,A.isBlock)),i){for(o=i.firstChild;o&&3==o.nodeType&&0===o.nodeValue.length;)o=o.nextSibling;o&&"SPAN"===o.nodeName&&(s=o.cloneNode(!1))}R(A.select("span",i),function(e){e.setAttribute("data-mce-mark","1")}),e.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),i=A.getParent(n.startContainer,A.isBlock),R(A.select("span",i),function(e){var t=M.getBookmark();s?A.replace(s.cloneNode(!1),e,!0):e.getAttribute("data-mce-mark")?e.removeAttribute("data-mce-mark"):A.remove(e,!0),M.moveToBookmark(t)})}e.onKeyDown.add(function(e,n){var o;o=n.keyCode==E,i(n)||!o&&n.keyCode!=N||D.modifierPressed(n)||(n.preventDefault(),t(o))}),e.addCommand("Delete",function(){t()})}function s(){function t(e){var t=A.create("body"),n=e.cloneContents();return t.appendChild(n),M.serializer.serialize(t,{format:"html"})}function n(n){var i=t(n),o=A.createRng();o.selectNode(e.getBody());var s=t(o);return i===s}e.onKeyDown.add(function(e,t){var o,s=t.keyCode;if(!i(t)&&(s==E||s==N)){if(o=e.selection.isCollapsed(),o&&!A.isEmpty(e.getBody()))return;if(tinymce.isIE&&!o)return;if(!o&&!n(e.selection.getRng()))return;e.setContent(""),e.selection.setCursorLocation(e.getBody(),0),e.nodeChanged()}})}function a(){e.onKeyDown.add(function(e,t){!i(t)&&65==t.keyCode&&D.metaKeyPressed(t)&&(t.preventDefault(),e.execCommand("SelectAll"))})}function r(){e.settings.content_editable||(A.bind(e.getDoc(),"focusin",function(){M.setRng(M.getRng())}),A.bind(e.getDoc(),"mousedown",function(t){t.target==e.getDoc().documentElement&&(e.getWin().focus(),M.setRng(M.getRng()))}))}function l(){e.onKeyDown.add(function(e,t){if(!i(t)&&t.keyCode===N&&M.isCollapsed()&&0===M.getRng(!0).startOffset){var n=M.getNode(),o=n.previousSibling;o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(A.remove(o),tinymce.dom.Event.cancel(t))}})}function c(){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if(!i(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),setTimeout(function(){n.focus()},0)}})}function d(){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&M.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&A.hasClass(t,"mceItemAnchor")&&M.select(t),e.nodeChanged()})}function u(){function t(){var t=A.getAttribs(M.getStart().cloneNode(!1));return function(){var n=M.getStart();n!==e.getBody()&&(A.setAttrib(n,"style",null),R(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}}function n(){return!M.isCollapsed()&&A.getParent(M.getStart(),A.isBlock)!=A.getParent(M.getEnd(),A.isBlock)}function o(e,t){return t.preventDefault(),!1}e.onKeyPress.add(function(e,o){var s;return i(o)||8!=o.keyCode&&46!=o.keyCode||!n()?void 0:(s=t(),e.getDoc().execCommand("delete",!1,null),s(),o.preventDefault(),!1)}),A.bind(e.getDoc(),"cut",function(s){var a;!i(s)&&n()&&(a=t(),e.onKeyUp.addToTop(o),setTimeout(function(){a(),e.onKeyUp.remove(o)},0))})}function h(){var t,n;A.bind(e.getDoc(),"selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=M.getRng();t&&tinymce.dom.RangeUtils.compareRanges(n,t)||(e.nodeChanged(),t=n)},50)})}function f(){document.body.setAttribute("role","application")}function p(){e.onKeyDown.add(function(e,t){if(!i(t)&&t.keyCode===N&&M.isCollapsed()&&0===M.getRng(!0).startOffset){var n=M.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return tinymce.dom.Event.cancel(t)}})}function m(){n()>7||(t("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),A.addClass(e.getBody(),"mceHideBrInPre"),P.addNodeFilter("pre",function(e){for(var t,n,i,o,s=e.length;s--;)for(t=e[s].getAll("br"),n=t.length;n--;)i=t[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new tinymce.html.Node("#text",3),i,!0).value="\n"}),L.addNodeFilter("pre",function(e){for(var t,n,i,o,s=e.length;s--;)for(t=e[s].getAll("br"),n=t.length;n--;)i=t[n],o=i.prev,o&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))}function g(){A.bind(e.getBody(),"mouseup",function(){var e,t=M.getNode();"IMG"==t.nodeName&&((e=A.getStyle(t,"width"))&&(A.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),A.setStyle(t,"width","")),(e=A.getStyle(t,"height"))&&(A.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),A.setStyle(t,"height","")))})}function v(){e.onKeyDown.add(function(e,t){var n,o,s,a,r,l,c;n=t.keyCode==E,i(t)||!n&&t.keyCode!=N||D.modifierPressed(t)||(o=M.getRng(),s=o.startContainer,a=o.startOffset,c=o.collapsed,3==s.nodeType&&s.nodeValue.length>0&&(0===a&&!c||c&&a===(n?0:1))&&(nonEmptyElements=e.schema.getNonEmptyElements(),t.preventDefault(),r=A.create("br",{id:"__tmp"}),s.parentNode.insertBefore(r,s),e.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),s=M.getRng().startContainer,l=s.previousSibling,l&&1==l.nodeType&&!A.isBlock(l)&&A.isEmpty(l)&&!nonEmptyElements[l.nodeName.toLowerCase()]&&A.remove(l),A.remove("__tmp")))})}function y(){e.onKeyDown.add(function(e,t){var n,o,s,a,r;if(!i(t)&&t.keyCode==D.BACKSPACE&&(n=M.getRng(),o=n.startContainer,s=n.startOffset,a=A.getRoot(),r=o,n.collapsed&&0===s)){for(;r&&r.parentNode&&r.parentNode.firstChild==r&&r.parentNode!=a;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=A.createRng(),n.setStart(o,0),n.setEnd(o,0),M.setRng(n))}})}function b(){function n(){e._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),I.object_resizing||t("enableObjectResizing",!1)}I.readonly||(e.onBeforeExecCommand.add(n),e.onMouseDown.add(n))}function w(){function t(){R(A.select("a"),function(e){var t=e.parentNode,n=A.getRoot();if(t.lastChild===e){for(;t&&!A.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}A.add(t,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(e,n){"CreateLink"===n&&t(e)}),e.onSetContent.add(M.onSetContent.add(t))}function _(){I.forced_root_block&&e.onInit.add(function(){t("DefaultParagraphSeparator",I.forced_root_block)})}function C(){function t(t,n){t&&n.initial||e.execCommand("mceRepaint")}e.onUndo.add(t),e.onRedo.add(t),e.onSetContent.add(t)}function x(){e.onKeyDown.add(function(e,t){var n;i(t)||t.keyCode!=N||(n=e.getDoc().selection.createRange(),n&&n.item&&(t.preventDefault(),e.undoManager.beforeChange(),A.remove(n.item(0)),e.undoManager.add()))})}function S(){var t;n()>=10&&(t="",R("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),e.contentStyles.push(t+"{padding-right: 1px !important}"))}function T(){function n(e){var t,n;t=e.screenX-h,n=e.screenY-f,y=t*u[2]+p,b=n*u[3]+m,y=5>y?5:y,b=5>b?5:b,(D.modifierPressed(e)||"IMG"==c.nodeName&&0!==u[2]*u[3])&&(y=Math.round(b/g),b=Math.round(y*g)),A.setStyles(d,{width:y,height:b}),0>u[2]&&y>=d.clientWidth&&A.setStyle(d,"left",r+(p-y)),0>u[3]&&b>=d.clientHeight&&A.setStyle(d,"top",l+(m-b))}function i(){function t(t,n){n&&(c.style[t]||!e.schema.isValid(c.nodeName.toLowerCase(),t)?A.setStyle(c,t,n):A.setAttrib(c,t,n))}t("width",y),t("height",b),A.unbind(_,"mousemove",n),A.unbind(_,"mouseup",i),w!=_&&(A.unbind(w,"mousemove",n),A.unbind(w,"mouseup",i)),A.remove(d),o(c)}function o(e){var t,o,a;s(),t=A.getPos(e),r=t.x,l=t.y,o=e.offsetWidth,a=e.offsetHeight,c!=e&&(c=e,y=b=0),R(v,function(e,t){var s;s=A.get("mceResizeHandle"+t),s?A.show(s):(s=A.add(_.documentElement,"div",{id:"mceResizeHandle"+t,"class":"mceResizeHandle",style:"cursor:"+t+"-resize; margin:0; padding:0"}),A.bind(s,"mousedown",function(t){t.preventDefault(),i(),h=t.screenX,f=t.screenY,p=c.clientWidth,m=c.clientHeight,g=m/p,u=e,d=c.cloneNode(!0),A.addClass(d,"mceClonedResizable"),A.setStyles(d,{left:r,top:l,margin:0}),_.documentElement.appendChild(d),A.bind(_,"mousemove",n),A.bind(_,"mouseup",i),w!=_&&(A.bind(w,"mousemove",n),A.bind(w,"mouseup",i))})),A.setStyles(s,{left:o*e[0]+r-s.offsetWidth/2,top:a*e[1]+l-s.offsetHeight/2})}),tinymce.isOpera||"IMG"!=c.nodeName||c.setAttribute("data-mce-selected","1")}function s(){c&&c.removeAttribute("data-mce-selected");for(var e in v)A.hide("mceResizeHandle"+e)}function a(){var e=A.getParent(M.getNode(),"table,img");R(A.select("img[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e?o(e):s()}var r,l,c,d,u,h,f,p,m,g,v,y,b,w=document,_=e.getDoc();I.object_resizing&&I.webkit_fake_resize!==!1&&(t("enableObjectResizing",!1),v={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),e.onNodeChange.add(a),A.bind(_,"selectionchange",a),e.serializer.addAttributeFilter("data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)
}))}function k(){9>n()&&(P.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),L.addNodeFilter("noscript",function(e){for(var t,n,i,o=e.length;o--;)t=e[o],n=e[o].firstChild,n?n.value=tinymce.html.Entities.decode(n.value):(i=t.attributes.map["data-mce-innertext"],i&&(t.attr("data-mce-innertext",null),n=new tinymce.html.Node("#text",3),n.value=i,n.raw=!0,t.append(n)))}))}var D=tinymce.VK,N=D.BACKSPACE,E=D.DELETE,A=e.dom,M=e.selection,I=e.settings,P=e.parser,L=e.serializer,R=tinymce.each;p(),y(),s(),tinymce.isWebKit&&(v(),o(),r(),d(),_(),tinymce.isIDevice?h():(T(),a())),tinymce.isIE&&(l(),f(),m(),g(),x(),S(),k()),tinymce.isGecko&&(l(),c(),u(),b(),w(),C()),tinymce.isOpera&&T()},function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,s,a={};if(e){for(e=e.split(","),t=t||10,n=0;e.length>n;n+=2)i=String.fromCharCode(parseInt(e[n],t)),o[i]||(s="&"+e[n+1]+";",a[i]=s,a[s]=i);return a}}var i,o,s,a=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},s={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?a:r,function(e){return o[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return o[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:r,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":o[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?a:r,function(e){return o[e]||n[e]||e})},getEncodeFunc:function(t,s){function l(e,t){return e.replace(t?a:r,function(e){return o[e]||s[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,t){return d.encodeNamed(e,t,s)}var d=e.html.Entities;return s=n(s)||i,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?l:t.named?s?c:d.encodeNamed:t.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(c,function(e,n,o){return n?(o=parseInt(o,2===n.length?16:10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o))):d[o]||String.fromCharCode(o)):s[e]||i[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function n(e,t,n,i){function o(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+o(t)+o(n)+o(i)}var i,o,s,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={};for(e=e||{},s="\\\" \\' \\; \\: ; : ﻿".split(" "),o=0;s.length>o;o++)d[s[o]]="﻿"+o,d["﻿"+o]=s[o];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function i(e,t){var n,i,o,s;n=y[e+"-top"+t],n&&(i=y[e+"-right"+t],n==i&&(o=y[e+"-bottom"+t],i==o&&(s=y[e+"-left"+t],o==s&&(y[e+t]=s,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function o(e){var t,n=y[e];if(n&&!(0>n.indexOf(" "))){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function s(e,t,n,i){o(t)&&o(n)&&o(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function u(e){return v=!0,d[e]}function h(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function f(e,t,n,i,o,s){return(o=o||s)?(o=h(o),"'"+o.replace(/\'/g,"\\'")+"'"):(t=h(t||n||i),b&&(t=b.call(w,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var p,m,g,v,y={},b=e.url_converter,w=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,u).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,u)});p=l.exec(t);)m=p[1].replace(c,"").toLowerCase(),g=p[2].replace(c,""),m&&g.length>0&&("font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(r,f),y[m]=v?h(g,!0):g),l.lastIndex=p.index+p[0].length;i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),s("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function o(n){var o,s,a,l;if(o=t.styles[n])for(s=0,a=o.length;a>s;s++)n=o[s],l=e[n],l!==i&&l.length>0&&(r+=(r.length>0?" ":"")+n+": "+l+";")}var s,a,r="";if(n&&t&&t.styles)o("*"),o(n);else for(s in e)a=e[s],a!==i&&a.length>0&&(r+=(r.length>0?" ":"")+s+": "+a+";");return r}}},function(e){function t(e,t){return e.split(t||",")}function n(e,n){function i(t){return t.replace(/[A-Z]+/g,function(t){return i(e[t])})}var o,s={};for(o in e)e.hasOwnProperty(o)&&(e[o]=i(e[o]));return i(n).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,n,i,o){i=t(i,"|"),s[n]={attributes:a(i),attributesOrder:i,children:a(o,"|",{"#comment":{}})}}),s}function i(){var e=s.html5;return e||(e=s.html5=n({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),e}function o(){var e=s.html4;return e||(e=s.html4=n({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),e}var s={},a=e.makeMap,r=e.each;e.html.Schema=function(n){function l(t,i,o){var r=n[t];return r?r=a(r,",",a(r.toUpperCase()," ")):(r=s[t],r||(r=a(i," ",a(i.toUpperCase()," ")),r=e.extend(r,o),s[t]=r)),r}function c(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(n){var i,o,s,r,l,d,u,h,f,p,m,g,v,y,b,w,_,C,x,T=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,D=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,N=/[*?+]/;if(n)for(n=t(n),S["@"]&&(w=S["@"].attributes,_=S["@"].attributesOrder),i=0,o=n.length;o>i;i++)if(l=T.exec(n[i])){if(y=l[1],f=l[2],b=l[3],h=l[4],g={},v=[],d={attributes:g,attributesOrder:v},"#"===y&&(d.paddEmpty=!0),"-"===y&&(d.removeEmpty=!0),w){for(C in w)g[C]=w[C];v.push.apply(v,_)}if(h)for(h=t(h,"|"),s=0,r=h.length;r>s;s++)if(l=D.exec(h[s])){if(u={},m=l[1],p=l[2].replace(/::/g,":"),y=l[3],x=l[4],"!"===m&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(p),u.required=!0),"-"===m){delete g[p],v.splice(e.inArray(v,p),1);continue}y&&("="===y&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:p,value:x}),u.defaultValue=x),":"===y&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:p,value:x}),u.forcedValue=x),"<"===y&&(u.validValues=a(x,"?"))),N.test(p)?(d.attributePatterns=d.attributePatterns||[],u.pattern=c(p),d.attributePatterns.push(u)):(g[p]||v.push(p),g[p]=u)}w||"@"!=f||(w=g,_=v),b&&(d.outputName=f,S[b]=d),N.test(f)?(d.pattern=c(f),k.push(d)):S[f]=d}}function u(e){S={},k=[],d(e),r(g,function(e,t){T[t]=e.children})}function h(e){var n=/^(~)?(.+)$/;e&&r(t(e),function(e){var t=n.exec(e),i="~"===t[1],o=i?"span":"div",s=t[2];T[s]=T[o],D[s]=o,i||(_[s.toUpperCase()]={},_[s]={}),S[s]||(S[s]=S[o]),r(T,function(e){e[o]&&(e[s]=e[o])})})}function f(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&r(t(e),function(e){var i,o,s=n.exec(e);s&&(o=s[1],i=o?T[s[2]]:T[s[2]]={"#comment":{}},i=T[s[2]],r(t(s[3],"|"),function(e){"-"===o?delete i[e]:i[e]={}}))})}function p(e){var t,n=S[e];if(n)return n;for(t=k.length;t--;)if(n=k[t],n.pattern.test(e))return n}var m,g,v,y,b,w,_,C,x=this,S={},T={},k=[],D={};n=n||{},g="html5"==n.schema?i():o(),n.verify_html===!1&&(n.valid_elements="*[*]"),n.valid_styles&&(m={},r(n.valid_styles,function(t,n){m[n]=e.explode(t)})),v=l("whitespace_elements","pre script noscript style textarea"),y=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),w=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),C=l("non_empty_elements","td th iframe video audio object",b),textBlockElementsMap=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),_=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),n.valid_elements?u(n.valid_elements):(r(g,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},T[t]=e.children}),"html5"!=n.schema&&r(t("strong/b,em/i"),function(e){e=t(e,"/"),S[e[1]].outputName=e[0]}),S.img.attributesDefault=[{name:"alt",value:""}],r(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(e){S[e]&&(S[e].removeEmpty=!0)}),r(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){S[e].paddEmpty=!0})),h(n.custom_elements),f(n.valid_children),d(n.extended_valid_elements),f("+ol[ul|ol],+ul[ul|ol]"),n.invalid_elements&&e.each(e.explode(n.invalid_elements),function(e){S[e]&&delete S[e]}),p("span")||d("span[!data-mce-type|*]"),x.children=T,x.styles=m,x.getBoolAttrs=function(){return w},x.getBlockElements=function(){return _},x.getTextBlockElements=function(){return textBlockElementsMap},x.getShortEndedElements=function(){return b},x.getSelfClosingElements=function(){return y},x.getNonEmptyElements=function(){return C},x.getWhiteSpaceElements=function(){return v},x.isValidChild=function(e,t){var n=T[e];return!(!n||!n[t])},x.isValid=function(e,t){var n,i,o=p(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},x.getElementRule=p,x.getCustomElements=function(){return D},x.addValidElements=d,x.setValidElements=u,x.addCustomElements=h,x.addValidChildren=f,x.elements=S}}(tinymce),function(e){e.html.SaxParser=function(t,n){var i=this,o=function(){};t=t||{},i.schema=n=n||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(i[e]=t[e]||o)}),i.parse=function(i){function o(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)e=H[n],e.valid&&F.end(e.name);H.length=t}}function s(e,t,n,i,o){var s,a;if(t=t.toLowerCase(),n=t in g?t:$(n||i||o||""),y&&!f&&0!==t.indexOf("data-")){if(s=S[t],!s&&T){for(a=T.length;a--&&(s=T[a],!s.pattern.test(t)););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(n in s.validValues))return}c.map[t]=n,c.push({name:t,value:n})}var a,r,l,c,d,u,h,f,p,m,g,v,y,b,w,_,C,x,S,T,k,D,N,E,A,M,I,P,L,R,F=this,O=0,H=[],B=0,$=e.html.Entities.decode;for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,I={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},m=n.getShortEndedElements(),E=t.self_closing_elements||n.getSelfClosingElements(),g=n.getBoolAttrs(),y=t.validate,p=t.remove_internals,L=t.fix_self_closing,R=e.isIE,x=/^:/;a=A.exec(i);){if(a.index>O&&F.text($(i.substr(O,a.index-O))),r=a[6])r=r.toLowerCase(),R&&x.test(r)&&(r=r.substr(1)),o(r);else if(r=a[7]){if(r=r.toLowerCase(),R&&x.test(r)&&(r=r.substr(1)),v=r in m,L&&E[r]&&H.length>0&&H[H.length-1].name===r&&o(r),!y||(b=n.getElementRule(r))){if(w=!0,y&&(S=b.attributes,T=b.attributePatterns),(C=a[8])?(f=-1!==C.indexOf("data-mce-type"),f&&p&&(w=!1),c=[],c.map={},C.replace(M,s)):(c=[],c.map={}),y&&!f){if(k=b.attributesRequired,D=b.attributesDefault,N=b.attributesForced)for(d=N.length;d--;)_=N[d],h=_.name,P=_.value,"{$uid}"===P&&(P="mce_"+B++),c.map[h]=P,c.push({name:h,value:P});if(D)for(d=D.length;d--;)_=D[d],h=_.name,h in c.map||(P=_.value,"{$uid}"===P&&(P="mce_"+B++),c.map[h]=P,c.push({name:h,value:P}));if(k){for(d=k.length;d--&&!(k[d]in c.map););-1===d&&(w=!1)}c.map["data-mce-bogus"]&&(w=!1)}w&&F.start(r,c,v)}else w=!1;if(l=I[r]){l.lastIndex=O=a.index+a[0].length,(a=l.exec(i))?(w&&(u=i.substr(O,a.index-O)),O=a.index+a[0].length):(u=i.substr(O),O=i.length),w&&u.length>0&&F.text(u,!0),w&&F.end(r),A.lastIndex=O;continue}v||(C&&C.indexOf("/")==C.length-1?w&&F.end(r):H.push({name:r,valid:w}))}else(r=a[1])?F.comment(r):(r=a[2])?F.cdata(r):(r=a[3])?F.doctype(r):(r=a[4])&&F.pi(r,a[5]);O=a.index+a[0].length}for(i.length>O&&F.text($(i.substr(O))),d=H.length-1;d>=0;d--)r=H[d],r.valid&&F.end(r.name)}}}(tinymce),function(e){function t(e,t,n){var i,o,s=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[s])return e[s];if(e!==t){if(i=e[a])return i;for(o=e.parent;o&&o!==t;o=o.parent)if(i=o[a])return i}}function n(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var i=/^[ \t\r\n]*$/,o={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(n.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,o,s=this;if("string"!=typeof e){for(i in e)s.attr(i,e[i]);return s}if(n=s.attributes){if(t!==o){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),s;return s}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,s}return n.map[e]}},clone:function(){var e,t,i,o,s,a=this,r=new n(a.name,a.type);if(i=a.attributes){for(s=[],s.map={},e=0,t=i.length;t>e;e++)o=i[e],"id"!==o.name&&(s[s.length]={name:o.name,value:o.value},s.map[o.name]=o.value);r.attributes=s}return r.value=a.value,r.shortEnded=a.shortEnded,r},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(e){var n,i=this,o=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&o.push(n);return o},empty:function(){var e,n,i,o=this;if(o.firstChild){for(e=[],i=o.firstChild;i;i=t(i,o))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return o.firstChild=o.lastChild=null,o},isEmpty:function(e){var n,o,s=this,a=s.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(n=a.attributes.length;n--;)if(o=a.attributes[n].name,"name"===o||0===o.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!i.test(a.value))return!1}while(a=t(a,s));return!0},walk:function(e){return t(this,null,e)}}),e.extend(n,{create:function(e,t){var i,s;if(i=new n(e,o[e]||1),t)for(s in t)i.attr(s,t[s]);return i}}),e.html.Node=n}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(n,i){function o(n){var o,a,r,l,c,d,u,h,f,p,m,g,v,y;for(m=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),p=i.getNonEmptyElements(),g=i.getTextBlockElements(),o=0;n.length>o;o++)if(a=n[o],a.parent&&!a.fixed)if(g[a.name]&&"li"==a.parent.name){for(v=a.next;v&&g[v.name];)v.name="li",v.fixed=!0,a.parent.insert(v,a.parent),v=v.next;a.unwrap(a)}else{for(l=[a],r=a.parent;r&&!i.isValidChild(r.name,a.name)&&!m[r.name];r=r.parent)l.push(r);if(r&&l.length>1){for(l.reverse(),c=d=s.filterNode(l[0].clone()),f=0;l.length-1>f;f++){for(i.isValidChild(d.name,l[f].name)?(u=s.filterNode(l[f].clone()),d.append(u)):u=d,h=l[f].firstChild;h&&h!=l[f+1];)y=h.next,u.append(h),h=y;d=u}c.isEmpty(p)?r.insert(a,l[0],!0):(r.insert(c,l[0],!0),r.insert(a,c)),r=l[0],(r.isEmpty(p)||r.firstChild===r.lastChild&&"br"===r.firstChild.name)&&r.empty().remove()}else if(a.parent){if("li"===a.name){if(v=a.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(a);continue}if(v=a.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(a,v.firstChild,!0);continue}a.wrap(s.filterNode(new t("ul",1)));continue}i.isValidChild(a.parent.name,"div")&&i.isValidChild("div",a.name)?a.wrap(s.filterNode(new t("div",1))):"style"===a.name||"script"===a.name?a.empty().remove():a.unwrap()}}}var s=this,a={},r=[],l={},c={};n=n||{},n.validate="validate"in n?n.validate:!0,n.root_name=n.root_name||"body",s.schema=i=i||new e.html.Schema,s.filterNode=function(e){var t,n,i;n in a&&(i=l[n],i?i.push(e):l[n]=[e]),t=r.length;for(;t--;)n=r[t].name,n in e.attributes.map&&(i=c[n],i?i.push(e):c[n]=[e]);return e},s.addNodeFilter=function(t,n){e.each(e.explode(t),function(e){var t=a[e];t||(a[e]=t=[]),t.push(n)})},s.addAttributeFilter=function(t,n){e.each(e.explode(t),function(e){var t;for(t=0;r.length>t;t++)if(r[t].name===e)return r[t].callbacks.push(n),void 0;r.push({name:e,callbacks:[n]})})},s.parse=function(s,d){function u(){for(var e,t,n=g.firstChild;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!k[n.name]&&!n.attr("data-mce-type")?t?t.append(n):(t=h(R,1),g.insert(t,n),t.append(n)):t=null,n=e}function h(e,n){var i,o=new t(e,n);return e in a&&(i=l[e],i?i.push(o):l[e]=[o]),o}function f(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(E,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}function p(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var m,g,v,y,b,w,_,C,x,S,T,k,D,N,E,A,M,I,P,L,R,F=[];if(d=d||{},l={},c={},k=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),i.getBlockElements()),L=i.getNonEmptyElements(),P=i.children,T=n.validate,R="forced_root_block"in d?d.forced_root_block:n.forced_root_block,I=i.getWhiteSpaceElements(),D=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,M=/^[ \t\r\n]+$/,m=new e.html.SaxParser({validate:T,self_closing_elements:p(i.getSelfClosingElements()),cdata:function(e){v.append(h("#cdata",4)).value=e},text:function(e,t){var n;N||(e=e.replace(A," "),v.lastChild&&k[v.lastChild.name]&&(e=e.replace(D,""))),0!==e.length&&(n=h("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(h("#comment",8)).value=e},pi:function(e,t){v.append(h(e,7)).value=t,f(v)},doctype:function(e){var t;t=v.append(h("#doctype",10)),t.value=e,f(v)},start:function(e,t,n){var o,s,a,l,d;if(a=T?i.getElementRule(e):{}){for(o=h(a.outputName||e,1),o.attributes=t,o.shortEnded=n,v.append(o),d=P[v.name],d&&P[o.name]&&!d[o.name]&&F.push(o),s=r.length;s--;)l=r[s].name,l in t.map&&(x=c[l],x?x.push(o):c[l]=[o]);k[e]&&f(o),n||(v=o),!N&&I[e]&&(N=!0)}},end:function(e){var n,o,s,a,r;if(o=T?i.getElementRule(e):{}){if(k[e]&&!N){if(n=v.firstChild,n&&3===n.type)for(s=n.value.replace(D,""),s.length>0?(n.value=s,n=n.next):(a=n.next,n.remove(),n=a);n&&3===n.type;)s=n.value,a=n.next,(0===s.length||M.test(s))&&(n.remove(),n=a),n=a;if(n=v.lastChild,n&&3===n.type)for(s=n.value.replace(E,""),s.length>0?(n.value=s,n=n.prev):(a=n.prev,n.remove(),n=a);n&&3===n.type;)s=n.value,a=n.prev,(0===s.length||M.test(s))&&(n.remove(),n=a),n=a}if(N&&I[e]&&(N=!1),(o.removeEmpty||o.paddEmpty)&&v.isEmpty(L))if(o.paddEmpty)v.empty().append(new t("#text","3")).value=" ";else if(!v.attributes.map.name&&!v.attributes.map.id)return r=v.parent,v.empty().remove(),v=r,void 0;v=v.parent}}},i),g=v=new t(d.context||n.root_name,11),m.parse(s),T&&F.length&&(d.context?d.invalid=!0:o(F)),R&&"body"==g.name&&u(),!d.invalid){for(S in l){for(x=a[S],y=l[S],_=y.length;_--;)y[_].parent||y.splice(_,1);for(b=0,w=x.length;w>b;b++)x[b](y,S,d)}for(b=0,w=r.length;w>b;b++)if(x=r[b],x.name in c){for(y=c[x.name],_=y.length;_--;)y[_].parent||y.splice(_,1);for(_=0,C=x.callbacks.length;C>_;_++)x.callbacks[_](y,x.name,d)}}return g},n.remove_trailing_brs&&s.addNodeFilter("br",function(t){var n,o,s,a,r,l,c=t.length,d=e.extend({},i.getBlockElements()),u=i.getNonEmptyElements();for(d.body=1,n=0;c>n;n++)if(o=t[n],s=o.parent,d[o.parent.name]&&o===s.lastChild){for(r=o.prev;r;){if(l=r.name,"span"!==l||"bookmark"!==r.attr("data-mce-type")){if("br"!==l)break;if("br"===l){o=null;break}}r=r.prev}o&&(o.remove(),s.isEmpty(u)&&(elementRule=i.getElementRule(s.name),elementRule&&(elementRule.removeEmpty?s.remove():elementRule.paddEmpty&&(s.empty().append(new e.html.Node("#text",3)).value=" "))))}else{for(a=o;s.firstChild===a&&s.lastChild===a&&(a=s,!d[s.name]);)s=s.parent;a===s&&(textNode=new e.html.Node("#text",3),textNode.value=" ",o.replace(textNode))}}),n.allow_html_in_named_anchor||s.addAttributeFilter("id,name",function(e){for(var t,n,i,o,s=e.length;s--;)if(o=e[s],"a"===o.name&&o.firstChild&&!o.attr("href")){i=o.parent,t=o.lastChild;do n=t.prev,i.insert(t,o),t=n;while(t)}})}}(tinymce),tinymce.html.Writer=function(e){var t,n,i,o,s,a=[];return e=e||{},t=e.indent,n=tinymce.makeMap(e.indent_before||""),i=tinymce.makeMap(e.indent_after||""),o=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(e,r,l){var c,d,u,h;if(t&&n[e]&&a.length>0&&(h=a[a.length-1],h.length>0&&"\n"!==h&&a.push("\n")),a.push("<",e),r)for(c=0,d=r.length;d>c;c++)u=r[c],a.push(" ",u.name,'="',o(u.value,!0),'"');a[a.length]=!l||s?">":" />",l&&t&&i[e]&&a.length>0&&(h=a[a.length-1],h.length>0&&"\n"!==h&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&i[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",n,"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,n){var i=this,o=new e.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,i.schema=n=n||new e.html.Schema,i.writer=o,i.serialize=function(e){function i(e){var t,r,l,c,d,u,h,f,p,m=s[e.type];if(m)m(e);else{if(t=e.name,r=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(u=[],u.map={},p=n.getElementRule(e.name),h=0,f=p.attributesOrder.length;f>h;h++)c=p.attributesOrder[h],c in l.map&&(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));for(h=0,f=l.length;f>h;h++)c=l[h].name,c in u.map||(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));l=u}if(o.start(e.name,l,r),!r){if(e=e.firstChild)do i(e);while(e=e.next);o.end(t)}}}var s,a;return a=t.validate,s={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do i(e);while(e=e.next)}},o.reset(),1!=e.type||t.inner?s[11](e):i(e),o.getContent()}}}(tinymce),tinymce.dom={},function(e,t){function n(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function o(e,t){function n(){return!1}function i(){return!0}var o,s=t||{};for(o in e)"layerX"!==o&&"layerY"!==o&&(s[o]=e[o]);return s.target||(s.target=s.srcElement||document),s.preventDefault=function(){s.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)
},s.stopPropagation=function(){s.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=i,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=n,s.isPropagationStopped=n,s.isImmediatePropagationStopped=n),s}function s(e,t,o){function s(){o.domLoaded||(o.domLoaded=!0,t(l))}var a=e.document,l={type:"ready"};return"complete"==a.readyState?(s(),void 0):(r?n(e,"DOMContentLoaded",s):(n(a,"readystatechange",function(){"complete"===a.readyState&&(i(a,"readystatechange",arguments.callee),s())}),a.documentElement.doScroll&&e===e.top&&function(){try{a.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}s()}()),n(e,"load",s),void 0)}function a(e){function a(e,t){var n,i,o,s;if(n=f[t][e.type])for(i=0,o=n.length;o>i;i++)if(s=n[i],s&&s.func.call(s.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var l,c,d,u,h=this,f={};d="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},l=1,h.domLoaded=!1,h.events=f,h.bind=function(i,p,m,g){function v(e){a(o(e||T.event),y)}var y,b,w,_,C,x,S,T=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[t]?(y=i[t],f[y]||(f[y]={})):(y=l++,i[t]=y,f[y]={}),g=g||i,p=p.split(" "),w=p.length;w--;)_=p[w],x=v,C=S=!1,"DOMContentLoaded"===_&&(_="ready"),!h.domLoaded&&"complete"!=i.readyState||"ready"!==_?(d||(C=u[_],C&&(x=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=o(e||T.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,y))})),c||"focusin"!==_&&"focusout"!==_||(S=!0,C="focusin"===_?"focus":"blur",x=function(e){e=o(e||T.event),e.type="focus"===e.type?"focusin":"focusout",a(e,y)}),b=f[y][_],b?b.push({func:m,scope:g}):(f[y][_]=b=[{func:m,scope:g}],b.fakeName=C,b.capture=S,b.nativeHandler=x,r||(b.proxyHandler=e(y)),"ready"===_?s(i,x,h):n(i,C||_,r?x:b.proxyHandler,S))):(h.domLoaded=!0,m.call(g,o({type:_})));return i=b=0,m}},h.unbind=function(e,n,o){var s,a,l,c,d,u;if(!e||3===e.nodeType||8===e.nodeType)return h;if(s=e[t]){if(u=f[s],n){for(n=n.split(" "),l=n.length;l--;)if(d=n[l],a=u[d]){if(o)for(c=a.length;c--;)a[c].func===o&&a.splice(c,1);o&&0!==a.length||(delete u[d],i(e,a.fakeName||d,r?a.nativeHandler:a.proxyHandler,a.capture))}}else{for(d in u)a=u[d],i(e,a.fakeName||d,r?a.nativeHandler:a.proxyHandler,a.capture);u={}}for(d in u)return h;delete f[s];try{delete e[t]}catch(p){e[t]=null}}return h},h.fire=function(e,n,i){var s,r;if(!e||3===e.nodeType||8===e.nodeType)return h;r=o(null,i),r.type=n;do s=e[t],s&&a(r,s),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!r.isPropagationStopped());return h},h.clean=function(e){var n,i,o=h.unbind;if(!e||3===e.nodeType||8===e.nodeType)return h;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),i=e.getElementsByTagName("*"),n=i.length;n--;)e=i[n],e[t]&&o(e);return h},h.callNativeHandler=function(e,t){f&&f[e][t.type].nativeHandler(t)},h.destory=function(){f={}},h.add=function(e,t,n,i){"string"==typeof e&&(e=document.getElementById(e));{if(!(e&&e instanceof Array))return"init"===t&&(t="ready"),h.bind(e,t instanceof Array?t.join(" "):t,n,i);for(var o=e.length;o--;)h.add(e[o],t,n,i)}},h.remove=function(e,t,n,i){if(!e)return h;if("string"==typeof e&&(e=document.getElementById(e)),e instanceof Array){for(var o=e.length;o--;)h.remove(e[o],t,n,i);return h}return h.unbind(e,t instanceof Array?t.join(" "):t,n)},h.clear=function(e){return"string"==typeof e&&(e=document.getElementById(e)),h.clean(e)},h.cancel=function(e){return e&&(h.prevent(e),h.stop(e)),!1},h.prevent=function(e){return e.preventDefault||(e=o(e)),e.preventDefault(),!1},h.stop=function(e){return e.stopPropagation||(e=o(e)),e.stopPropagation(),!1}}var r=!!document.addEventListener;e.EventUtils=a,e.Event=new a(function(e){return function(t){tinymce.dom.Event.callNativeHandler(e,t)}}),e.Event.bind(window,"ready",function(){}),e=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(e,t){function n(e,n,i,o){var s,a;if(e){if(!o&&e[n])return e[n];if(e!=t){if(s=e[i])return s;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(s=a[i])return s}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}},function(e){var t=e.each,n=e.is,i=e.isWebKit,o=e.isIE,s=e.html.Entities,a=/^([a-z0-9],?)+$/i,r=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,n){var i,o=this;if(o.doc=t,o.win=window,o.files={},o.cssFlicker=!1,o.counter=0,o.stdMode=!e.isIE||t.documentMode>=8,o.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in t.createElement("a"),o.settings=n=e.extend({keep_values:!1,hex_colors:1},n),o.schema=n.schema,o.styles=new e.html.Styles({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(s){o.cssFlicker=!0}o.fixDoc(t),o.events=n.ownEvents?new e.dom.EventUtils(n.proxy):e.dom.Event,e.addUnload(o.destroy,o),i=n.schema?n.schema.getBlockElements():{},o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!i[e.nodeName]):!!i[e]}},fixDoc:function(e){var t,n=this.settings;if(o&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,n){var i,s,a=this;return!o||1!==e.nodeType||n?e.cloneNode(n):(s=a.doc,n?i.firstChild:(i=s.createElement(e.nodeName),t(a.getAttribs(e),function(t){a.setAttrib(i,t.nodeName,a.getAttrib(e,t.nodeName))}),i))},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,i,o){var s,a=this,r=a.settings,l=[];for(e=a.get(e),o=void 0===o,r.strict_root&&(i=i||a.getRoot()),n(t,"string")&&(s=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return a.is(e,s)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!o)return e;l.push(e)}e=e.parentNode}return o?l:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e.dom.Sizzle(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(t,n){var i;if(void 0===t.length){if("*"===n)return 1==t.nodeType;if(a.test(n)){for(n=n.toLowerCase().split(/,/),t=t.nodeName.toLowerCase(),i=n.length-1;i>=0;i--)if(n[i]==t)return!0;return!1}}return e.dom.Sizzle.matches(n,t.nodeType?[t]:t).length>0},add:function(e,t,i,o,s){var a=this;return this.run(e,function(e){var r;return r=n(t,"string")?a.doc.createElement(t):t,a.setAttribs(r,i),o&&(o.nodeType?r.appendChild(o):a.setHTML(r,o)),s?r:e.appendChild(r)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,o="",s=this;o+="<"+e;for(i in t)t.hasOwnProperty(i)&&(o+=" "+i+'="'+s.encode(t[i])+'"');return"undefined"!=typeof n?o+">"+n+"</"+e+">":o+" />"},remove:function(t,n){return this.run(t,function(t){var i,o=t.parentNode;if(!o)return null;if(n)for(;i=t.firstChild;)!e.isIE||3!==i.nodeType||i.nodeValue?o.insertBefore(i,t):t.removeChild(i);return o.removeChild(t)})},setStyle:function(t,n,i){var s=this;return s.run(t,function(a){var r;switch(r=a.style,n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),s.pixelStyles.test(n)&&(e.is(i,"number")||/^[\-0-9\.]+$/.test(i))&&(i+="px"),n){case"opacity":o&&(r.filter=""===i?"":"alpha(opacity="+100*i+")",t.currentStyle&&t.currentStyle.hasLayout||(r.display="inline-block")),r[n]=r["-moz-opacity"]=r["-khtml-opacity"]=i||"";break;case"float":o?r.styleFloat=i:r.cssFloat=i;break;default:r[n]=i||""}s.settings.update_styles&&s.setAttrib(a,"data-mce-style")})},getStyle:function(e,t,n){if(e=this.get(e)){if(this.doc.defaultView&&n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(i){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=o?"styleFloat":"cssFloat"),e.currentStyle&&n?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,n){var i,o=this,s=o.settings;i=s.update_styles,s.update_styles=0,t(n,function(t,n){o.setStyle(e,n,t)}),s.update_styles=i,s.update_styles&&o.setAttrib(e,s.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,i,o){var s=this;if(e&&i)return s.settings.strict&&(i=i.toLowerCase()),this.run(e,function(e){var a=s.settings,r=e.getAttribute(i);if(null!==o)switch(i){case"style":if(!n(o,"string"))return t(o,function(t,n){s.setStyle(e,n,t)}),void 0;a.keep_values&&(o&&!s._isRes(o)?e.setAttribute("data-mce-style",o,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=o;break;case"class":e.className=o||"";break;case"src":case"href":a.keep_values&&(a.url_converter&&(o=a.url_converter.call(a.url_converter_scope||s,o,i,e)),s.setAttrib(e,"data-mce-"+i,o,2));break;case"shape":e.setAttribute("data-mce-style",o)}if(n(o)&&null!==o&&0!==o.length?e.setAttribute(i,""+o,2):e.removeAttribute(i,2),tinyMCE.activeEditor&&r!=o){var l=tinyMCE.activeEditor;l.onSetAttrib.dispatch(l,e,i,o)}})},setAttribs:function(e,n){var i=this;return this.run(e,function(e){t(n,function(t,n){i.setAttrib(e,n,t)})})},getAttrib:function(t,s,a){var r,l,c=this;if(t=c.get(t),!t||1!==t.nodeType)return a===l?!1:a;if(n(a)||(a=""),/^(src|href|style|coords|shape)$/.test(s)&&(r=t.getAttribute("data-mce-"+s)))return r;if(o&&c.props[s]&&(r=t[c.props[s]],r=r&&r.nodeValue?r.nodeValue:r),r||(r=t.getAttribute(s,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(s))return t[c.props[s]]===!0&&""===r?s:r?s:"";if("FORM"===t.nodeName&&t.getAttributeNode(s))return t.getAttributeNode(s).nodeValue;if("style"===s&&(r=r||t.style.cssText,r&&(r=c.serializeStyle(c.parseStyle(r),t.nodeName),c.settings.keep_values&&!c._isRes(r)&&t.setAttribute("data-mce-style",r))),i&&"class"===s&&r&&(r=r.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),o)switch(s){case"rowspan":case"colspan":1===r&&(r="");break;case"size":("+0"===r||20===r||0===r)&&(r="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===r&&(r="");break;case"hspace":-1===r&&(r="");break;case"maxlength":case"tabindex":(32768===r||2147483647===r||"32768"===r)&&(r="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===r?s:a;case"shape":r=r.toLowerCase();break;default:0===s.indexOf("on")&&r&&(r=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+r))}return r!==l&&null!==r&&""!==r?""+r:a},getPos:function(e,t){var n,i,o=this,s=0,a=0,r=o.doc;if(e=o.get(e),t=t||r.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),n=o.boxModel?r.documentElement:r.body,s=e.left+(r.documentElement.scrollLeft||r.body.scrollLeft)-n.clientTop,a=e.top+(r.documentElement.scrollTop||r.body.scrollTop)-n.clientLeft,{x:s,y:a};for(i=e;i&&i!=t&&i.nodeType;)s+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)s-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode}return{x:s,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n=this.doc;styleElm=n.getElementById("mceDefaultStyles"),styleElm||(styleElm=n.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",t=n.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(styleElm,t.firstChild):t.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=e:styleElm.appendChild(n.createTextNode(e))},loadCSS:function(n){var i,s=this,a=s.doc;n||(n=""),i=a.getElementsByTagName("head")[0],t(n.split(","),function(t){var n;s.files[t]||(s.files[t]=!0,n=s.create("link",{rel:"stylesheet",href:e._addVer(t)}),o&&a.documentMode&&a.recalc&&(n.onload=function(){a.recalc&&a.recalc(),n.onload=null}),i.appendChild(n))})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=(""!=n?n+" ":"")+t):0})},removeClass:function(t,n){var i,o=this;return o.run(t,function(t){var s;return o.hasClass(t,n)?(i||(i=new RegExp("(^|\\s+)"+n+"(\\s+|$)","g")),s=t.className.replace(i," "),s=e.trim(" "!=s?s:""),t.className=s,s||(t.removeAttribute("class"),t.removeAttribute("className")),s):t.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(n,i){var s=this;return s.run(n,function(n){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br />"+i,n.removeChild(n.firstChild)}catch(a){var r=s.create("div");r.innerHTML="<br />"+i,t(e.grep(r.childNodes),function(e,t){t&&n.canHaveHTML&&n.appendChild(e)})}}else n.innerHTML=i;return i})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){function i(e,t,n){var i,o;for(o=n.createElement("body"),o.innerHTML=t,i=o.lastChild;i;)s.insertAfter(i.cloneNode(!0),e),i=i.previousSibling;s.remove(e)}var s=this;return this.run(e,function(e){if(e=s.get(e),1==e.nodeType)if(n=n||e.ownerDocument||s.doc,o)try{o&&1==e.nodeType?e.outerHTML=t:i(e,t,n)}catch(a){i(e,t,n)}else i(e,t,n)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(i,o,s){var a=this;return n(o,"array")&&(i=i.cloneNode(!0)),a.run(o,function(n){return s&&t(e.grep(n.childNodes),function(e){i.appendChild(e)}),n.parentNode.replaceChild(i,n)})},rename:function(e,n){var i,o=this;return e.nodeName!=n.toUpperCase()&&(i=o.create(n),t(o.getAttribs(e),function(t){o.setAttrib(i,t.nodeName,o.getAttrib(e,t.nodeName))}),o.replace(i,e,1)),i||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){function t(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return n?e="#"+t(n[1])+t(n[2])+t(n[3]):e},getClasses:function(){function n(o){t(o.imports,function(e){n(e)}),t(o.cssRules||o.rules,function(o){switch(o.type||1){case 1:o.selectorText&&t(o.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(i=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),(!r||(t=r(t,i)))&&(a[t]||(s.push({"class":t}),a[t]=1)))});break;case 3:n(o.styleSheet)}})}var i,o=this,s=[],a={},r=o.settings.class_filter;if(o.classes)return o.classes;try{t(o.doc.styleSheets,n)}catch(l){}return s.length>0&&(o.classes=s),s},run:function(e,n,i){var o,s=this;return s.doc&&"string"==typeof e&&(e=s.get(e)),e?(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(o=[],t(e,function(e,t){e&&("string"==typeof e&&(e=s.doc.getElementById(e)),o.push(n.call(i,e,t)))}),o)):!1},getAttribs:function(e){var t;return e=this.get(e),e?o?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(t,n){var i,o,s,a,l,c=this,d=0;if(t=t.firstChild){a=new e.dom.TreeWalker(t,t.parentNode),n=n||c.schema?c.schema.getNonEmptyElements():null;do{if(s=t.nodeType,1===s){if(t.getAttribute("data-mce-bogus"))continue;if(l=t.nodeName.toLowerCase(),n&&n[l]){if("br"===l){d++;continue}return!1}for(o=c.getAttribs(t),i=t.attributes.length;i--;)if(l=t.attributes[i].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(8==s)return!1;if(3===s&&!r.test(t.nodeValue))return!1}while(t=a.next())}return 1>=d},destroy:function(t){var n=this;n.win=n.doc=n.root=n.events=n.frag=null,t||e.removeUnload(n.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var n,i,o,s=0;if(e)for(n=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling)o=e.nodeType,(!t||3!=o||o!=n&&e.nodeValue.length)&&(s++,n=o);return s},split:function(t,n,i){function o(t){function n(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var i,s=t.childNodes,a=t.nodeType;if(1!=a||"bookmark"!=t.getAttribute("data-mce-type")){for(i=s.length-1;i>=0;i--)o(s[i]);if(9!=a){if(3==a&&t.nodeValue.length>0){var r=e.trim(t.nodeValue).length;if(!l.isBlock(t.parentNode)||r>0||0===r&&n(t))return}else if(1==a&&(s=t.childNodes,1==s.length&&s[0]&&1==s[0].nodeType&&"bookmark"==s[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(s[0],t),s.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;l.remove(t)}return t}}var s,a,r,l=this,c=l.createRng();return t&&n?(c.setStart(t.parentNode,l.nodeIndex(t)),c.setEnd(n.parentNode,l.nodeIndex(n)),s=c.extractContents(),c=l.createRng(),c.setStart(n.parentNode,l.nodeIndex(n)+1),c.setEnd(t.parentNode,l.nodeIndex(t)+1),a=c.extractContents(),r=t.parentNode,r.insertBefore(o(s),t),i?r.replaceChild(i,n):r.insertBefore(n,t),r.insertBefore(o(a),t),l.remove(t),i||n):void 0},bind:function(e,t,n,i){return this.events.add(e,t,n,i||this)},unbind:function(e,t,n){return this.events.remove(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},_findSib:function(e,t,i){var o=this,s=t;if(e)for(n(s,"string")&&(s=function(e){return o.is(e,t)}),e=e[i];e;e=e[i])if(s(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function n(){return L.createDocumentFragment()}function i(e,t){C(H,e,t)}function o(e,t){C(B,e,t)}function s(e){i(e.parentNode,V(e))}function a(e){i(e.parentNode,V(e)+1)}function r(e){o(e.parentNode,V(e))}function l(e){o(e.parentNode,V(e)+1)}function c(e){e?(P[j]=P[z],P[W]=P[$]):(P[z]=P[j],P[$]=P[W]),P.collapsed=H}function d(e){s(e),l(e)}function u(e){i(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function h(e,t){var n=P[z],i=P[$],o=P[j],s=P[W],a=t.startContainer,r=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?_(n,i,a,r):1===e?_(o,s,a,r):2===e?_(o,s,l,c):3===e?_(n,i,l,c):void 0}function f(){x(O)}function p(){return x(R)}function m(){return x(F)}function g(t){var n,i,o=this[z],s=this[$];3!==o.nodeType&&4!==o.nodeType||!o.nodeValue?(o.childNodes.length>0&&(i=o.childNodes[s]),i?o.insertBefore(t,i):o.appendChild(t)):s?s>=o.nodeValue.length?e.insertAfter(t,o):(n=o.splitText(s),o.parentNode.insertBefore(t,n)):o.parentNode.insertBefore(t,o)}function v(e){var t=P.extractContents();P.insertNode(e),e.appendChild(t),P.selectNode(e)}function y(){return U(new t(e),{startContainer:P[z],startOffset:P[$],endContainer:P[j],endOffset:P[W],collapsed:P.collapsed,commonAncestorContainer:P.commonAncestorContainer})}function b(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function w(){return P[z]==P[j]&&P[$]==P[W]}function _(t,n,i,o){var s,a,r,l,c,d;if(t==i)return n==o?0:o>n?-1:1;for(s=i;s&&s.parentNode!=t;)s=s.parentNode;if(s){for(a=0,r=t.firstChild;r!=s&&n>a;)a++,r=r.nextSibling;return a>=n?-1:1}for(s=t;s&&s.parentNode!=i;)s=s.parentNode;if(s){for(a=0,r=i.firstChild;r!=s&&o>a;)a++,r=r.nextSibling;return o>a?-1:1}for(l=e.findCommonAncestor(t,i),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),d=i;d&&d.parentNode!=l;)d=d.parentNode;if(d||(d=l),c==d)return 0;for(r=l.firstChild;r;){if(r==c)return-1;if(r==d)return 1;r=r.nextSibling}}function C(t,n,i){var o,s;for(t?(P[z]=n,P[$]=i):(P[j]=n,P[W]=i),o=P[j];o.parentNode;)o=o.parentNode;for(s=P[z];s.parentNode;)s=s.parentNode;s==o?_(P[z],P[$],P[j],P[W])>0&&P.collapse(t):P.collapse(t),P.collapsed=w(),P.commonAncestorContainer=e.findCommonAncestor(P[z],P[j])}function x(e){var t,n,i,o,s,a,r,l=0,c=0;if(P[z]==P[j])return S(e);for(t=P[j],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[z])return T(t,e);++l}for(t=P[z],n=t.parentNode;n;t=n,n=n.parentNode){if(n==P[j])return k(t,e);++c}for(i=c-l,o=P[z];i>0;)o=o.parentNode,i--;for(s=P[j];0>i;)s=s.parentNode,i++;for(a=o.parentNode,r=s.parentNode;a!=r;a=a.parentNode,r=r.parentNode)o=a,s=r;return D(o,s,e)}function S(e){var t,i,o,s,a,r,l,c,d;if(e!=O&&(t=n()),P[$]==P[W])return t;if(3==P[z].nodeType){if(i=P[z].nodeValue,o=i.substring(P[$],P[W]),e!=F&&(s=P[z],c=P[$],d=P[W]-P[$],0===c&&d>=s.nodeValue.length-1?s.parentNode.removeChild(s):s.deleteData(c,d),P.collapse(H)),e==O)return;return o.length>0&&t.appendChild(L.createTextNode(o)),t}for(s=b(P[z],P[$]),a=P[W]-P[$];s&&a>0;)r=s.nextSibling,l=M(s,e),t&&t.appendChild(l),--a,s=r;return e!=F&&P.collapse(H),t}function T(e,t){var i,o,s,a,r,l;if(t!=O&&(i=n()),o=N(e,t),i&&i.appendChild(o),s=V(e),a=s-P[$],0>=a)return t!=F&&(P.setEndBefore(e),P.collapse(B)),i;for(o=e.previousSibling;a>0;)r=o.previousSibling,l=M(o,t),i&&i.insertBefore(l,i.firstChild),--a,o=r;return t!=F&&(P.setEndBefore(e),P.collapse(B)),i}function k(e,t){var i,o,s,a,r,l;for(t!=O&&(i=n()),s=E(e,t),i&&i.appendChild(s),o=V(e),++o,a=P[W]-o,s=e.nextSibling;s&&a>0;)r=s.nextSibling,l=M(s,t),i&&i.appendChild(l),--a,s=r;return t!=F&&(P.setStartAfter(e),P.collapse(H)),i}function D(e,t,i){var o,s,a,r,l,c,d,u;for(i!=O&&(s=n()),o=E(e,i),s&&s.appendChild(o),a=e.parentNode,r=V(e),l=V(t),++r,c=l-r,d=e.nextSibling;c>0;)u=d.nextSibling,o=M(d,i),s&&s.appendChild(o),d=u,--c;return o=N(t,i),s&&s.appendChild(o),i!=F&&(P.setStartAfter(e),P.collapse(H)),s}function N(e,t){var n,i,o,s,a,r=b(P[j],P[W]-1),l=r!=P[j];if(r==e)return A(r,l,B,t);for(n=r.parentNode,i=A(n,B,B,t);n;){for(;r;)o=r.previousSibling,s=A(r,l,B,t),t!=O&&i.insertBefore(s,i.firstChild),l=H,r=o;if(n==e)return i;r=n.previousSibling,n=n.parentNode,a=A(n,B,B,t),t!=O&&a.appendChild(i),i=a}}function E(e,t){var n,i,o,s,a,r=b(P[z],P[$]),l=r!=P[z];if(r==e)return A(r,l,H,t);for(n=r.parentNode,i=A(n,B,H,t);n;){for(;r;)o=r.nextSibling,s=A(r,l,H,t),t!=O&&i.appendChild(s),l=H,r=o;if(n==e)return i;r=n.nextSibling,n=n.parentNode,a=A(n,B,H,t),t!=O&&a.appendChild(i),i=a}}function A(t,n,i,o){var s,a,r,l,c;if(n)return M(t,o);if(3==t.nodeType){if(s=t.nodeValue,i?(l=P[$],a=s.substring(l),r=s.substring(0,l)):(l=P[W],a=s.substring(0,l),r=s.substring(l)),o!=F&&(t.nodeValue=r),o==O)return;return c=e.clone(t,B),c.nodeValue=a,c}if(o!=O)return e.clone(t,B)}function M(t,n){return n!=O?n==F?e.clone(t,H):t:(t.parentNode.removeChild(t),void 0)}function I(){return e.create("body",null,m()).outerText}var P=this,L=e.doc,R=0,F=1,O=2,H=!0,B=!1,$="startOffset",z="startContainer",j="endContainer",W="endOffset",U=tinymce.extend,V=e.nodeIndex;return U(P,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:H,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:o,setStartBefore:s,setStartAfter:a,setEndBefore:r,setEndAfter:l,collapse:c,selectNode:d,selectNodeContents:u,compareBoundaryPoints:h,deleteContents:f,extractContents:p,cloneContents:m,insertNode:g,surroundContents:v,cloneRange:y,toStringIE:I}),P}e.Range=t,t.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function e(e){function t(t,n){var i,o,s,a,r,l,c,d,u=0,h=-1;if(i=t.duplicate(),i.collapse(n),d=i.parentElement(),d.ownerDocument===e.dom.doc){for(;"false"===d.contentEditable;)d=d.parentNode;if(!d.hasChildNodes())return{node:d,inside:1};for(a=d.children,o=a.length-1;o>=u;)if(c=Math.floor((u+o)/2),r=a[c],i.moveToElementText(r),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),h>0)o=c-1;else{if(!(0>h))return{node:r};u=c+1}if(0>h)for(r?i.collapse(!1):(i.moveToElementText(d),i.collapse(!0),r=d,s=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&d==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&d==i.parentElement();)l++;return{node:r,position:h,offset:l,inside:s}}}function n(){function n(e){var n,i,o,s,a,r=t(d,e),l=0;if(n=r.node,i=r.offset,r.inside&&!n.hasChildNodes())return u[e?"setStart":"setEnd"](n,0),void 0;if(i===s)return u[e?"setStartBefore":"setEndAfter"](n),void 0;if(0>r.position){if(o=r.inside?n.firstChild:n.nextSibling,!o)return u[e?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==o.nodeType?u[e?"setStart":"setEnd"](o,0):u[e?"setStartBefore":"setEndBefore"](o),void 0;for(;o;){if(a=o.nodeValue,l+=a.length,l>=i){n=o,l-=i,l=a.length-l;break}o=o.nextSibling}}else{if(o=n.previousSibling,!o)return u[e?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?u[e?"setStart":"setEnd"](o,n.nodeValue.length):u[e?"setStartAfter":"setEndAfter"](o),void 0;for(;o;){if(l+=o.nodeValue.length,l>=i){n=o,l-=i;break}o=o.previousSibling}}u[e?"setStart":"setEnd"](n,l)}var s,a,r,l,c,d=e.getRng(),u=o.createRng();if(s=d.item?d.item(0):d.parentElement(),s.ownerDocument!=o.doc)return u;if(a=e.isCollapsed(),d.item)return u.setStart(s.parentNode,o.nodeIndex(s)),u.setEnd(u.startContainer,u.startOffset+1),u;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),r=d.duplicate(),r.collapse(!0),s=r.parentElement(),a||(r=d.duplicate(),r.collapse(!1),l=r.parentElement(),l.innerHTML=l.innerHTML),s.innerHTML=s.innerHTML,i.moveToBookmark(c),d=e.getRng(),n(!0),a||n()}return u}var i=this,o=e.dom,s=!1;this.getBookmark=function(n){function i(e){var t,n,i,s,a=[];for(t=e.parentNode,n=o.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,s=i.length;s--;)if(e===i[s]){a.push(s);break}e=t,t=t.parentNode}return a}function s(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),r={};return 2===n&&(a.item?r.start={ctrl:!0,indexes:i(a.item(0))}:(r.start=s(!0),e.isCollapsed()||(r.end=s()))),r},this.moveToBookmark=function(e){function t(e){var t,n,i,s;for(t=o.getRoot(),n=e.length-1;n>=0;n--)s=t.children,i=e[n],s.length-1>=i&&(t=s[i]);return t}function n(n){var o,a,r,l=e[n?"start":"end"];l&&(o=l.position>0,a=s.createTextRange(),a.moveToElementText(t(l.indexes)),offset=l.offset,offset!==r?(a.collapse(l.inside||o),a.moveStart("character",o?-offset:offset)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,s=o.doc.body;e.start&&(e.start.ctrl?(i=s.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=s.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,u,h;a=o.create("a"),t=e?r:c,n=e?l:d,u=i.duplicate(),(t==p||t==p.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),u.moveToElementText(a),u.moveStart("character",n),o.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",u)):(h=t.childNodes,h.length?(n>=h.length?o.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),u.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>﻿</span>",a=t.firstChild,u.moveToElementText(a),u.collapse(s)),i.setEndPoint(e?"StartToStart":"EndToEnd",u),o.remove(a))}var i,a,r,l,c,d,u,h,f,p=e.dom.doc,m=p.body;if(r=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,i=m.createTextRange(),r==c&&1==r.nodeType){if(l==d&&!r.hasChildNodes()){if(r.canHaveHTML)return u=r.previousSibling,u&&!u.hasChildNodes()&&o.isBlock(u)?u.innerHTML="﻿":u=null,r.innerHTML="<span>﻿</span><span>﻿</span>",i.moveToElementText(r.lastChild),i.select(),o.doc.selection.clear(),r.innerHTML="",u&&(u.innerHTML=""),void 0;l=o.nodeIndex(r),r=r.parentNode}if(l==d-1)try{if(f=r.childNodes[l],a=m.createControlRange(),a.addElement(f),a.select(),h=e.getRng(),h.item&&f===h.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}tinymce.dom.TridentSelection=e}(),/*
 * Sizzle CSS Selector Engine
 *  Copyright, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,n,o,s,a){for(var r=0,l=o.length;l>r;r++){var c=o[r];if(c){var d=!1;for(c=c[e];c;){if(c[i]===n){d=o[c.sizset];break}if(1!==c.nodeType||a||(c[i]=n,c.sizset=r),c.nodeName.toLowerCase()===t){d=c;break}c=c[e]}o[r]=d}}}function t(e,t,n,o,s,a){for(var r=0,l=o.length;l>r;r++){var c=o[r];if(c){var d=!1;for(c=c[e];c;){if(c[i]===n){d=o[c.sizset];break}if(1===c.nodeType)if(a||(c[i]=n,c.sizset=r),"string"!=typeof t){if(c===t){d=!0;break}}else if(u.filter(t,[c]).length>0){d=c;break}c=c[e]}o[r]=d}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache",o=0,s=Object.prototype.toString,a=!1,r=!0,l=/\\/g,c=/\r\n/g,d=/\W/;[0,0].sort(function(){return r=!1,0});var u=function(e,t,i,o){i=i||[],t=t||document;var a=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var r,l,c,d,h,m,g,y,b=!0,w=u.isXML(t),C=[],x=e;do if(n.exec(""),r=n.exec(x),r&&(x=r[3],C.push(r[1]),r[2])){d=r[3];break}while(r);if(C.length>1&&p.exec(e))if(2===C.length&&f.relative[C[0]])l=_(C[0]+C[1],t,o);else for(l=f.relative[C[0]]?[t]:u(C.shift(),t);C.length;)e=C.shift(),f.relative[e]&&(e+=C.shift()),l=_(e,l,o);else if(!o&&C.length>1&&9===t.nodeType&&!w&&f.match.ID.test(C[0])&&!f.match.ID.test(C[C.length-1])&&(h=u.find(C.shift(),t,w),t=h.expr?u.filter(h.expr,h.set)[0]:h.set[0]),t)for(h=o?{expr:C.pop(),set:v(o)}:u.find(C.pop(),1!==C.length||"~"!==C[0]&&"+"!==C[0]||!t.parentNode?t:t.parentNode,w),l=h.expr?u.filter(h.expr,h.set):h.set,C.length>0?c=v(l):b=!1;C.length;)m=C.pop(),g=m,f.relative[m]?g=C.pop():m="",null==g&&(g=t),f.relative[m](c,g,w);else c=C=[];if(c||(c=l),c||u.error(m||e),"[object Array]"===s.call(c))if(b)if(t&&1===t.nodeType)for(y=0;null!=c[y];y++)c[y]&&(c[y]===!0||1===c[y].nodeType&&u.contains(t,c[y]))&&i.push(l[y]);else for(y=0;null!=c[y];y++)c[y]&&1===c[y].nodeType&&i.push(l[y]);else i.push.apply(i,c);else v(c,i);return d&&(u(d,a,i,o),u.uniqueSort(i)),i};u.uniqueSort=function(e){if(b&&(a=r,e.sort(b),a))for(var t=1;e.length>t;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},u.matches=function(e,t){return u(e,null,null,t)},u.matchesSelector=function(e,t){return u(t,null,null,[e]).length>0},u.find=function(e,t,n){var i,o,s,a,r,c;if(!e)return[];for(o=0,s=f.order.length;s>o;o++)if(r=f.order[o],(a=f.leftMatch[r].exec(e))&&(c=a[1],a.splice(1,1),"\\"!==c.substr(c.length-1)&&(a[1]=(a[1]||"").replace(l,""),i=f.find[r](a,t,n),null!=i))){e=e.replace(f.match[r],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},u.filter=function(e,t,n,i){for(var o,s,a,r,l,c,d,h,p,m=e,g=[],v=t,y=t&&t[0]&&u.isXML(t[0]);e&&t.length;){for(a in f.filter)if(null!=(o=f.leftMatch[a].exec(e))&&o[2]){if(c=f.filter[a],d=o[1],s=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(v===g&&(g=[]),f.preFilter[a])if(o=f.preFilter[a](o,v,n,g,i,y)){if(o===!0)continue}else s=r=!0;if(o)for(h=0;null!=(l=v[h]);h++)l&&(r=c(l,o,h,v),p=i^r,n&&null!=r?p?s=!0:v[h]=!1:p&&(g.push(l),s=!0));if(void 0!==r){if(n||(v=g),e=e.replace(f.match[a],""),!s)return[];break}}if(e===m){if(null!=s)break;u.error(e)}m=e}return v},u.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var h=u.getText=function(e){var t,n,i=e.nodeType,o="";if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)o+=h(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(o+=h(n));return o},f=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),o=n&&!i;i&&(t=t.toLowerCase());for(var s,a=0,r=e.length;r>a;a++)if(s=e[a]){for(;(s=s.previousSibling)&&1!==s.nodeType;);e[a]=o||s&&s.nodeName.toLowerCase()===t?s||!1:s===t}o&&u.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,o=0,s=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();s>o;o++)if(n=e[o]){var a=n.parentNode;e[o]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;s>o;o++)n=e[o],n&&(e[o]=i?n.parentNode:n.parentNode===t);i&&u.filter(t,e,!0)}},"":function(n,i,s){var a,r=o++,l=t;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),a=i,l=e),l("parentNode",i,r,n,a,s)},"~":function(n,i,s){var a,r=o++,l=t;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),a=i,l=e),l("previousSibling",i,r,n,a,s)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),o=0,s=i.length;s>o;o++)i[o].getAttribute("name")===e[1]&&n.push(i[o]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,o,s){if(e=" "+e[1].replace(l,"")+" ",s)return e;for(var a,r=0;null!=(a=t[r]);r++)a&&(o^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(a):n&&(t[r]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||u.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&u.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,i,o,s){var a=e[1]=e[1].replace(l,"");return!s&&f.attrMap[a]&&(e[1]=f.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(l,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,o,s){if("not"===e[1]){if(!((n.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=u.filter(e[3],t,i,!0^s);return i||o.push.apply(o,a),!1}e[3]=u(e[3],null,null,t)}else if(f.match.POS.test(e[0])||f.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return n[3]-0>t},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var o=t[1],s=f.filters[o];if(s)return s(e,n,t,i);if("contains"===o)return(e.textContent||e.innerText||h([e])||"").indexOf(t[3])>=0;if("not"===o){for(var a=t[3],r=0,l=a.length;l>r;r++)if(a[r]===e)return!1;return!0}u.error(o)},CHILD:function(e,t){var n,o,s,a,r,l,c=t[1],d=e;switch(c){case"only":case"first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===c)return!0;d=e;case"last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case"nth":if(n=t[2],o=t[3],1===n&&0===o)return!0;if(s=t[0],a=e.parentNode,a&&(a[i]!==s||!e.nodeIndex)){for(r=0,d=a.firstChild;d;d=d.nextSibling)1===d.nodeType&&(d.nodeIndex=++r);a[i]=s}return l=e.nodeIndex-o,0===n?0===l:0===l%n&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=u.attr?u.attr(e,n):f.attrHandle[n]?f.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),o=i+"",s=t[2],a=t[4];return null==i?"!="===s:!s&&u.attr?null!=i:"="===s?o===a:"*="===s?o.indexOf(a)>=0:"~="===s?(" "+o+" ").indexOf(a)>=0:a?"!="===s?o!==a:"^="===s?0===o.indexOf(a):"$="===s?o.substr(o.length-a.length)===a:"|="===s?o===a||o.substr(0,a.length+1)===a+"-":!1:o&&i!==!1},POS:function(e,t,n,i){var o=t[2],s=f.setFilters[o];return s?s(e,n,t,i):void 0}}},p=f.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in f.match)f.match[g]=new RegExp(f.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[g].source.replace(/\\(\d+)/g,m));f.match.globalPOS=p;var v=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(y){v=function(e,t){var n=0,i=t||[];if("[object Array]"===s.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var o=e.length;o>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var b,w;document.documentElement.compareDocumentPosition?b=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(b=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,o=[],s=[],r=e.parentNode,l=t.parentNode,c=r;if(r===l)return w(e,t);if(!r)return-1;if(!l)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=l;c;)s.unshift(c),c=c.parentNode;n=o.length,i=s.length;for(var d=0;n>d&&i>d;d++)if(o[d]!==s[d])return w(o[d],s[d]);return d===n?w(e,s[d],-1):w(o[d],t,1)},w=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime(),n=document.documentElement;e.innerHTML="<a name='"+t+"'/>",n.insertBefore(e,n.firstChild),document.getElementById(t)&&(f.find.ID=function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:void 0:[]}},f.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),e.getElementsByTagName("*").length>0&&(f.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(f.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&function(){var e=u,t=document.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){u=function(t,i,o,s){if(i=i||document,!s&&!u.isXML(i)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===i.nodeType||9===i.nodeType)){if(a[1])return v(i.getElementsByTagName(t),o);if(a[2]&&f.find.CLASS&&i.getElementsByClassName)return v(i.getElementsByClassName(a[2]),o)}if(9===i.nodeType){if("body"===t&&i.body)return v([i.body],o);if(a&&a[3]){var r=i.getElementById(a[3]);if(!r||!r.parentNode)return v([],o);if(r.id===a[3])return v([r],o)}try{return v(i.querySelectorAll(t),o)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,d=i.getAttribute("id"),h=d||n,p=i.parentNode,m=/^\s*[+~]/.test(t);d?h=h.replace(/'/g,"\\$&"):i.setAttribute("id",h),m&&p&&(i=i.parentNode);try{if(!m||p)return v(i.querySelectorAll("[id='"+h+"'] "+t),o)}catch(g){}finally{d||c.removeAttribute("id")}}}return e(t,i,o,s)};for(var i in e)u[i]=e[i];t=null}}(),function(){var e=document.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(document.createElement("div"),"div"),i=!1;try{t.call(document.documentElement,"[test!='']:sizzle")}catch(o){i=!0}u.matchesSelector=function(e,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!u.isXML(e))try{if(i||!f.match.PSEUDO.test(o)&&!/!=/.test(o)){var s=t.call(e,o);if(s||!n||e.document&&11!==e.document.nodeType)return s}}catch(a){}return u(o,null,null,[e]).length>0}}}(),function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),u.contains=document.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:document.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},u.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var _=function(e,t,n){for(var i,o=[],s="",a=t.nodeType?[t]:t;i=f.match.PSEUDO.exec(e);)s+=i[0],e=e.replace(f.match.PSEUDO,"");e=f.relative[e]?e+"*":e;for(var r=0,l=a.length;l>r;r++)u(e,a[r],o,n);return u.filter(s,o)};window.tinymce.dom.Sizzle=u}(),function(e){e.dom.Element=function(t,n){var i,o,s=this;s.settings=n=n||{},s.id=t,s.dom=i=n.dom||e.DOM,e.isIE||(o=i.get(s.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){s[e]=function(){var n,o=[t];for(n=0;arguments.length>n;n++)o.push(arguments[n]);return o=i[e].apply(i,o),s.update(e),o}}),e.extend(s,{on:function(t,n,i){return e.dom.Event.add(s.id,t,n,i)},getXY:function(){return{x:parseInt(s.getStyle("left")),y:parseInt(s.getStyle("top"))}},getSize:function(){var e=i.get(s.id);return{w:parseInt(s.getStyle("width")||e.clientWidth),h:parseInt(s.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){s.setStyles({left:e,top:t})},moveBy:function(e,t){var n=s.getXY();s.moveTo(n.x+e,n.y+t)},resizeTo:function(e,t){s.setStyles({width:e,height:t})},resizeBy:function(e,t){var n=s.getSize();s.resizeTo(n.w+e,n.h+t)},update:function(t){var o;if(e.isIE6&&n.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return i.remove(s.blocker),void 0;s.blocker?o=i.get(s.blocker):(s.blocker=i.uniqueId(),o=i.add(n.container||i.getRoot(),"iframe",{id:s.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),i.setStyle(o,"opacity",0)),i.setStyles(o,{left:s.getStyle("left",1),top:s.getStyle("top",1),width:s.getStyle("width",1),height:s.getStyle("height",1),display:s.getStyle("display",1),zIndex:parseInt(s.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,n=e.isIE,i=e.each,o=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(t,n,o,s){var a=this;a.dom=t,a.win=n,a.serializer=o,a.editor=s,i(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){a[t]=new e.util.Dispatcher(a)}),a.win.getSelection||(a.tridentSel=new e.dom.TridentSelection(a)),e.isIE&&t.boxModel&&this._fixIESelection(),e.addUnload(a.destroy,a)},setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)},getContent:function(e){var n,i,o,s=this,a=s.getRng(),r=s.dom.create("body"),l=s.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",s.onBeforeGetContent.dispatch(s,e),"text"==e.format?s.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(o=a.cloneContents(),o&&r.appendChild(o)):t(a.item)||t(a.htmlText)?(r.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),r.removeChild(r.firstChild)):r.innerHTML=a.toString(),/^\s/.test(r.innerHTML)&&(n=" "),/\s+$/.test(r.innerHTML)&&(i=" "),e.getInner=!0,e.content=s.isCollapsed()?"":n+s.serializer.serialize(r,e)+i,s.onGetContent.dispatch(s,e),e.content)},setContent:function(e,t){var n,i,o,s=this,a=s.getRng(),r=s.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||s.onBeforeSetContent.dispatch(s,t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==r&&a.endContainer==r?r.body.innerHTML=e:(a.deleteContents(),0===r.body.childNodes.length?r.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=r.createDocumentFragment(),o=r.createElement("div"),i.appendChild(o),o.outerHTML=e,a.insertNode(i))),n=s.dom.get("__caret"),a=r.createRange(),a.setStartBefore(n),a.setEndBefore(n),s.setRng(a),s.dom.remove("__caret");try{s.setRng(a)}catch(l){}}else a.item&&(r.execCommand("Delete",!1,null),a=s.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),s.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||s.onSetContent.dispatch(s,t)},getStart:function(){var e,t,n,i,o=this,s=o.getRng();if(s.duplicate||s.item){if(s.item)return s.item(0);for(n=s.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==o.dom.doc&&(e=o.dom.getRoot()),t=i=s.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=s.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,s.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return i(p.select(e),function(e,i){e==t&&(n=i)}),n}function o(e){function t(t){var n,i,o,s=t?"start":"end";n=e[s+"Container"],i=e[s+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(o=n.childNodes,n=o[Math.min(t?i:i-1,o.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function s(){function e(e,n){var o,s,a=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(o=a.previousSibling;o&&3==o.nodeType;o=o.previousSibling)r+=o.nodeValue.length;l.push(r)}else s=a.childNodes,r>=s.length&&s.length&&(c=1,r=Math.max(0,s.length-1)),l.push(f.dom.nodeIndex(s[r],t)+c);for(;a&&a!=i;a=a.parentNode)l.push(f.dom.nodeIndex(a,t));return l}var n=f.getRng(!0),i=p.getRoot(),o={};return o.start=e(n,!0),f.isCollapsed()||(o.end=e(n)),o}var a,r,l,c,d,u,h,f=this,p=f.dom,m="﻿";if(2==e)return f.tridentSel?f.tridentSel.getBookmark(e):s();if(e)return{rng:f.getRng()};if(a=f.getRng(),l=p.uniqueId(),c=tinyMCE.activeEditor.selection.isCollapsed(),h="overflow:hidden;line-height:0px",a.duplicate||a.item){if(a.item)return u=a.item(0),d=u.nodeName,{name:d,index:n(d,u)};r=a.duplicate();try{a.collapse(),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+h+'">'+m+"</span>"),c||(r.collapse(!1),a.moveToElementText(r.parentElement()),0===a.compareEndPoints("StartToEnd",r)&&r.move("character",-1),r.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+h+'">'+m+"</span>"))}catch(g){return null}}else{if(u=f.getNode(),d=u.nodeName,"IMG"==d)return{name:d,index:n(d,u)};r=o(a.cloneRange()),c||(r.collapse(!1),r.insertNode(p.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:h},m))),a=o(a),a.collapse(!0),a.insertNode(p.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:h},m))}return f.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(t){function o(e){var n,i,o,s,a=t[e?"start":"end"];if(a){for(o=a[0],i=l,n=a.length-1;n>=1;n--){if(s=i.childNodes,a[n]>s.length-1)return;i=s[a[n]]}3===i.nodeType&&(o=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(o=Math.min(a[0],i.childNodes.length)),e?r.setStart(i,o):r.setEnd(i,o)}return!0}function s(n){var o,s,a,r,l=p.get(t.id+"_"+n),f=t.keep;if(l&&(o=l.parentNode,"start"==n?(f?(o=l.firstChild,s=1):s=p.nodeIndex(l),c=d=o,u=h=s):(f?(o=l.firstChild,s=1):s=p.nodeIndex(l),d=o,h=s),!f)){for(r=l.previousSibling,a=l.nextSibling,i(e.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=p.get(t.id+"_"+n);)p.remove(l,1);r&&a&&r.nodeType==a.nodeType&&3==r.nodeType&&!e.isOpera&&(s=r.nodeValue.length,r.appendData(a.nodeValue),p.remove(a),"start"==n?(c=d=r,u=h=s):(d=r,h=s))}}function a(e){return!p.isBlock(e)||e.innerHTML||n||(e.innerHTML='<br data-mce-bogus="1" />'),e}var r,l,c,d,u,h,f=this,p=f.dom;if(t)if(t.start){if(r=p.createRng(),l=p.getRoot(),f.tridentSel)return f.tridentSel.moveToBookmark(t);o(!0)&&o()&&f.setRng(r)}else t.id?(s("start"),s("end"),c&&(r=p.createRng(),r.setStart(a(c),u),r.setEnd(a(d),h),f.setRng(r))):t.name?f.select(p.select(t.name)[t.index]):t.rng&&f.setRng(t.rng)},select:function(t,n){function i(t,n){var i=new o(t,t);do{if(3==t.nodeType&&0!==e.trim(t.nodeValue).length)return n?l.setStart(t,0):l.setEnd(t,t.nodeValue.length),void 0;if("BR"==t.nodeName)return n?l.setStartBefore(t):l.setEndBefore(t),void 0}while(t=n?i.next():i.prev())}var s,a=this,r=a.dom,l=r.createRng();return t&&(s=r.nodeIndex(t),l.setStart(t.parentNode,s),l.setEnd(t.parentNode,s+1),n&&(i(t,1),i(t)),a.setRng(l)),t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var n,i,o,s=this,a=s.win.document;if(t&&s.tridentSel)return s.tridentSel.getRangeAt(0);try{(n=s.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():a.createRange())}catch(r){}return e.isIE&&i&&i.setStart&&a.selection.createRange().item&&(o=a.selection.createRange().item(0),i=a.createRange(),i.setStartBefore(o),i.setEndAfter(o)),i||(i=a.createRange?a.createRange():a.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=s.dom.getRoot(),i.setStart(o,0),i.setEnd(o,0)),s.selectedRange&&s.explicitRange&&(0===i.compareBoundaryPoints(i.START_TO_START,s.selectedRange)&&0===i.compareBoundaryPoints(i.END_TO_END,s.selectedRange)?i=s.explicitRange:(s.selectedRange=null,s.explicitRange=null)),i},setRng:function(e,t){var n,i=this;if(i.tridentSel){if(e.cloneRange)try{return i.tridentSel.addRange(e),void 0}catch(o){}try{e.select()}catch(o){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges()}catch(o){}n.addRange(e),t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),o=(n.getSel(),i.startContainer),s=i.endContainer;return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(i.startContainer==i.endContainer&&2>i.endOffset-i.startOffset&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset]),3===o.nodeType&&3===s.nodeType&&(o=o.length===i.startOffset?e(o.nextSibling,!0):o.parentNode,s=0===i.endOffset?e(s.previousSibling,!1):s.parentNode,o&&o===s))?o:t&&3==t.nodeType?t.parentNode:t):i.item?i.item(0):i.parentElement():n.dom.getRoot()},getSelectedBlocks:function(e,t){var n,i,s,a=this,r=a.dom,l=[];if(n=r.getParent(e||a.getStart(),r.isBlock),i=r.getParent(t||a.getEnd(),r.isBlock),n&&l.push(n),n&&i&&n!=i){s=n;for(var c=new o(n,r.getRoot());(s=c.next())&&s!=i;)r.isBlock(s)&&l.push(s)}return i&&n!=i&&l.push(i),l},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&null!=i.anchorNode&&null!=i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),0>=e.compareBoundaryPoints(e.START_TO_START,t)):!0},normalize:function(){function t(e){function t(e,t){for(var n=new o(e,p.getParent(e.parentNode,p.isBlock)||m);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function r(e,t){var n,a;for(t=t||l,n=new o(t,p.getParent(t.parentNode,p.isBlock)||m);u=n[e?"prev":"next"]();){if(3===u.nodeType&&u.nodeValue.length>0)return l=u,c=e?u.nodeValue.length:0,i=!0,void 0;if(p.isBlock(u)||h[u.nodeName.toLowerCase()])return;a=u}s&&a&&(l=a,i=!0,c=0)}var l,c,d,u,h,f,p=a.dom,m=p.getRoot();if(l=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],h=p.schema.getNonEmptyElements(),9===l.nodeType&&(l=p.getRoot(),c=0),l===m){if(e&&(u=l.childNodes[c>0?c-1:0],u&&(f=u.nodeName.toLowerCase(),h[u.nodeName]||"TABLE"==u.nodeName)))return;if(l.hasChildNodes()&&(l=l.childNodes[Math.min(!e&&c>0?c-1:c,l.childNodes.length-1)],c=0,l.hasChildNodes()&&!/TABLE/.test(l.nodeName))){u=l,d=new o(l,m);do{if(3===u.nodeType&&u.nodeValue.length>0){c=e?0:u.nodeValue.length,l=u,i=!0;break}if(h[u.nodeName.toLowerCase()]){c=p.nodeIndex(u),l=u.parentNode,"IMG"!=u.nodeName||e||c++,i=!0;break}}while(u=e?d.next():d.prev())}}s&&(3===l.nodeType&&0===c&&r(!0),1===l.nodeType&&(u=l.childNodes[c],!u||"BR"!==u.nodeName||t(u)||t(u,!0)||r(!0,l.childNodes[c]))),e&&!s&&3===l.nodeType&&c===l.nodeValue.length&&r(!1),i&&n["set"+(e?"Start":"End")](l,c)}var n,i,s,a=this;e.isIE||(n=a.getRng(),s=n.collapsed,t(!0),s||t(),i&&(s&&n.collapse(!0),a.setRng(n,a.isForward())))},selectorChanged:function(e,t){var n,o=this;return o.selectorChangedData||(o.selectorChangedData={},n={},o.editor.onNodeChange.addToTop(function(e,t,s){var a=o.dom,r=a.getParents(s,null,a.getRoot()),l={};i(o.selectorChangedData,function(e,t){i(r,function(o){return a.is(o,t)?(n[t]||(i(e,function(e){e(!0,{node:o,selector:t,parents:r})}),n[t]=e),l[t]=e,!1):void 0})}),i(n,function(e,t){l[t]||(delete n[t],i(e,function(e){e(!1,{node:s,selector:t,parents:r})}))})})),o.selectorChangedData[e]||(o.selectorChangedData[e]=[]),o.selectorChangedData[e].push(t),o},scrollIntoView:function(e){var t,n,i=this,o=i.dom;n=o.getViewPort(i.editor.getWin()),t=o.getPos(e).y,(n.y>t||t+25>n.y+n.h)&&i.editor.getWin().scrollTo(0,n.y>t?t:t-n.h+25)},destroy:function(t){var n=this;n.win=null,t||e.removeUnload(n.destroy)},_fixIESelection:function(){function e(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",o)>0?i.setEndPoint("StartToStart",o):i.setEndPoint("EndToEnd",o),i.select())):n()}function n(){var e=r.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),a.unbind(r,"mouseup",n),a.unbind(r,"mousemove",t),o=i=0}var i,o,s,a=this.dom,r=a.doc,l=r.body;r.documentElement.unselectable=!0,a.bind(r,["mousedown","contextmenu"],function(l){if("HTML"===l.target.nodeName){if(i&&n(),s=r.documentElement,s.scrollHeight>s.clientHeight)return;i=1,o=e(l.x,l.y),o&&(a.bind(r,"mouseup",n),a.bind(r,"mousemove",t),a.win.focus(),o.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,n,i){var o,s,a,r=e.isIE,l=e.each;return t.apply_source_formatting||(t.indent=!1),n=n||e.DOM,i=i||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,o=new e.util.Dispatcher(self),s=new e.util.Dispatcher(self),a=new e.html.DomParser(t,i),a.addAttributeFilter("src,href,style",function(e,i){for(var o,s,a,r=e.length,l="data-mce-"+i,c=t.url_converter,d=t.url_converter_scope;r--;)o=e[r],s=o.attributes.map[l],s!==a?(o.attr(i,s.length>0?s:null),o.attr(l,null)):(s=o.attributes.map[i],"style"===i?s=n.serializeStyle(n.parseStyle(s),o.name):c&&(s=c.call(d,s,i,o.name)),o.attr(i,s.length>0?s:null))}),a.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),t.attr("class",n.length>0?n:null)}),a.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,o=e.length;o--;)i=e[o],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),a.addAttributeFilter("data-mce-expando",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),a.addNodeFilter("noscript",function(t){for(var n,i=t.length;i--;)n=t[i].firstChild,n&&(n.value=e.html.Entities.decode(n.value))}),a.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,o,s=e.length;s--;)i=e[s],o=i.firstChild?i.firstChild.value:"","script"===t?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),o.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(o)+"\n// ]]>")):o.length>0&&(i.firstChild.value="<!--\n"+n(o)+"\n-->")}),a.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),a.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&a.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,onPreProcess:o,onPostProcess:s,serialize:function(c,d){var u,h,f,p,m;return r&&n.select("script,style,select,map").length>0?(m=c.innerHTML,c=c.cloneNode(!1),n.setHTML(c,m)):c=c.cloneNode(!0),u=c.ownerDocument.implementation,u.createHTMLDocument&&(h=u.createHTMLDocument(""),l("BODY"==c.nodeName?c.childNodes:[c],function(e){h.body.appendChild(h.importNode(e,!0))}),c="BODY"!=c.nodeName?h.body.firstChild:h.body,f=n.doc,n.doc=h),d=d||{},d.format=d.format||"html",d.no_events||(d.node=c,o.dispatch(self,d)),p=new e.html.Serializer(t,i),d.content=p.serialize(a.parse(e.trim(d.getInner?c.innerHTML:n.getOuterHTML(c)),d)),d.cleanup||(d.content=d.content.replace(/\uFEFF/g,"")),d.no_events||s.dispatch(self,d),f&&(n.doc=f),d.node=null,d.content},addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(){function t(t,n){function i(){c.remove(l),s&&(s.onreadystatechange=s.onload=s=null),n()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var s,a,r,l,c=e.DOM;return l=c.uniqueId(),e.isIE6&&(a=new e.util.URI(t),r=location,a.host==r.hostname&&a.port==r.port&&a.protocol+":"==r.protocol&&"file"!=a.protocol.toLowerCase())?(e.util.XHR.send({url:e._addVer(a.getURI()),success:function(e){var t=c.create("script",{type:"text/javascript"});
t.text=e,document.getElementsByTagName("head")[0].appendChild(t),c.remove(t),i()},error:o}),void 0):(s=document.createElement("script"),s.id=l,s.type="text/javascript",s.src=e._addVer(t),e.isIE||(s.onload=i),s.onerror=o,e.isOpera||(s.onreadystatechange=function(){var e=s.readyState;("complete"==e||"loaded"==e)&&i()}),(document.getElementsByTagName("head")[0]||document.body).appendChild(s),void 0)}var n,i=0,o=1,s=2,a={},r=[],l={},c=[],d=0;this.isDone=function(e){return a[e]==s},this.markDone=function(e){a[e]=s},this.add=this.load=function(e,t,o){var s=a[e];s==n&&(r.push(e),a[e]=i),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:o||this}))},this.loadQueue=function(e,t){this.loadScripts(r,e,t)},this.loadScripts=function(i,r,u){function h(t){e.each(l[t],function(e){e.func.call(e.scope)}),l[t]=n}var f;c.push({func:r,scope:u||this}),f=function(){var n=e.grep(i);i.length=0,e.each(n,function(e){return a[e]==s?(h(e),void 0):(a[e]!=o&&(a[e]=o,d++,t(e,function(){a[e]=s,d--,h(e),f()})),void 0)}),d||(e.each(c,function(e){e.func.call(e.scope)}),c.length=0)},f()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),function(e){e.dom.RangeUtils=function(t){this.walk=function(n,i){function o(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function s(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function r(e,t,n){var a=n?"nextSibling":"previousSibling";for(u=e,h=u.parentNode;u&&u!=t;u=h)h=u.parentNode,f=s(u==e?u:u[a],a),f.length&&(n||f.reverse(),i(o(f)))}var l,c,d,u,h,f,p,m=n.startContainer,g=n.startOffset,v=n.endContainer,y=n.endOffset;if(p=t.select("td.mceSelected,th.mceSelected"),p.length>0)return e.each(p,function(e){i([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return i(o([m]));for(l=t.findCommonAncestor(m,v),u=m;u;u=u.parentNode){if(u===v)return r(m,l,!0);if(u===l)break}for(u=v;u;u=u.parentNode){if(u===m)return r(v,l);if(u===l)break}c=a(m,l)||m,d=a(v,l)||v,r(m,c,!0),f=s(c==m?c:c.nextSibling,"nextSibling",d==v?d.nextSibling:d),f.length&&i(o(f)),r(v,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset;return n==o&&3==n.nodeType?i>0&&n.nodeValue.length>i&&(o=t(n,i),n=o.previousSibling,s>i?(s-=i,n=o=t(o,s).previousSibling,s=o.nodeValue.length,i=0):s=0):(3==n.nodeType&&i>0&&n.nodeValue.length>i&&(n=t(n,i),i=0),3==o.nodeType&&s>0&&o.nodeValue.length>s&&(o=t(o,s).previousSibling,s=o.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:o,endOffset:s}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,n=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(i,o){var s,a,r,l,c,d=this,u=i.root,h=i.items,f=i.enableUpDown,p=i.enableLeftRight||!i.enableUpDown,m=i.excludeFromTabOrder;o=o||e.DOM,s=function(e){c=e.target.id},a=function(e){o.setAttrib(e.target.id,"tabindex","-1")},l=function(){var e=o.get(c);o.setAttrib(e,"tabindex","0"),e.focus()},d.focus=function(){o.get(c).focus()},d.destroy=function(){n(h,function(e){var t=o.get(e.id);o.unbind(t,"focus",s),o.unbind(t,"blur",a)});var e=o.get(u);o.unbind(e,"focus",l),o.unbind(e,"keydown",r),h=o=u=d.focus=s=a=r=l=null,d.destroy=function(){}},d.moveFocus=function(e,s){var a,r=-1;d.controls,c&&(n(h,function(e,t){return e.id===c?(r=t,!1):void 0}),r+=e,0>r?r=h.length-1:r>=h.length&&(r=0),a=h[r],o.setAttrib(c,"tabindex","-1"),o.setAttrib(a.id,"tabindex","0"),o.get(a.id).focus(),i.actOnFocus&&i.onAction(a.id),s&&t.cancel(s))},r=function(e){var n=37,o=39,s=38,a=40,r=27,l=14,u=13,h=32;switch(e.keyCode){case n:p&&d.moveFocus(-1);break;case o:p&&d.moveFocus(1);break;case s:f&&d.moveFocus(-1);break;case a:f&&d.moveFocus(1);break;case r:i.onCancel&&(i.onCancel(),t.cancel(e));break;case l:case u:case h:i.onAction&&(i.onAction(c),t.cancel(e))}},n(h,function(e,t){var n,i;e.id||(e.id=o.uniqueId("_mce_item_")),i=o.get(e.id),m?(o.bind(i,"blur",a),n="-1"):n=0===t?"0":"-1",i.setAttribute("tabindex",n),o.bind(i,"focus",s)}),h[0]&&(c=h[0].id),o.setAttrib(u,"tabindex","-1");var g=o.get(u);o.bind(g,"focus",l),o.bind(g,"keydown",r)}})}(tinymce),function(e){var t=e.DOM,n=e.is;e.create("tinymce.ui.Control",{Control:function(t,n,i){this.id=t,this.settings=n=n||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=n.scope||this,this.disabled=0,this.active=0,this.editor=i},setAriaProperty:function(e,n){var i=t.get(this.id+"_aria")||t.get(this.id);i&&t.setAttrib(i,"aria-"+e,!!n)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,n){var i=t.get(this.id);e=this.classPrefix+e,n?t.addClass(i,e):t.removeClass(i,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;n(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),n(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,n){this.parent(e,t,n),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk,e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),n=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,n){var i=this;i.parent(t,n),i.items={},i.collapsed=!1,i.menuCount=0,i.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&n(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&n(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(n){return n.settings||(n=new e.ui.MenuItem(n.id||t.uniqueId(),n)),this.onAddItem.dispatch(this,n),this.items[n.id]=n},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;n(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(n){var i=new e.ui.Menu(n.id||t.uniqueId(),n);return i.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),i}})}(tinymce),function(e){var t=e.is,n=e.DOM,i=e.each,o=e.dom.Event,s=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,o){o=o||{},o.container=o.container||n.doc.body,o.offset_x=o.offset_x||0,o.offset_y=o.offset_y||0,o.vp_offset_x=o.vp_offset_x||0,o.vp_offset_y=o.vp_offset_y||0,t(o.icons)&&!o.icons&&(o["class"]+=" mceNoIcons"),this.parent(i,o),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var i,o=this,s=o.settings;return t.container=t.container||s.container,t.parent=o,t.constrain=t.constrain||s.constrain,t["class"]=t["class"]||s["class"],t.vp_offset_x=t.vp_offset_x||s.vp_offset_x,t.vp_offset_y=t.vp_offset_y||s.vp_offset_y,t.keyboard_focus=s.keyboard_focus,i=new e.ui.DropMenu(t.id||n.uniqueId(),t),i.onAddItem.add(o.onAddItem.dispatch,o.onAddItem),i},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,i=this,o=i.settings,s=n.get("menu_"+i.id+"_tbl"),a=n.get("menu_"+i.id+"_co");e=o.max_width?Math.min(s.offsetWidth,o.max_width):s.offsetWidth,t=o.max_height?Math.min(s.offsetHeight,o.max_height):s.offsetHeight,n.boxModel?i.element.setStyles({width:e,height:t}):i.element.setStyles({width:e+2,height:t+2}),o.max_width&&n.setStyle(a,"width",e),o.max_height&&(n.setStyle(a,"height",t),s.clientHeight<o.max_height&&n.setStyle(a,"overflow","hidden"))},showMenu:function(t,a,r){var l,c,d,u,h,f,p=this,m=p.settings,g=n.getViewPort(),v=2,y=p.classPrefix;p.collapse(1),p.isMenuVisible||(p.rendered?l=n.get("menu_"+p.id):(l=n.add(p.settings.container,p.renderNode()),i(p.items,function(e){e.postRender()}),p.element=new s("menu_"+p.id,{blocker:1,container:m.container})),e.isOpera||n.setStyles(l,{left:-65535,top:-65535}),n.show(l),p.update(),t+=m.offset_x||0,a+=m.offset_y||0,g.w-=4,g.h-=4,m.constrain&&(c=l.clientWidth-v,d=l.clientHeight-v,u=g.x+g.w,h=g.y+g.h,t+m.vp_offset_x+c>u&&(t=r?r-c:Math.max(0,u-m.vp_offset_x-c)),a+m.vp_offset_y+d>h&&(a=Math.max(0,h-m.vp_offset_y-d))),n.setStyles(l,{left:t,top:a}),p.element.update(),p.isMenuVisible=1,p.mouseClickFunc=o.add(l,"click",function(e){var t;if(e=e.target,e&&(e=n.getParent(e,"tr"))&&!n.hasClass(e,y+"ItemSub")){if(t=p.items[e.id],t.isDisabled())return;for(f=p;f;)f.hideMenu&&f.hideMenu(),f=f.settings.parent;return t.settings.onclick&&t.settings.onclick(e),!1}}),p.hasMenus()&&(p.mouseOverFunc=o.add(l,"mouseover",function(e){var t,i;if(e=e.target,e&&(e=n.getParent(e,"tr"))){if(t=p.items[e.id],p.lastMenu&&p.lastMenu.collapse(1),t.isDisabled())return;e&&n.hasClass(e,y+"ItemSub")&&(i=n.getRect(e),t.showMenu(i.x+i.w-v,i.y-v,i.x),p.lastMenu=t,n.addClass(n.get(t.id).firstChild,y+"ItemActive"))}})),o.add(l,"keydown",p._keyHandler,p),p.onShowMenu.dispatch(p),m.keyboard_focus&&p._setupKeyboardNav())},hideMenu:function(e){var t,i=this,s=n.get("menu_"+i.id);i.isMenuVisible&&(i.keyboardNav&&i.keyboardNav.destroy(),o.remove(s,"mouseover",i.mouseOverFunc),o.remove(s,"click",i.mouseClickFunc),o.remove(s,"keydown",i._keyHandler),n.hide(s),i.isMenuVisible=0,e||i.collapse(1),i.element&&i.element.hide(),(t=n.get(i.id))&&n.removeClass(t.firstChild,i.classPrefix+"ItemActive"),i.onHideMenu.dispatch(i))},add:function(e){var t,i=this;return e=i.parent(e),i.isRendered&&(t=n.get("menu_"+i.id))&&i._add(n.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return n.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=n.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),o.remove(t,"mouseover",e.mouseOverFunc),o.remove(n.select("a",t),"focus",e.mouseOverFunc),o.remove(t,"click",e.mouseClickFunc),o.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),n.remove(t)},renderNode:function(){var e,t,o,a,r=this,l=r.settings;return a=n.create("div",{role:"listbox",id:"menu_"+r.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),r.settings.parent&&n.setAttrib(a,"aria-parent","menu_"+r.settings.parent.id),o=n.add(a,"div",{role:"presentation",id:"menu_"+r.id+"_co","class":r.classPrefix+(l["class"]?" "+l["class"]:"")}),r.element=new s("menu_"+r.id,{blocker:1,container:l.container}),l.menu_line&&n.add(o,"span",{"class":r.classPrefix+"Line"}),e=n.add(o,"table",{role:"presentation",id:"menu_"+r.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=n.add(e,"tbody"),i(r.items,function(e){r._add(t,e)}),r.rendered=!0,a},_setupKeyboardNav:function(){var t,i,o=this;t=n.get("menu_"+o.id),i=n.select("a[role=option]","menu_"+o.id),i.splice(0,0,t),o.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+o.id,items:i,onCancel:function(){o.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),o.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var i,o,s,a,r,l=t.settings,c=this.classPrefix;return l.separator?(s=n.add(e,"tr",{id:t.id,"class":c+"ItemSeparator"}),n.add(s,"td",{"class":c+"ItemSeparator"}),(i=s.previousSibling)&&n.addClass(i,"mceLast"),void 0):(i=s=n.add(e,"tr",{id:t.id,"class":c+"Item "+c+"ItemEnabled"}),i=a=n.add(i,l.titleItem?"th":"td"),i=o=n.add(i,"a",{id:t.id+"_aria",role:l.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),l.parent&&(n.setAttrib(o,"aria-haspopup","true"),n.setAttrib(o,"aria-owns","menu_"+t.id)),n.addClass(a,l["class"]),r=n.add(i,"span",{"class":"mceIcon"+(l.icon?" mce_"+l.icon:"")}),l.icon_src&&n.add(r,"img",{src:l.icon_src}),i=n.add(i,l.element||"span",{"class":"mceText",title:t.settings.title},t.settings.title),t.settings.style&&("function"==typeof t.settings.style&&(t.settings.style=t.settings.style()),n.setAttrib(i,"style",t.settings.style)),1==e.childNodes.length&&n.addClass(s,"mceFirst"),(i=s.previousSibling)&&n.hasClass(i,c+"ItemSeparator")&&n.addClass(s,"mceFirst"),t.collapse&&n.addClass(s,c+"ItemSub"),(i=s.previousSibling)&&n.removeClass(i,"mceLast"),n.addClass(s,"mceLast"),void 0)}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceButton"},renderHTML:function(){var e,n,i=this.classPrefix,o=this.settings;return n=t.encode(o.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+i+" "+i+"Enabled "+o["class"]+(n?" "+i+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(o.title)+'">',e+=!o.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+o["class"]+'"></span>'+(n?'<span class="'+i+'Label">'+n+"</span>":""):'<span class="mceIcon '+o["class"]+'"><img class="mceIcon" src="'+o.image+'" alt="'+t.encode(o.title)+'" /></span>'+(n?'<span class="'+i+'Label">'+n+"</span>":""),e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+o.title+"</span>",e+="</a>"},postRender:function(){var t,n=this,i=n.settings;e.isIE&&n.editor&&e.dom.Event.add(n.id,"mousedown",function(){var e=n.editor.selection.getNode().nodeName;t="IMG"===e?n.editor.selection.getBookmark():null}),e.dom.Event.add(n.id,"click",function(o){return n.isDisabled()?void 0:(e.isIE&&n.editor&&null!==t&&n.editor.selection.moveToBookmark(t),i.onclick.call(i.scope,o))}),e.dom.Event.add(n.id,"keyup",function(t){return n.isDisabled()||t.keyCode!=e.VK.SPACEBAR?void 0:i.onclick.call(i.scope,t)})}})}(tinymce),function(e){var t,n=e.DOM,i=e.dom.Event,o=e.each,s=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,n,i){var o=this;o.parent(t,n,i),o.items=[],o.onChange=new s(o),o.onPostRender=new s(o),o.onAdd=new s(o),o.onRenderMenu=new e.util.Dispatcher(this),o.classPrefix="mceListBox",o.marked={}},select:function(e){var n,i,s=this;return s.marked={},e==t?s.selectByIndex(-1):(i=e&&"function"==typeof e?e:function(t){return t==e},e!=s.selectedValue&&(o(s.items,function(e,t){return i(e.value)?(n=1,s.selectByIndex(t),!1):void 0}),n||s.selectByIndex(-1)),void 0)},selectByIndex:function(e){var t,i,o,s=this;s.marked={},e!=s.selectedIndex&&(t=n.get(s.id+"_text"),o=n.get(s.id+"_voiceDesc"),i=s.items[e],i?(s.selectedValue=i.value,s.selectedIndex=e,n.setHTML(t,n.encode(i.title)),n.setHTML(o,s.settings.title+" - "+i.title),n.removeClass(t,"mceTitle"),n.setAttrib(s.id,"aria-valuenow",i.title)):(n.setHTML(t,n.encode(s.settings.title)),n.setHTML(o,n.encode(s.settings.title)),n.addClass(t,"mceTitle"),s.selectedValue=s.selectedIndex=null,n.setAttrib(s.id,"aria-valuenow",s.settings.title)),t=0)},mark:function(e){this.marked[e]=!0},add:function(t,n,i){var o=this;i=i||{},i=e.extend(i,{title:t,value:n}),o.items.push(i),o.onAdd.dispatch(o,i)},getLength:function(){return this.items.length},renderHTML:function(){var e="",t=this,i=t.settings,o=t.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+t.id+'_voiceDesc" aria-describedby="'+t.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+t.id+'" cellpadding="0" cellspacing="0" class="'+o+" "+o+"Enabled"+(i["class"]?" "+i["class"]:"")+'"><tbody><tr>',e+="<td>"+n.createHTML("span",{id:t.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},t.settings.title),e+=n.createHTML("a",{id:t.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},n.encode(t.settings.title))+"</td>",e+="<td>"+n.createHTML("a",{id:t.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",e+="</tr></tbody></table></span>"},showMenu:function(){var t,s,a=this,r=n.get(this.id);if(!a.isDisabled()&&0!==a.items.length){if(a.menu&&a.menu.isMenuVisible)return a.hideMenu();a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0),t=n.getPos(r),s=a.menu,s.settings.offset_x=t.x,s.settings.offset_y=t.y,s.settings.keyboard_focus=!e.isOpera,o(a.items,function(e){s.items[e.id]&&s.items[e.id].setSelected(0)}),o(a.items,function(e){s.items[e.id]&&a.marked[e.value]&&s.items[e.id].setSelected(1),e.value===a.selectedValue&&s.items[e.id].setSelected(1)}),s.showMenu(0,r.clientHeight),i.add(n.doc,"mousedown",a.hideMenu,a),n.addClass(a.id,a.classPrefix+"Selected")}},hideMenu:function(e){var t=this;if(t.menu&&t.menu.isMenuVisible){if(n.removeClass(t.id,t.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==t.id+"_text"||e.target.id==t.id+"_open"))return;e&&n.getParent(e.target,".mceMenu")||(n.removeClass(t.id,t.classPrefix+"Selected"),i.remove(n.doc,"mousedown",t.hideMenu,t),t.menu.hideMenu())}},renderMenu:function(){var e,i=this;e=i.settings.control_manager.createDropMenu(i.id+"_menu",{menu_line:1,"class":i.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),e.onHideMenu.add(function(){i.hideMenu(),i.focus()}),e.add({title:i.settings.title,"class":"mceMenuItemTitle",onclick:function(){i.settings.onselect("")!==!1&&i.select("")}}),o(i.items,function(o){o.value===t?e.add({title:o.title,role:"option","class":"mceMenuItemTitle",onclick:function(){i.settings.onselect("")!==!1&&i.select("")}}):(o.id=n.uniqueId(),o.role="option",o.onclick=function(){i.settings.onselect(o.value)!==!1&&i.select(o.value)},e.add(o))}),i.onRenderMenu.dispatch(i,e),i.menu=e},postRender:function(){var t=this,o=t.classPrefix;i.add(t.id,"click",t.showMenu,t),i.add(t.id,"keydown",function(e){32==e.keyCode&&(t.showMenu(e),i.cancel(e))}),i.add(t.id,"focus",function(){t._focused||(t.keyDownHandler=i.add(t.id,"keydown",function(e){40==e.keyCode&&(t.showMenu(),i.cancel(e))}),t.keyPressHandler=i.add(t.id,"keypress",function(e){var n;13==e.keyCode&&(n=t.selectedValue,t.selectedValue=null,i.cancel(e),t.settings.onselect(n))})),t._focused=1}),i.add(t.id,"blur",function(){i.remove(t.id,"keydown",t.keyDownHandler),i.remove(t.id,"keypress",t.keyPressHandler),t._focused=0}),(e.isIE6||!n.boxModel)&&(i.add(t.id,"mouseover",function(){n.hasClass(t.id,o+"Disabled")||n.addClass(t.id,o+"Hover")}),i.add(t.id,"mouseout",function(){n.hasClass(t.id,o+"Disabled")||n.removeClass(t.id,o+"Hover")})),t.onPostRender.dispatch(t,n.get(t.id))},destroy:function(){this.parent(),i.clear(this.id+"_text"),i.clear(this.id+"_open")}})}(tinymce),function(e){var t,n=e.DOM,i=e.dom.Event,o=e.each;e.util.Dispatcher,e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){n.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return n.get(this.id).disabled},select:function(e){var n,i,s=this;return e==t?s.selectByIndex(-1):(i=e&&"function"==typeof e?e:function(t){return t==e},e!=s.selectedValue&&(o(s.items,function(e,t){return i(e.value)?(n=1,s.selectByIndex(t),!1):void 0}),n||s.selectByIndex(-1)),void 0)},selectByIndex:function(e){n.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,t,i){var o,s=this;i=i||{},i.value=t,s.isRendered()&&n.add(n.get(this.id),"option",i,e),o={title:e,value:t,attribs:i},s.items.push(o),s.onAdd.dispatch(s,o)},getLength:function(){return this.items.length},renderHTML:function(){var e,t=this;return e=n.createHTML("option",{value:""},"-- "+t.settings.title+" --"),o(t.items,function(t){e+=n.createHTML("option",{value:t.value},t.title)}),e=n.createHTML("select",{id:t.id,"class":"mceNativeListBox","aria-labelledby":t.id+"_aria"},e),e+=n.createHTML("span",{id:t.id+"_aria",style:"display: none"},t.settings.title)},postRender:function(){function t(e){var t=s.items[e.target.selectedIndex-1];t&&(t=t.value)&&(s.onChange.dispatch(s,t),s.settings.onselect&&s.settings.onselect(t))}var o,s=this,a=!0;s.rendered=!0,i.add(s.id,"change",t),i.add(s.id,"keydown",function(n){var r;return i.remove(s.id,"change",o),a=!1,r=i.add(s.id,"blur",function(){a||(a=!0,i.add(s.id,"change",t),i.remove(s.id,"blur",r))}),!e.isWebKit||37!=n.keyCode&&39!=n.keyCode?13==n.keyCode||32==n.keyCode?(t(n),i.cancel(n)):void 0:i.prevent(n)}),s.onPostRender.dispatch(s,n.get(s.id))}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(n,i,o){this.parent(n,i,o),this.onRenderMenu=new e.util.Dispatcher(this),i.menu_container=i.menu_container||t.doc.body},showMenu:function(){var e,i,o,s=this,a=t.get(s.id);if(!s.isDisabled()){if(s.isMenuRendered||(s.renderMenu(),s.isMenuRendered=!0),s.isMenuVisible)return s.hideMenu();e=t.getPos(s.settings.menu_container),i=t.getPos(a),o=s.menu,o.settings.offset_x=i.x,o.settings.offset_y=i.y,o.settings.vp_offset_x=i.x,o.settings.vp_offset_y=i.y,o.settings.keyboard_focus=s._focused,o.showMenu(0,a.firstChild.clientHeight),n.add(t.doc,"mousedown",s.hideMenu,s),s.setState("Selected",1),s.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var i=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id||e.id===i.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(i.setState("Selected",0),n.remove(t.doc,"mousedown",i.hideMenu,i),i.menu&&i.menu.hideMenu()),i.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;n.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,n,i=this,o=i.settings;return e="<tbody><tr>",n=o.image?t.createHTML("img ",{src:o.image,role:"presentation","class":"mceAction "+o["class"]}):t.createHTML("span",{"class":"mceAction "+o["class"]},""),n+=t.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:i.id+"_voice",style:"display:none;"},o.title),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+o["class"],onclick:"return false;",onmousedown:"return false;",title:o.title},n)+"</td>",n=t.createHTML("span",{"class":"mceOpen "+o["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+o["class"],onclick:"return false;",onmousedown:"return false;",title:o.title},n)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+o["class"],cellpadding:"0",cellspacing:"0",title:o.title},e),t.createHTML("div",{id:i.id,role:"button",tabindex:"0","aria-labelledby":i.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var i,o=this,s=o.settings;s.onclick&&(i=function(e){o.isDisabled()||(s.onclick(o.value),n.cancel(e))},n.add(o.id+"_action","click",i),n.add(o.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?("click"===e.type||e.keyCode===t)&&(o.showMenu(),n.cancel(e)):(i(),n.cancel(e))})),n.add(o.id+"_open","click",function(e){o.showMenu(),n.cancel(e)}),n.add([o.id,o.id+"_open"],"focus",function(){o._focused=1}),n.add([o.id,o.id+"_open"],"blur",function(){o._focused=0}),(e.isIE6||!t.boxModel)&&(n.add(o.id,"mouseover",function(){t.hasClass(o.id,"mceSplitButtonDisabled")||t.addClass(o.id,"mceSplitButtonHover")}),n.add(o.id,"mouseout",function(){t.hasClass(o.id,"mceSplitButtonDisabled")||t.removeClass(o.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),n.clear(this.id+"_action"),n.clear(this.id+"_open"),n.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.is,o=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,n,i){var o=this;o.parent(t,n,i),o.settings=n=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},o.settings),o.onShowMenu=new e.util.Dispatcher(o),o.onHideMenu=new e.util.Dispatcher(o),o.value=n.default_color},showMenu:function(){var i,o,s=this;if(!s.isDisabled()){if(s.isMenuRendered||(s.renderMenu(),s.isMenuRendered=!0),s.isMenuVisible)return s.hideMenu();i=t.get(s.id),t.show(s.id+"_menu"),t.addClass(i,"mceSplitButtonSelected"),o=t.getPos(i),t.setStyles(s.id+"_menu",{left:o.x,top:o.y+i.firstChild.clientHeight,zIndex:2e5}),i=0,n.add(t.doc,"mousedown",s.hideMenu,s),s.onShowMenu.dispatch(s),s._focused&&(s._keyHandler=n.add(s.id+"_menu","keydown",function(e){27==e.keyCode&&s.hideMenu()}),t.select("a",s.id+"_menu")[0].focus()),s.keyboardNav=new e.ui.KeyboardNavigation({root:s.id+"_menu",items:t.select("a",s.id+"_menu"),onCancel:function(){s.hideMenu(),s.focus()}}),s.keyboardNav.focus(),s.isMenuVisible=1}},hideMenu:function(e){var i=this;if(i.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(i.id,"mceSplitButtonSelected"),n.remove(t.doc,"mousedown",i.hideMenu,i),n.remove(i.id+"_menu","keydown",i._keyHandler),t.hide(i.id+"_menu")),i.isMenuVisible=0,i.onHideMenu.dispatch(),i.keyboardNav.destroy()}},renderMenu:function(){var s,a,r,l,c,d,u=this,h=0,f=u.settings;return c=t.add(f.menu_container,"div",{role:"listbox",id:u.id+"_menu","class":f.menu_class+" "+f["class"],style:"position:absolute;left:0;top:-1000px;"}),s=t.add(c,"div",{"class":f["class"]+" mceSplitButtonMenu"}),t.add(s,"span",{"class":"mceMenuLine"}),a=t.add(s,"table",{role:"presentation","class":"mceColorSplitMenu"}),r=t.add(a,"tbody"),h=0,o(i(f.colors,"array")?f.colors:f.colors.split(","),function(n){n=n.replace(/^#/,""),h--||(l=t.add(r,"tr"),h=f.grid_width-1),a=t.add(l,"td");var i={href:"javascript:;",style:{backgroundColor:"#"+n},title:u.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};e.isIE||(i.role="option"),a=t.add(a,"a",i),u.editor.forcedHighContrastMode&&(a=t.add(a,"canvas",{width:16,height:16,"aria-hidden":"true"}),a.getContext&&(d=a.getContext("2d"))?(d.fillStyle="#"+n,d.fillRect(0,0,16,16)):t.remove(a))}),f.more_colors_func&&(a=t.add(r,"tr"),a=t.add(a,"td",{colspan:f.grid_width,"class":"mceMoreColors"}),a=t.add(a,"a",{role:"option",id:u.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},f.more_colors_title),n.add(a,"click",function(e){return f.more_colors_func.call(f.more_colors_scope||this),n.cancel(e)})),t.addClass(s,"mceColorSplitMenu"),n.add(u.id+"_menu","mousedown",function(e){return n.cancel(e)}),n.add(u.id+"_menu","click",function(e){var n;return e=t.getParent(e.target,"a",r),e&&"a"==e.nodeName.toLowerCase()&&(n=e.getAttribute("data-mce-color"))&&u.setColor(n),!1}),c},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var n=this;t.setStyle(n.id+"_preview","backgroundColor",e),n.value=e},postRender:function(){var e=this,n=e.id;e.parent(),t.add(n+"_action","div",{id:n+"_preview","class":"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){var e=this;e.parent(),n.clear(e.id+"_menu"),n.clear(e.id+"_more"),t.remove(e.id+"_menu"),e.keyboardNav&&e.keyboardNav.destroy()}})}(tinymce),function(e){var t=e.DOM,n=e.each,i=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var n=this,i=[],o=n.controls,s=e.each,a=n.settings;return i.push('<div id="'+n.id+'" role="group" aria-labelledby="'+n.id+'_voice">'),i.push("<span role='application'>"),i.push('<span id="'+n.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(a.name)+"</span>"),s(o,function(e){i.push(e.renderHTML())}),i.push("</span>"),i.push("</div>"),i.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var i=this,o=[];n(i.controls,function(e){n(e.controls,function(e){e.id&&o.push(e)})}),i.keyNav=new e.ui.KeyboardNavigation({root:i.id,items:o,onCancel:function(){e.isWebKit&&t.get(i.editor.id+"_ifr").focus(),i.editor.focus()},excludeFromTabOrder:!i.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),i.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each,e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,n,i,o,s,a,r=this,l="",c=r.settings;for(a=r.controls,i=0;a.length>i;i++)n=a[i],o=a[i-1],s=a[i+1],0===i&&(e="mceToolbarStart",n.Button?e+=" mceToolbarStartButton":n.SplitButton?e+=" mceToolbarStartSplitButton":n.ListBox&&(e+=" mceToolbarStartListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->"))),o&&n.ListBox&&(o.Button||o.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),l+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"</td>":"<td>"+n.renderHTML()+"</td>",s&&n.ListBox&&(s.Button||s.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",n.Button?e+=" mceToolbarEndButton":n.SplitButton?e+=" mceToolbarEndSplitButton":n.ListBox&&(e+=" mceToolbarEndListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:r.id,"class":"mceToolbar"+(c["class"]?" "+c["class"]:""),cellpadding:"0",cellspacing:"0",align:r.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+l+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each,e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=e.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];e.each(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(t,n,i,o){function s(){var s=a.dependencies(t);e.each(s,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,void 0,void 0)}),i&&(o?i.call(o):i.call(e.ScriptLoader))}var a=this,r=n;a.urls[t]||("object"==typeof n&&(r=n.prefix+n.resource+n.suffix),0!==r.indexOf("/")&&-1==r.indexOf("://")&&(r=e.baseURL+"/"+r),a.urls[t]=r.substring(0,r.lastIndexOf("/")),a.lookup[t]?s():e.ScriptLoader.add(r,s,o))
}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,n=e.each,i=e.extend,o=e.DOM,s=e.dom.Event,a=(e.ThemeManager,e.PluginManager,e.explode),r=e.util.Dispatcher,l=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new r(e),s.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new r(e),e.onRemoveEditor=new r(e),e.EditorManager=i(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function i(e){var t=e.id;return t||(t=e.name,t=t&&!o.get(t)?e.name:o.uniqueId(),e.setAttribute("id",t)),t}function r(t,n,i){var o=t[n];if(o)return e.is(o,"string")&&(i=o.replace(/\.\w+$/,""),i=i?e.resolve(i):0,o=e.resolve(o)),o.apply(i||this,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):o.hasClass(e,t)}var d,u=this,h=(e.ScriptLoader,[]);u.settings=t,s.bind(window,"ready",function(){var s,u;switch(r(t,"onpageload"),t.mode){case"exact":s=t.elements||"",s.length>0&&n(a(s),function(i){o.get(i)?(d=new e.Editor(i,t),h.push(d),d.render(1)):n(document.forms,function(s){n(s.elements,function(n){n.name===i&&(i="mce_editor_"+l++,o.setAttrib(n,"id",i),d=new e.Editor(i,t),h.push(d),d.render(1))})})});break;case"textareas":case"specific_textareas":n(o.select("textarea"),function(n){t.editor_deselector&&c(n,t.editor_deselector)||(!t.editor_selector||c(n,t.editor_selector))&&(d=new e.Editor(i(n),t),h.push(d),d.render(1))});break;default:t.types?n(t.types,function(s){n(o.select(s.selector),function(n){var o=new e.Editor(i(n),e.extend({},t,s));h.push(o),o.render(1)})}):t.selector&&n(o.select(t.selector),function(n){var o=new e.Editor(i(n),t);h.push(o),o.render(1)})}t.oninit&&(s=u=0,n(h,function(e){u++,e.initialized?s++:e.onInit.add(function(){s++,s==u&&r(t,"oninit")}),s==u&&r(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors.hasOwnProperty(e)?this.editors[e]:t},getInstanceById:function(e){return this.get(e)},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t._setActive(e),t.onAddEditor.dispatch(t,e),e},remove:function(e){var t,n=this,i=n.editors;if(!i[e.id])return null;for(delete i[e.id],t=0;i.length>t;t++)if(i[t]==e){i.splice(t,1);break}return n.activeEditor==e&&n._setActive(i[0]),e.destroy(),n.onRemoveEditor.dispatch(n,e),e},execCommand:function(t,n,i){function o(){r.destroy(),s.detachEvent("onunload",o),s=s.tinyMCE=s.tinymce=null}var s,a=this,r=a.get(i);switch(t){case"mceFocus":return r.focus(),!0;case"mceAddEditor":case"mceAddControl":return a.get(i)||new e.Editor(i,a.settings).render(),!0;case"mceAddFrameControl":return s=i.window,s.tinyMCE=tinyMCE,s.tinymce=e,e.DOM.doc=s.document,e.DOM.win=s,r=new e.Editor(i.element_id,i),r.render(),e.isIE&&s.attachEvent("onunload",o),i.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(a.execCommand("mceAddControl",0,i),!0)}return a.activeEditor?a.activeEditor.execCommand(t,n,i):!1},execInstanceCommand:function(e,t,n,i){var o=this.get(e);return o?o.execCommand(t,n,i):!1},triggerSave:function(){n(this.editors,function(e){e.save()})},addI18n:function(t,i){var o=this.i18n;e.is(t,"string")?n(i,function(e,n){o[t+"."+n]=e}):n(t,function(e,t){n(e,function(e,i){n(e,function(e,n){"common"===i?o[t+"."+n]=e:o[t+"."+i+"."+n]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.extend,o=e.each,s=e.isGecko,a=e.isIE,r=(e.isWebKit,e.is),l=e.ThemeManager,c=e.PluginManager,d=e.explode;e.create("tinymce.Editor",{Editor:function(t,n){var o=this,s=!0;o.settings=n=i({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:s,submit_patch:s,add_unload_trigger:s,convert_urls:s,relative_urls:s,remove_script_host:s,table_inline_editing:!1,object_resizing:s,accessibility_focus:s,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:s,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:s,directionality:"ltr",forced_root_block:"p",hidden_input:s,padd_empty_editor:s,render_ui:s,indentation:"30px",fix_table_elements:s,inline_styles:s,convert_fonts_to_spans:s,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:s,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:s},n),o.id=o.editorId=t,o.isNotDirty=!1,o.plugins={},o.documentBaseURI=new e.util.URI(n.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),o.baseURI=e.baseURI,o.contentCSS=[],o.contentStyles=[],o.setupEvents(),o.execCommands={},o.queryStateCommands={},o.queryValueCommands={},o.execCallback("setup",o)},render:function(){function i(){a.language&&a.language_load!==!1&&u.add(e.baseURL+"/langs/"+a.language+".js"),a.theme&&"function"!=typeof a.theme&&"-"!=a.theme.charAt(0)&&!l.urls[a.theme]&&l.load(a.theme,"themes/"+a.theme+"/editor_template"+e.suffix+".js"),o(d(a.plugins),function(t){if(t&&!c.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var n=c.dependencies(t);o(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"};t=c.createUrl(n,t),c.load(t.resource,t)})}else{if("safari"==t)return;c.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),u.loadQueue(function(){s.removed||s.init()})}var s=this,a=s.settings,r=s.id,u=e.ScriptLoader;return n.domLoaded?(tinyMCE.settings=a,s.getElement()&&(!e.isIDevice||e.isIOS5)&&(!/TEXTAREA|INPUT/i.test(s.getElement().nodeName)&&a.hidden_input&&t.getParent(r,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:r}),r),a.content_editable||(s.orgVisibility=s.getElement().style.visibility,s.getElement().style.visibility="hidden"),e.WindowManager&&(s.windowManager=new e.WindowManager(s)),"xml"==a.encoding&&s.onGetContent.add(function(e,n){n.save&&(n.content=t.encode(n.content))}),a.add_form_submit_trigger&&s.onSubmit.addToTop(function(){s.initialized&&(s.save(),s.isNotDirty=1)}),a.add_unload_trigger&&(s._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!s.initialized||s.destroyed||s.isHidden()||s.save({format:"raw",no_events:!0})})),e.addUnload(s.destroy,s),a.submit_patch&&s.onBeforeRenderUI.add(function(){var t=s.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(s.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),s.isNotDirty=1,s.formElement._mceOldSubmit(s.formElement)}),t=null))}),i()),void 0):(n.add(window,"ready",function(){s.render()}),void 0)},init:function(){function n(t){var i,s=c.get(t),a=c.urls[t]||e.documentBaseURL.replace(/\/$/,"");s&&-1===e.inArray(_,t)&&(o(c.dependencies(t),function(e){n(e)}),i=new s(y,a),y.plugins[t]=i,i.init&&(i.init(y,a),_.push(t)))}var i,s,r,u,h,f,p,m,g,v,y=this,b=y.settings,w=y.getElement(),_=[];if(e.add(y),b.aria_label=b.aria_label||t.getAttrib(w,"aria-label",y.getLang("aria.rich_text_area")),b.theme&&("function"!=typeof b.theme?(b.theme=b.theme.replace(/-/,""),h=l.get(b.theme),y.theme=new h,y.theme.init&&y.theme.init(y,l.urls[b.theme]||e.documentBaseURL.replace(/\/$/,""))):y.theme=b.theme),o(d(b.plugins.replace(/\-/g,"")),n),b.popup_css!==!1&&(b.popup_css=b.popup_css?y.documentBaseURI.toAbsolute(b.popup_css):y.baseURI.toAbsolute("themes/"+b.theme+"/skins/"+b.skin+"/dialog.css")),b.popup_css_add&&(b.popup_css+=","+y.documentBaseURI.toAbsolute(b.popup_css_add)),y.controlManager=new e.ControlManager(y),y.onBeforeRenderUI.dispatch(y,y.controlManager),b.render_ui&&y.theme&&(y.orgDisplay=w.style.display,"function"!=typeof b.theme?(s=b.width||w.style.width||w.offsetWidth,r=b.height||w.style.height||w.offsetHeight,u=b.min_height||100,g=/^[0-9\.]+(|px)$/i,g.test(""+s)&&(s=Math.max(parseInt(s,10)+(h.deltaWidth||0),100)),g.test(""+r)&&(r=Math.max(parseInt(r,10)+(h.deltaHeight||0),u)),h=y.theme.renderUI({targetNode:w,width:s,height:r,deltaWidth:b.delta_width,deltaHeight:b.delta_height}),t.setStyles(h.sizeContainer||h.editorContainer,{width:s,height:r}),r=(h.iframeHeight||r)+("number"==typeof r?h.deltaHeight||0:""),u>r&&(r=u)):(h=b.theme(y,w),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||y.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||y.id+"_iframecontainer"),r=h.iframeHeight||w.offsetHeight,a&&y.onInit.add(function(e){e.dom.bind(e.getBody(),"beforedeactivate keydown",function(){e.lastIERng=e.selection.getRng()})})),y.editorContainer=h.editorContainer),b.content_css&&o(d(b.content_css),function(e){y.contentCSS.push(y.documentBaseURI.toAbsolute(e))}),b.content_style&&y.contentStyles.push(b.content_style),b.content_editable)return w=i=h=null,y.initContentBody();for(document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),y.iframeHTML=b.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',b.document_base_url!=e.documentBaseURL&&(y.iframeHTML+='<base href="'+y.documentBaseURI.getURI()+'" />'),e.isIE8&&(y.iframeHTML+=b.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),y.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',v=0;y.contentCSS.length>v;v++)y.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y.contentCSS[v]+'" />';y.contentCSS=[],p=b.body_id||"tinymce",-1!=p.indexOf("=")&&(p=y.getParam("body_id","","hash"),p=p[y.id]||p),m=b.body_class||"",-1!=m.indexOf("=")&&(m=y.getParam("body_class","","hash"),m=m[y.id]||""),y.iframeHTML+='</head><body id="'+p+'" class="mceContentBody '+m+'" onload="window.parent.tinyMCE.get(\''+y.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(a||e.isOpera&&11>parseFloat(opera.version()))&&(f='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+y.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),i=t.add(h.iframeContainer,"iframe",{id:y.id+"_ifr",src:f||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.aria_label,style:{width:"100%",height:r,display:"block"}}),y.contentAreaContainer=h.iframeContainer,h.editorContainer&&(t.get(h.editorContainer).style.display=y.orgDisplay),w.style.visibility=y.orgVisibility,t.get(y.id).style.display="none",t.setAttrib(y.id,"aria-hidden",!0),e.relaxedDomain&&f||y.initContentBody(),w=i=h=null},initContentBody:function(){var n,i,s=this,r=s.settings,l=t.get(s.id),c=s.getDoc();a&&e.relaxedDomain||r.content_editable||(c.open(),c.write(s.iframeHTML),c.close(),e.relaxedDomain&&(c.domain=e.relaxedDomain)),r.content_editable&&(t.addClass(l,"mceContentBody"),s.contentDocument=c=r.content_document||document,s.contentWindow=r.content_window||window,s.bodyElement=l,r.content_document=r.content_window=null),n=s.getBody(),n.disabled=!0,r.readonly||(n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.schema=new e.html.Schema(r),s.dom=new e.dom.DOMUtils(c,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:r.content_editable?s.id:null,schema:s.schema}),s.parser=new e.html.DomParser(r,s.schema),s.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,i,o,a=e.length,r=s.dom;a--;)n=e[a],i=n.attr(t),o="data-mce-"+t,n.attributes.map[o]||("style"===t?n.attr(o,r.serializeStyle(r.parseStyle(i),n.name)):n.attr(o,s.convertURL(i,t,n.name)))}),s.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,i=t.length,o=s.schema.getNonEmptyElements();i--;)n=t[i],n.isEmpty(o)&&(n.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),s.serializer=new e.dom.Serializer(r,s.dom,s.schema),s.selection=new e.dom.Selection(s.dom,s.getWin(),s.serializer,s),s.formatter=new e.Formatter(s),s.undoManager=new e.UndoManager(s),s.forceBlocks=new e.ForceBlocks(s),s.enterKey=new e.EnterKey(s),s.editorCommands=new e.EditorCommands(s),s.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||s.nodeChanged()}),s.serializer.onPreProcess.add(function(e,t){return s.onPreProcess.dispatch(s,t,e)}),s.serializer.onPostProcess.add(function(e,t){return s.onPostProcess.dispatch(s,t,e)}),s.onPreInit.dispatch(s),r.browser_spellcheck||r.gecko_spellcheck||(c.body.spellcheck=!1),r.readonly||s.bindNativeEvents(),s.controlManager.onPostRender.dispatch(s,s.controlManager),s.onPostRender.dispatch(s),s.quirks=e.util.Quirks(s),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&s.onBeforeSetContent.add(function(e,t){o(r.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.onSetContent.add(function(){s.addVisual(s.getBody())}),r.padd_empty_editor&&s.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.onInit.dispatch(s),s.execCallback("setupcontent_callback",s.id,n,c),s.execCallback("init_instance_callback",s),s.focus(!0),s.nodeChanged({initial:!0}),s.contentStyles.length>0&&(i="",o(s.contentStyles,function(e){i+=e+"\r\n"}),s.dom.addStyle(i)),o(s.contentCSS,function(e){s.dom.loadCSS(e)}),r.auto_focus&&setTimeout(function(){var t=e.get(r.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),l=c=n=null},focus:function(t){var n,i,o,s,a=this,r=a.selection,l=a.settings.content_editable,c=a.getDoc();t||(a.lastIERng&&r.setRng(a.lastIERng),i=r.getRng(),i.item&&(o=i.item(0)),a._refreshContentEditable(),l||a.getWin().focus(),(e.isGecko||l)&&(s=a.getBody(),s.setActive?s.setActive():s.focus(),l&&r.normalize()),o&&o.ownerDocument==c&&(i=c.body.createControlRange(),i.addElement(o),i.select())),e.activeEditor!=a&&(null!=(n=e.activeEditor)&&n.onDeactivate.dispatch(n,a),a.onActivate.dispatch(a,n)),e._setActive(a)},execCallback:function(t){var n,i=this,o=i.settings[t];if(o)return i.callbackLookup&&(n=i.callbackLookup[t])&&(o=n.func,n=n.scope),r(o,"string")&&(n=o.replace(/\.\w+$/,""),n=n?e.resolve(n):0,o=e.resolve(o),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[t]={func:o,scope:n}),o.apply(n||i,Array.prototype.slice.call(arguments,1))},translate:function(t){var n=this.settings.language||"en",i=e.i18n;return t?i[n+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(e,t){return i[n+"."+t]||"{#"+t+"}"}):""},getLang:function(t,n){return e.i18n[(this.settings.language||"en")+"."+t]||(r(n)?n:"{#"+t+"}")},getParam:function(t,n,i){var s,a=e.trim,l=r(this.settings[t])?this.settings[t]:n;return"hash"===i?(s={},r(l,"string")?o(l.indexOf("=")>0?l.split(/[;,](?![^=;,]*(?:[;,]|$))/):l.split(","),function(e){e=e.split("="),s[a(e[0])]=e.length>1?a(e[1]):a(e)}):s=l,s):l},nodeChanged:function(e){var t,n=this,i=n.selection;n.initialized&&(e=e||{},t=i.getStart()||n.getBody(),t=a&&t.ownerDocument!=n.getDoc()?n.getBody():t,e.parents=[],n.dom.getParent(t,function(t){return"BODY"==t.nodeName?!0:(e.parents.push(t),void 0)}),n.onNodeChange.dispatch(n,e?e.controlManager||n.controlManager:n.controlManager,t,i.isCollapsed(),e))},addButton:function(e,t){var n=this;n.buttons=n.buttons||{},n.buttons[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){var s,a=this;return a.settings.custom_shortcuts===!1?!1:(a.shortcuts=a.shortcuts||{},r(n,"string")&&(s=n,n=function(){a.execCommand(s,!1,null)}),r(n,"object")&&(s=n,n=function(){a.execCommand(s[0],s[1],s[2])}),o(d(e),function(e){var s={func:n,scope:i||this,desc:a.translate(t),alt:!1,ctrl:!1,shift:!1};o(d(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":s[e]=!0;break;default:s.charCode=e.charCodeAt(0),s.keyCode=e.toUpperCase().charCodeAt(0)}}),a.shortcuts[(s.ctrl?"ctrl":"")+","+(s.alt?"alt":"")+","+(s.shift?"shift":"")+","+s.keyCode]=s}),!0)},execCommand:function(e,t,n,s){var a,r,l=this,c=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||s&&s.skip_focus||l.focus(),s=i({},s),l.onBeforeExecCommand.dispatch(l,e,t,n,s),s.terminate?!1:l.execCallback("execcommand_callback",l.id,l.selection.getNode(),e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,s),!0):(a=l.execCommands[e])&&(r=a.func.call(a.scope,t,n),r!==!0)?(l.onExecCommand.dispatch(l,e,t,n,s),r):(o(l.plugins,function(i){return i.execCommand&&i.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,s),c=1,!1):void 0}),c?!0:l.theme&&l.theme.execCommand&&l.theme.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,s),!0):l.editorCommands.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,s),!0):(l.getDoc().execCommand(e,t,n),l.onExecCommand.dispatch(l,e,t,n,s),void 0))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandState(e),-1!==t)return t;try{return this.getDoc().queryCommandState(e)}catch(o){}}},queryCommandValue:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryValueCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandValue(e),r(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,n=e.getDoc();a&&n&&n.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,n){return this.onSetProgressState.dispatch(this,e,t,n),e},load:function(e){var t,n=this,i=n.getElement();return i?(e=e||{},e.load=!0,t=n.setContent(r(i.value)?i.value:i.innerHTML,e),e.element=i,e.no_events||n.onLoadContent.dispatch(n,e),e.element=i=null,t):void 0},save:function(e){var n,i,s=this,a=s.getElement();if(a&&s.initialized)return e=e||{},e.save=!0,e.element=a,n=e.content=s.getContent(e),e.no_events||s.onSaveContent.dispatch(s,e),n=e.content,/TEXTAREA|INPUT/i.test(a.nodeName)?a.value=n:(a.innerHTML=n,(i=t.getParent(s.id,"form"))&&o(i.elements,function(e){return e.name==s.id?(e.value=n,!1):void 0})),e.element=a=null,n},setContent:function(t,n){var i,o=this,s=o.getBody();return n=n||{},n.format=n.format||"html",n.set=!0,n.content=t,n.no_events||o.onBeforeSetContent.dispatch(o,n),t=n.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==n.format&&(t=new e.html.Serializer({},o.schema).serialize(o.parser.parse(t))),n.content=e.trim(t),o.dom.setHTML(s,n.content),n.no_events||o.onSetContent.dispatch(o,n),o.settings.content_editable&&document.activeElement!==o.getBody()||o.selection.normalize(),n.content):(i=o.settings.forced_root_block,t=i?"<"+i+'><br data-mce-bogus="1"></'+i+">":'<br data-mce-bogus="1">',s.innerHTML=t,o.selection.select(s,!0),o.selection.collapse(!0),void 0)},getContent:function(t){var n,i=this,o=i.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||i.onBeforeGetContent.dispatch(i,t),n="raw"==t.format?o.innerHTML:"text"==t.format?o.innerText||o.textContent:i.serializer.serialize(o,t),t.content="text"!=t.format?e.trim(n):n,t.no_events||i.onGetContent.dispatch(i,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,n=this;return n.contentWindow||(e=t.get(n.id+"_ifr"),e&&(n.contentWindow=e.contentWindow)),n.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,o=i.settings;return o.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")?e:o.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,o.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,s=n.dom;e=e||n.getBody(),r(n.hasVisual)||(n.hasVisual=i.visual),o(s.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mceItemTable",o=s.getAttrib(e,"border"),o&&"0"!=o||(n.hasVisual?s.addClass(e,t):s.removeClass(e,t)),void 0;case"A":return s.getAttrib(e,"href",!1)||(o=s.getAttrib(e,"name")||e.id,t="mceItemAnchor",o&&(n.hasVisual?s.addClass(e,t):s.removeClass(e,t))),void 0}}),n.onVisualAid.dispatch(n,e,n.hasVisual)},remove:function(){var i=this,o=i.getContainer(),s=i.getDoc();i.removed||(i.removed=1,a&&s&&s.execCommand("SelectAll"),i.save(),t.setStyle(i.id,"display",i.orgDisplay),i.settings.content_editable||(n.unbind(i.getWin()),n.unbind(i.getDoc())),n.unbind(i.getBody()),n.clear(o),i.execCallback("remove_instance_callback",i),i.onRemove.dispatch(i),i.onExecCommand.listeners=[],e.remove(i),t.remove(o))},destroy:function(t){var i=this;i.destroyed||(s&&(n.unbind(i.getDoc()),n.unbind(i.getWin()),n.unbind(i.getBody())),t||(e.removeUnload(i.destroy),tinyMCE.onBeforeUnload.remove(i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),i.controlManager.destroy(),i.selection.destroy(),i.dom.destroy()),i.formElement&&(i.formElement.submit=i.formElement._mceOldSubmit,i.formElement._mceOldSubmit=null),i.contentAreaContainer=i.formElement=i.container=i.settings.content_element=i.bodyElement=i.contentDocument=i.contentWindow=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),i.destroyed=1)},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return s?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}})}(tinymce),function(e){var t=e.each;e.Editor.prototype.setupEvents=function(){var n=this,i=n.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){n[t]=new e.util.Dispatcher(n)}),i.cleanup_callback&&(n.onBeforeSetContent.add(function(e,t){t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),n.onPreProcess.add(function(e,t){t.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&e.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),n.onPostProcess.add(function(e,t){t.set&&(t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=e.execCallback("cleanup_callback","get_from_editor",t.content,t))})),i.save_callback&&n.onGetContent.add(function(e,t){t.save&&(t.content=e.execCallback("save_callback",e.id,t.content,e.getBody()))}),i.handle_event_callback&&n.onEvent.add(function(e,t,i){n.execCallback("handle_event_callback",t,e,i)===!1&&(t.preventDefault(),t.stopPropagation())}),i.handle_node_change_callback&&n.onNodeChange.add(function(e,t,n){e.execCallback("handle_node_change_callback",e.id,n,-1,-1,!0,e.selection.isCollapsed())}),i.save_callback&&n.onSaveContent.add(function(e,t){var n=e.execCallback("save_callback",e.id,t.content,e.getBody());n&&(t.content=n)}),i.onchange_callback&&n.onChange.add(function(e,t){e.execCallback("onchange_callback",e,t)})},e.Editor.prototype.bindNativeEvents=function(){function n(e,t){e.type,r.removed||r.onEvent.dispatch(r,e,t)!==!1&&r[a[e.fakeType||e.type]].dispatch(r,e,t)}function i(){r.focus(!0)}function o(t,n){65==n.keyCode&&e.VK.metaKeyPressed(n)||r.selection.normalize(),r.nodeChanged()}function s(n,i){(n.altKey||n.ctrlKey||n.metaKey)&&t(r.shortcuts,function(t){var o=e.isMac?n.metaKey:n.ctrlKey;if(t.ctrl==o&&t.alt==n.altKey&&t.shift==n.shiftKey)return n.keyCode==t.keyCode||n.charCode&&n.charCode==t.charCode?(n.preventDefault(),i&&t.func.call(t.scope),!0):void 0})}var a,r=this,l=r.settings,c=r.dom;a={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(a,function(t,i){var o=l.content_editable?r.getBody():r.getDoc();switch(i){case"contextmenu":c.bind(o,i,n);break;case"paste":c.bind(r.getBody(),i,n);break;case"submit":case"reset":c.bind(r.getElement().form||e.DOM.getParent(r.id,"form"),i,n);break;default:c.bind(o,i,n)}}),c.bind(l.content_editable?r.getBody():e.isGecko?r.getDoc():r.getWin(),"focus",function(){r.focus(!0)}),l.content_editable&&e.isOpera&&(c.bind(r.getBody(),"click",i),c.bind(r.getBody(),"keydown",i)),r.onMouseUp.add(o),r.onKeyUp.add(function(t,n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||13==i||45==i||46==i||8==i||e.isMac&&(91==i||93==i)||n.ctrlKey)&&o(t,n)}),r.onReset.add(function(){r.setContent(r.startContent,{format:"raw"})}),r.onKeyUp.add(function(e,t){s(t)}),r.onKeyPress.add(function(e,t){s(t)}),r.onKeyDown.add(function(e,t){s(t,!0)}),e.isOpera&&r.onClick.add(function(e,t){t.preventDefault()})}}(tinymce),function(e){var t,n=e.each,i=!0,o=!1;e.EditorCommands=function(s){function a(e,t,n){var s;return e=e.toLowerCase(),(s=y.exec[e])?(s(e,t,n),i):o}function r(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function l(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):o}function c(e,t){t=t||"exec",n(e,function(e,i){n(i.toLowerCase().split(","),function(n){y[t][n]=e})})}function d(e,n,i){return n===t&&(n=o),i===t&&(i=null),s.getDoc().execCommand(e,n,i)}function u(e){return w.match(e)}function h(e,n){w.toggle(e,n?{value:n}:t)}function f(e){m=v.getBookmark(e)}function p(){v.moveToBookmark(m)}var m,g=s.dom,v=s.selection,y={state:{},exec:{},value:{}},b=s.settings,w=s.formatter;e.extend(this,{execCommand:a,queryCommandState:r,queryCommandValue:l,addCommands:c}),c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},"Cut,Copy,Paste":function(t){var n,o=s.getDoc();try{d(t)}catch(a){n=i}(n||!o.queryCommandSupported(t))&&(e.isGecko?s.windowManager.confirm(s.getLang("clipboard_msg"),function(e){e&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):s.windowManager.alert(s.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),d(e),v.collapse(o)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);n("left,center,right,full".split(","),function(e){t!=e&&w.remove("align"+e)}),h("align"+t),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;d(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(f(),g.split(n,t),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){h(e,n)},FontSize:function(t,n,i){var o,s;i>=1&&7>=i&&(s=e.explode(b.font_size_style_values),o=e.explode(b.font_size_classes),i=o?o[i-1]||i:s[i-1]||i),h(t,i)},RemoveFormat:function(e){w.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,n){return h(n||"p")},mceCleanup:function(){var e=v.getBookmark();s.setContent(s.getContent({cleanup:i}),{cleanup:i}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var o=n||v.getNode();o!=s.getBody()&&(f(),s.dom.remove(o,i),p())},mceSelectNodeDepth:function(e,t,n){var i=0;g.getParent(v.getNode(),function(e){return 1==e.nodeType&&i++==n?(v.select(e),o):void 0},s.getBody())},mceSelectNode:function(e,t,n){v.select(n)},mceInsertContent:function(t,n,i){var o,a,r,l,c,d,u,h,f,p,m,y,b,w;if(o=s.parser,a=new e.html.Serializer({},s.schema),b='<span id="mce_marker" data-mce-type="bookmark">﻿</span>',d={content:i,format:"html"},v.onBeforeSetContent.dispatch(v,d),i=d.content,-1==i.indexOf("{$caret}")&&(i+="{$caret}"),i=i.replace(/\{\$caret\}/,b),v.isCollapsed()||s.getDoc().execCommand("Delete",!1,null),r=v.getNode(),d={context:r.nodeName.toLowerCase()},c=o.parse(i,d),m=c.lastChild,"mce_marker"==m.attr("id"))for(u=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!g.isBlock(m.name)){m.parent.insert(u,m,"br"===m.name);break}if(d.invalid){for(v.setContent(b),r=v.getNode(),l=s.getBody(),9==r.nodeType?r=m=l:m=r;m!==l;)r=m,m=m.parentNode;i=r==l?l.innerHTML:g.getOuterHTML(r),i=a.serialize(o.parse(i.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(c)}))),r==l?g.setHTML(l,i):g.setOuterHTML(r,i)}else i=a.serialize(c),m=r.firstChild,y=r.lastChild,!m||m===y&&"BR"===m.nodeName?g.setHTML(r,i):v.setContent(i);u=g.get("mce_marker"),h=g.getRect(u),f=g.getViewPort(s.getWin()),(h.y+h.h>f.y+f.h||h.y<f.y||h.x>f.x+f.w||h.x<f.x)&&(w=e.isIE?s.getDoc().documentElement:s.getBody(),w.scrollLeft=h.x,w.scrollTop=h.y-f.h+25),p=g.createRng(),m=u.previousSibling,m&&3==m.nodeType?p.setStart(m,m.nodeValue.length):(p.setStartBefore(u),p.setEndBefore(u)),g.remove(u),v.setRng(p),v.onSetContent.dispatch(v,d),s.addVisual()},mceInsertRawHTML:function(e,t,n){v.setContent("tiny_mce_marker"),s.setContent(s.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){h(n)},mceSetContent:function(e,t,n){s.setContent(n)},"Indent,Outdent":function(e){var t,i,o;t=b.indentation,i=/[a-z%]+$/i.exec(t),t=parseInt(t),r("InsertUnorderedList")||r("InsertOrderedList")?d(e):(b.forced_root_block||g.getParent(v.getNode(),g.isBlock)||w.apply("div"),n(v.getSelectedBlocks(),function(n){"outdent"==e?(o=Math.max(0,parseInt(n.style.paddingLeft||0)-t),g.setStyle(n,"paddingLeft",o?o+i:"")):g.setStyle(n,"paddingLeft",parseInt(n.style.paddingLeft||0)+t+i)}))},mceRepaint:function(){if(e.isGecko)try{f(i),v.getSel()&&v.getSel().selectAllChildren(s.getBody()),v.collapse(i),p()}catch(t){}},mceToggleFormat:function(e,t,n){w.toggle(n)},InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(e,t,n){s.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=g.getParent(v.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||w.remove("link"),n.href&&w.apply("link",n,i)},selectAll:function(){var e=g.getRoot(),t=g.createRng();v.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),v.setRng(t)):d("SelectAll")}}),c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var n="align"+t.substring(7),o=v.isCollapsed()?[g.getParent(v.getNode(),g.isBlock)]:v.getSelectedBlocks(),s=e.map(o,function(e){return!!w.matchNode(e,n)});return-1!==e.inArray(s,i)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i}return r("InsertUnorderedList")||r("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")
},"InsertUnorderedList,InsertOrderedList":function(e){var t=g.getParent(v.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),c({"FontSize,FontName":function(e){var t,n=0;return(t=g.getParent(v.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),c({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(n){function i(){return e.trim(n.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function o(){s.typing=!1,s.add()}var s,a,r,l,c,d=0,u=[];return onBeforeAdd=new t(s),r=new t(s),l=new t(s),c=new t(s),r.add(function(e,t){return e.hasUndo()?n.onChange.dispatch(n,t,e):void 0}),l.add(function(e,t){return n.onUndo.dispatch(n,t,e)}),c.add(function(e,t){return n.onRedo.dispatch(n,t,e)}),n.onInit.add(function(){s.add()}),n.onBeforeExecCommand.add(function(e,t,n,i,o){"Undo"==t||"Redo"==t||"mceRepaint"==t||o&&o.skip_undo||s.beforeChange()}),n.onExecCommand.add(function(e,t,n,i,o){"Undo"==t||"Redo"==t||"mceRepaint"==t||o&&o.skip_undo||s.add()}),n.onSaveContent.add(o),n.dom.bind(n.dom.getRoot(),"dragend",o),n.dom.bind(n.getBody(),"focusout",function(){!n.removed&&s.typing&&o()}),n.onKeyUp.add(function(e,t){var n=t.keyCode;(n>=33&&36>=n||n>=37&&40>=n||45==n||13==n||t.ctrlKey)&&o()}),n.onKeyDown.add(function(e,t){var n=t.keyCode;return n>=33&&36>=n||n>=37&&40>=n||45==n?(s.typing&&o(),void 0):((16>n||n>20)&&224!=n&&91!=n&&!s.typing&&(s.beforeChange(),s.typing=!0,s.add()),void 0)}),n.onMouseDown.add(function(){s.typing&&o()}),n.addShortcut("ctrl+z","undo_desc","Undo"),n.addShortcut("ctrl+y","redo_desc","Redo"),s={data:u,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:r,onUndo:l,onRedo:c,beforeChange:function(){a=n.selection.getBookmark(2,!0)},add:function(e){var t,o,r=n.settings;if(e=e||{},e.content=i(),s.onBeforeAdd.dispatch(s,e),o=u[d],o&&o.content==e.content)return null;if(u[d]&&(u[d].beforeBookmark=a),r.custom_undo_redo_levels&&u.length>r.custom_undo_redo_levels){for(t=0;u.length-1>t;t++)u[t]=u[t+1];u.length--,d=u.length}return e.bookmark=n.selection.getBookmark(2,!0),u.length-1>d&&(u.length=d+1),u.push(e),d=u.length-1,s.onAdd.dispatch(s,e),n.isNotDirty=0,e},undo:function(){var e;return s.typing&&(s.add(),s.typing=!1),d>0&&(e=u[--d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.beforeBookmark),s.onUndo.dispatch(s,e)),e},redo:function(){var e;return u.length-1>d&&(e=u[++d],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.bookmark),s.onRedo.dispatch(s,e)),e},clear:function(){u=[],d=0,s.typing=!1},hasUndo:function(){return d>0||this.typing},hasRedo:function(){return u.length-1>d&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(e){function t(){var t,a,r,l,c,d,u,h,f,p=o.getStart(),m=e.getBody(),g=-16777215;if(p&&1===p.nodeType&&n.forced_root_block){for(;p&&p!=m;){if(s[p.nodeName])return;p=p.parentNode}for(t=o.getRng(),t.setStart?(a=t.startContainer,r=t.startOffset,l=t.endContainer,c=t.endOffset):(t.item&&(p=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(p)),f=t.parentElement().ownerDocument===e.getDoc(),tmpRng=t.duplicate(),tmpRng.collapse(!0),r=-1*tmpRng.move("character",g),tmpRng.collapsed||(tmpRng=t.duplicate(),tmpRng.collapse(!1),c=-1*tmpRng.move("character",g)-r)),p=m.firstChild;p;)if(3===p.nodeType||1==p.nodeType&&!s[p.nodeName]){if(3===p.nodeType&&0==p.nodeValue.length){u=p,p=p.nextSibling,i.remove(u);continue}d||(d=i.create(n.forced_root_block),p.parentNode.insertBefore(d,p),h=!0),u=p,p=p.nextSibling,d.appendChild(u)}else d=null,p=p.nextSibling;if(h){if(t.setStart)t.setStart(a,r),t.setEnd(l,c),o.setRng(t);else if(f)try{t=e.getDoc().body.createTextRange(),t.moveToElementText(m),t.collapse(!0),t.moveStart("character",r),c>0&&t.moveEnd("character",c),t.select()}catch(v){}e.nodeChanged()}}}var n=e.settings,i=e.dom,o=e.selection,s=e.schema.getBlockElements();n.forced_root_block&&(e.onKeyUp.add(t),e.onNodeChange.add(t))},function(e){var t=(e.DOM,e.dom.Event),n=e.each,i=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,i){var o=this;i=i||{},o.editor=t,o.controls={},o.onAdd=new e.util.Dispatcher(o),o.onPostRender=new e.util.Dispatcher(o),o.prefix=i.prefix||t.id+"_",o._cls={},o.onPostRender.add(function(){n(o.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var n=null;return(n=this.get(e))&&n.setActive(t),n},setDisabled:function(e,t){var n=null;return(n=this.get(e))&&n.setDisabled(t),n},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,i,o,s,a=this,r=a.editor;for(a.controlFactories||(a.controlFactories=[],n(r.plugins,function(e){e.createControl&&a.controlFactories.push(e)})),s=a.controlFactories,i=0,o=s.length;o>i;i++)if(t=s[i].createControl(e,a))return a.add(t);return"|"===e||"separator"===e?a.createSeparator():r.buttons&&(t=r.buttons[e])?a.createButton(e,t):a.add(t)},createDropMenu:function(t,n,o){var s,a,r,l,c=this,d=c.editor;return n=i({"class":"mceDropDown",constrain:d.settings.constrain_menus},n),n["class"]=n["class"]+" "+d.getParam("skin")+"Skin",(r=d.getParam("skin_variant"))&&(n["class"]+=" "+d.getParam("skin")+"Skin"+r.substring(0,1).toUpperCase()+r.substring(1)),n["class"]+="rtl"==d.settings.directionality?" mceRtl":"",t=c.prefix+t,l=o||c._cls.dropmenu||e.ui.DropMenu,s=c.controls[t]=new l(t,n),s.onAddItem.add(function(e,t){var n=t.settings;n.title=d.getLang(n.title,n.title),n.onclick||(n.onclick=function(){n.cmd&&d.execCommand(n.cmd,n.ui||!1,n.value)})}),d.onRemove.add(function(){s.destroy()}),e.isIE&&(s.onShowMenu.add(function(){d.focus(),a=d.selection.getBookmark(1)}),s.onHideMenu.add(function(){a&&(d.selection.moveToBookmark(a),a=0)})),c.add(s)},createListBox:function(n,o,s){function a(t){return t.settings.use_accessible_selects&&!e.isGecko}var r,l,c=this,d=c.editor;return c.get(n)?null:(o.title=d.translate(o.title),o.scope=o.scope||d,o.onselect||(o.onselect=function(e){d.execCommand(o.cmd,o.ui||!1,e||o.value)}),o=i({title:o.title,"class":"mce_"+n,scope:o.scope,control_manager:c},o),n=c.prefix+n,d.settings.use_native_selects||a(d)?r=new e.ui.NativeListBox(n,o):(l=s||c._cls.listbox||e.ui.ListBox,r=new l(n,o,d)),c.controls[n]=r,e.isWebKit&&r.onPostRender.add(function(e,n){t.add(n,"mousedown",function(){d.bookmark=d.selection.getBookmark(1)}),t.add(n,"focus",function(){d.selection.moveToBookmark(d.bookmark),d.bookmark=null})}),r.hideMenu&&d.onMouseDown.add(r.hideMenu,r),c.add(r))},createButton:function(t,n,o){var s,a,r=this,l=r.editor;return r.get(t)?null:(n.title=l.translate(n.title),n.label=l.translate(n.label),n.scope=n.scope||l,n.onclick||n.menu_button||(n.onclick=function(){l.execCommand(n.cmd,n.ui||!1,n.value)}),n=i({title:n.title,"class":"mce_"+t,unavailable_prefix:l.getLang("unavailable",""),scope:n.scope,control_manager:r},n),t=r.prefix+t,n.menu_button?(a=o||r._cls.menubutton||e.ui.MenuButton,s=new a(t,n,l),l.onMouseDown.add(s.hideMenu,s)):(a=r._cls.button||e.ui.Button,s=new a(t,n,l)),r.add(s))},createMenuButton:function(e,t,n){return t=t||{},t.menu_button=1,this.createButton(e,t,n)},createSplitButton:function(t,n,o){var s,a,r=this,l=r.editor;return r.get(t)?null:(n.title=l.translate(n.title),n.scope=n.scope||l,n.onclick||(n.onclick=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n.onselect||(n.onselect=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,scope:n.scope,control_manager:r},n),t=r.prefix+t,a=o||r._cls.splitbutton||e.ui.SplitButton,s=r.add(new a(t,n,l)),l.onMouseDown.add(s.hideMenu,s),s)},createColorSplitButton:function(t,n,o){var s,a,r,l=this,c=l.editor;return l.get(t)?null:(n.title=c.translate(n.title),n.scope=n.scope||c,n.onclick||(n.onclick=function(t){e.isIE&&(r=c.selection.getBookmark(1)),c.execCommand(n.cmd,n.ui||!1,t||n.value)}),n.onselect||(n.onselect=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,menu_class:c.getParam("skin")+"Skin",scope:n.scope,more_colors_title:c.getLang("more_colors")},n),t=l.prefix+t,a=o||l._cls.colorsplitbutton||e.ui.ColorSplitButton,s=new a(t,n,c),c.onMouseDown.add(s.hideMenu,s),c.onRemove.add(function(){s.destroy()}),e.isIE&&(s.onShowMenu.add(function(){c.focus(),r=c.selection.getBookmark(1)}),s.onHideMenu.add(function(){r&&(c.selection.moveToBookmark(r),r=0)})),l.add(s))},createToolbar:function(t,n,i){var o,s,a=this;return t=a.prefix+t,s=i||a._cls.toolbar||e.ui.Toolbar,o=new s(t,n,a.editor),a.get(t)?null:a.add(o)},createToolbarGroup:function(t,n,i){var o,s,a=this;return t=a.prefix+t,s=i||this._cls.toolbarGroup||e.ui.ToolbarGroup,o=new s(t,n,a.editor),a.get(t)?null:a.add(o)},createSeparator:function(t){var n=t||this._cls.separator||e.ui.Separator;return new n},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){n(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,n=e.each,i=e.isIE,o=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var n=this;n.editor=e,n.onOpen=new t(n),n.onClose=new t(n),n.params={},n.features={}},open:function(t,s){var a,r,l,c,d=this,u="",h="modal"==d.editor.settings.dialog_type,f=e.DOM.getViewPort();t=t||{},s=s||{},r=o?f.w:screen.width,l=o?f.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(r/2)-t.width/2,t.top=t.top||parseInt(l/2)-t.height/2,s.inline=!1,s.mce_width=t.width,s.mce_height=t.height,s.mce_auto_focus=t.auto_focus,h&&i&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),n(t,function(t,n){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(n)||(u+=i&&h?(u?";":"")+n+":"+t:(u?",":"")+n+"="+t)}),d.features=t,d.params=s,d.onOpen.dispatch(d,t,s),c=t.url||t.file,c=e._addVer(c);try{i&&h?(a=1,window.showModalDialog(c,window,u)):a=window.open(c,t.name,u)}catch(p){}a||alert(d.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,n,i,o,s,a){var r=e.resolve(t);return new r(n,i,o,s,a)},confirm:function(e,t,n,i){i=i||window,t.call(n||this,i.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,n,i){var o=this;i=i||window,i.alert(o._decode(o.editor.getLang(e,e))),t&&t.call(n||o)},resizeBy:function(e,t,n){n.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function n(e){return!!t.schema.getTextBlocks()[e.toLowerCase()]}function i(e,t){return F.getParents(e,t,F.getRoot())}function o(e){return 1===e.nodeType&&"_mce_caret"===e.id}function s(){l({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){R(n,function(t,n){F.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),R("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){l(e,{block:e,remove:"all"})}),l(t.settings.formats)}function a(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)t.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function r(e){return e?L[e]:L}function l(e,t){e&&("string"!=typeof e?R(e,function(e,t){l(t,e)}):(t=t.length?t:[t],R(t,function(e){e.deep===P&&(e.deep=!e.selector),e.split===P&&(e.split=!e.selector||e.inline),e.remove===P&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),L[e]=t))}function c(i,s,a){function l(e,t){t=t||b,e&&(t.onformat&&t.onformat(e,t,s,a),R(t.styles,function(t,n){F.setStyle(e,n,w(t,s))}),R(t.attributes,function(t,n){F.setAttrib(e,n,w(t,s))}),R(t.classes,function(t){t=w(t,s),F.hasClass(e,t)||F.addClass(e,t)}))}function d(){function e(e,t){var n=new H(t);for(a=n.current();a;a=n.prev())if(a.childNodes.length>1||a==e||"BR"==a.tagName)return a}var n=t.selection.getRng(),i=n.startContainer,o=n.endContainer;if(i!=o&&0===n.endOffset){var s=e(i,o),r=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,r)}return n}function u(t,n,i,o,s){var a,r,l=[],c=-1,d=-1,u=-1;return R(t.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(c=t,a=e,!1):void 0}),R(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==F.getAttrib(e,"data-mce-type")&&(e.id==n.id+"_start"?d=t:e.id==n.id+"_end"&&(u=t))}),0>=c||c>d&&u>c?(R(e.grep(t.childNodes),s),0):(r=F.clone(i,q),R(e.grep(t.childNodes),function(e,t){(c>d&&c>t||d>c&&t>c)&&(l.push(e),e.parentNode.removeChild(e))}),c>d?t.insertBefore(r,a):d>c&&t.insertBefore(r,a.nextSibling),o.push(r),R(l,function(e){r.appendChild(e)}),r)}function f(t,a,r){var c,d,f=[],p=!0;c=b.inline||b.block,d=F.create(c),l(d),B.walk(t,function(t){function m(t){var w,_,x,S,T;return T=p,w=t.nodeName.toLowerCase(),_=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&G(t)&&(T=p,p="true"===G(t),S=!0),y(w,"br")?(v=0,b.block&&F.remove(t),void 0):b.wrapper&&h(t,i,s)?(v=0,void 0):p&&!S&&b.block&&!b.wrapper&&n(w)?(t=F.rename(t,c),l(t),f.push(t),v=0,void 0):b.selector&&(R(g,function(e){"collapsed"in e&&e.collapsed!==C||F.is(t,e.selector)&&!o(t)&&(l(t,e),x=!0)}),!b.inline||x)?(v=0,void 0):(p&&!S&&$(c,w)&&$(_,c)&&(r||3!==t.nodeType||1!==t.nodeValue.length||65279!==t.nodeValue.charCodeAt(0))&&!o(t)?(v||(v=F.clone(d,q),t.parentNode.insertBefore(v,t),f.push(v)),v.appendChild(t)):"li"==w&&a?v=u(t,a,d,f,m):(v=0,R(e.grep(t.childNodes),m),S&&(p=T),v=0),void 0)}var v;R(t,m)}),b.wrap_links===!1&&R(f,function(t){function n(t){var i,o,s;if("A"===t.nodeName){for(o=F.clone(d,q),f.push(o),s=e.grep(t.childNodes),i=0;s.length>i;i++)o.appendChild(s[i]);t.appendChild(o)}R(e.grep(t.childNodes),n)}n(t)}),R(f,function(e){function t(e){var t=0;return R(e.childNodes,function(e){_(e)||D(e)||t++}),t}function n(e){var t,n;return R(e.childNodes,function(e){return 1!=e.nodeType||D(e)||o(e)?void 0:(t=e,q)}),t&&v(t,b)&&(n=F.clone(t,q),l(n),F.replace(n,e,Y),F.remove(t,1)),n||e}var a;if(a=t(e),(f.length>1||!z(e))&&0===a)return F.remove(e,1),void 0;if(b.inline||b.wrapper){if(b.exact||1!==a||(e=n(e)),R(g,function(t){R(F.select(t.inline,e),function(e){var n;if(t.wrap_links===!1){n=e.parentNode;do if("A"===n.nodeName)return;while(n=n.parentNode)}S(t,s,e,t.exact?e:null)})}),h(e.parentNode,i,s))return F.remove(e,1),e=0,Y;b.merge_with_parents&&F.getParent(e.parentNode,function(t){return h(t,i,s)?(F.remove(e,1),e=0,Y):void 0}),e&&b.merge_siblings!==!1&&(e=N(k(e),e),e=N(e,k(e,Y)))}})}var p,m,g=r(i),b=g[0],C=O.isCollapsed();if(b)if(a)a.nodeType?(m=F.createRng(),m.setStartBefore(a),m.setEndAfter(a),f(x(m,g),null,!0)):f(a,null,!0);else if(C&&b.inline&&!F.select("td.mceSelected,th.mceSelected").length)A("apply",i,s);else{var T=t.selection.getNode();j||!g[0].defaultBlock||F.getParent(T,F.isBlock)||c(g[0].defaultBlock),t.selection.setRng(d()),p=O.getBookmark(),f(x(O.getRng(Y),g),p),b.styles&&(b.styles.color||b.styles.textDecoration)&&(e.walk(T,J,"childNodes"),J(T)),O.moveToBookmark(p),M(O.getRng(Y)),t.nodeChanged()}}function d(n,o,s){function a(t){var n,i,s,r,l;if(3!==t.nodeType){if(1===t.nodeType&&G(t)&&(r=b,b="true"===G(t),l=!0),n=e.grep(t.childNodes),b&&!l)for(i=0,s=v.length;s>i&&!S(v[i],o,t,t);i++);if(y.deep&&n.length){for(i=0,s=n.length;s>i;i++)a(n[i]);l&&(b=r)}}}function l(e){var t;return R(i(e.parentNode).reverse(),function(e){var i;t||"_start"==e.id||"_end"==e.id||(i=h(e,n,o),i&&i.split!==!1&&(t=e))}),t}function c(e,t,n,i){var s,a,r,l,c,d;if(e){for(d=e.parentNode,s=t.parentNode;s&&s!=d;s=s.parentNode){for(a=F.clone(s,q),c=0;v.length>c;c++)if(S(v[c],o,a,a)){a=0;break}a&&(r&&a.appendChild(r),l||(l=a),r=a)}!i||y.mixed&&z(e)||(t=F.split(e,t)),r&&(n.parentNode.insertBefore(r,n),l.appendChild(n))}return t}function d(e){return c(l(e),e,e,!0)}function u(e){var t=F.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return D(n)&&(n=n[e?"firstChild":"lastChild"]),F.remove(t,!0),n}function p(e){var n,i;e=x(e,v,Y),y.split&&(n=E(e,Y),i=E(e),n!=i?(/^(TR|TD)$/.test(n.nodeName)&&n.firstChild&&(n=("TD"==n.nodeName?n.firstChild:n.firstChild.firstChild)||n),n=C(n,"span",{id:"_start","data-mce-type":"bookmark"}),i=C(i,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(i),n=u(Y),i=u()):n=i=d(n),e.startContainer=n.parentNode,e.startOffset=W(n),e.endContainer=i.parentNode,e.endOffset=W(i)+1),B.walk(e,function(e){R(e,function(e){a(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===X(e.parentNode)&&S({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var m,g,v=r(n),y=v[0],b=!0;return s?(s.nodeType?(g=F.createRng(),g.setStartBefore(s),g.setEndAfter(s),p(g)):p(s),void 0):(O.isCollapsed()&&y.inline&&!F.select("td.mceSelected,th.mceSelected").length?A("remove",n,o):(m=O.getBookmark(),p(O.getRng(Y)),O.moveToBookmark(m),y.inline&&f(n,o,O.getStart())&&M(O.getRng(!0)),t.nodeChanged()),void 0)}function u(e,t,n){var i=r(e);!f(e,t,n)||"toggle"in i[0]&&!i[0].toggle?c(e,t,n):d(e,t,n)}function h(e,t,n,i){function o(e,t,o){var s,a,r,l=t[o];if(t.onmatch)return t.onmatch(e,t,o);if(l)if(l.length===P){for(s in l)if(l.hasOwnProperty(s)){if(a="attributes"===o?F.getAttrib(e,s):b(e,s),i&&!a&&!t.exact)return;if((!i||t.exact)&&!y(a,w(l[s],n)))return}}else for(r=0;l.length>r;r++)if("attributes"===o?F.getAttrib(e,l[r]):b(e,l[r]))return t;return t}var s,a,l,c=r(t);if(c&&e)for(a=0;c.length>a;a++)if(s=c[a],v(e,s)&&o(e,s,"attributes")&&o(e,s,"styles")){if(l=s.classes)for(a=0;l.length>a;a++)if(!F.hasClass(e,l[a]))return;return s}}function f(e,t,n){function i(n){return n=F.getParent(n,function(n){return!!h(n,e,t,!0)}),h(n,e,t)}var o;return n?i(n):(n=O.getNode(),i(n)?Y:(o=O.getStart(),o!=n&&i(o)?Y:q))}function p(e,t){var n,i=[],o={};return n=O.getStart(),F.getParent(n,function(n){var s,a;for(s=0;e.length>s;s++)a=e[s],!o[a]&&h(n,a,t)&&(o[a]=!0,i.push(a))},F.getRoot()),i}function m(e){var t,n,o,s,a,l=r(e);if(l)for(t=O.getStart(),n=i(t),s=l.length-1;s>=0;s--){if(a=l[s].selector,!a)return Y;for(o=n.length-1;o>=0;o--)if(F.is(n[o],a))return Y}return q}function g(e,n,o){var s;return I||(I={},s={},t.onNodeChange.addToTop(function(e,t,n){var o=i(n),a={};R(I,function(e,t){R(o,function(n){return h(n,t,{},e.similar)?(s[t]||(R(e,function(e){e(!0,{node:n,format:t,parents:o})}),s[t]=e),a[t]=e,!1):void 0})}),R(s,function(e,t){a[t]||(delete s[t],R(e,function(e){e(!1,{node:n,format:t,parents:o})}))})})),R(e.split(","),function(e){I[e]||(I[e]=[],I[e].similar=o),I[e].push(n)}),this}function v(e,t){return y(e,t.inline)?Y:y(e,t.block)?Y:t.selector?F.is(e,t.selector):void 0}function y(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function b(e,t){var n=F.getStyle(e,t);return("color"==t||"backgroundColor"==t)&&(n=F.toHex(n)),"fontWeight"==t&&700==n&&(n="bold"),""+n}function w(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function _(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function C(e,t,n){var i=F.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function x(e,o,s){function a(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,i,s,a,r;if(n=i=e?m:v,a=e?"previousSibling":"nextSibling",r=F.getRoot(),3==n.nodeType&&!_(n)&&(e?g>0:n.nodeValue.length>b))return n;for(;;){if(!o[0].block_expand&&z(i))return i;for(s=i[a];s;s=s[a])if(!D(s)&&!_(s)&&!t(s))return i;if(i.parentNode==r){n=i;break}i=i.parentNode}return n}function r(e,t){for(t===P&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function l(e){for(var t=e;t;){if(1===t.nodeType&&G(t))return"false"===G(t)?t:e;t=t.parentNode}return e}function c(e,n,i){function o(e,t){var n,o,a=e.nodeValue;return"undefined"==typeof t&&(t=i?a.length:0),i?(n=a.lastIndexOf(" ",t),o=a.lastIndexOf(" ",t),n=n>o?n:o,-1===n||s||n++):(n=a.indexOf(" ",t),o=a.indexOf(" ",t),n=-1!==n&&(-1===o||o>n)?n:o),n}var a,r,l,c;if(3===e.nodeType){if(l=o(e,n),-1!==l)return{container:e,offset:l};c=e}for(a=new H(e,F.getParent(e,z)||t.getBody());r=a[i?"prev":"next"]();)if(3===r.nodeType){if(c=r,l=o(r),-1!==l)return{container:r,offset:l}}else if(z(r))break;return c?(n=i?0:c.length,{container:c,offset:n}):void 0}function d(t,n){var s,a,r,l;for(3==t.nodeType&&0===t.nodeValue.length&&t[n]&&(t=t[n]),s=i(t),a=0;s.length>a;a++)for(r=0;o.length>r;r++)if(l=o[r],!("collapsed"in l&&l.collapsed!==e.collapsed)&&F.is(s[a],l.selector))return s[a];return t}function u(e,t){var s;if(o[0].wrapper||(s=F.getParent(e,o[0].block)),s||(s=F.getParent(3==e.nodeType?e.parentNode:e,n)),s&&o[0].wrapper&&(s=i(s,"ul,ol").reverse()[0]||s),!s)for(s=e;s[t]&&!z(s[t])&&(s=s[t],!y(s,"br")););return s||e}var h,f,p,m=e.startContainer,g=e.startOffset,v=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(h=m.childNodes.length-1,m=m.childNodes[g>h?h:g],3==m.nodeType&&(g=0)),1==v.nodeType&&v.hasChildNodes()&&(h=v.childNodes.length-1,v=v.childNodes[b>h?h:b-1],3==v.nodeType&&(b=v.nodeValue.length)),m=l(m),v=l(v),(D(m.parentNode)||D(m))&&(m=D(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(g=0)),(D(v.parentNode)||D(v))&&(v=D(v)?v:v.parentNode,v=v.previousSibling||v,3==v.nodeType&&(b=v.length)),o[0].inline&&(e.collapsed&&(p=c(m,g,!0),p&&(m=p.container,g=p.offset),p=c(v,b),p&&(v=p.container,b=p.offset)),f=r(v,b),f.node)){for(;f.node&&0===f.offset&&f.node.previousSibling;)f=r(f.node.previousSibling);f.node&&f.offset>0&&3===f.node.nodeType&&" "===f.node.nodeValue.charAt(f.offset-1)&&f.offset>1&&(v=f.node,v.splitText(f.offset-1))}return(o[0].inline||o[0].block_expand)&&(o[0].inline&&3==m.nodeType&&0!==g||(m=a(!0)),o[0].inline&&3==v.nodeType&&b!==v.nodeValue.length||(v=a())),o[0].selector&&o[0].expand!==q&&!o[0].inline&&(m=d(m,"previousSibling"),v=d(v,"nextSibling")),(o[0].block||o[0].selector)&&(m=u(m,"previousSibling"),v=u(v,"nextSibling"),o[0].block&&(z(m)||(m=a(!0)),z(v)||(v=a()))),1==m.nodeType&&(g=W(m),m=m.parentNode),1==v.nodeType&&(b=W(v)+1,v=v.parentNode),{startContainer:m,startOffset:g,endContainer:v,endOffset:b}}function S(e,t,n,i){var o,s,a;if(!v(n,e))return q;if("all"!=e.remove)for(R(e.styles,function(e,o){e=w(e,t),"number"==typeof o&&(o=e,i=0),(!i||y(b(i,o),e))&&F.setStyle(n,o,""),a=1}),a&&""==F.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),R(e.attributes,function(e,o){var s;if(e=w(e,t),"number"==typeof o&&(o=e,i=0),!i||y(F.getAttrib(i,o),e)){if("class"==o&&(e=F.getAttrib(n,o),e&&(s="",R(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(s+=(s?" ":"")+e)}),s)))return F.setAttrib(n,o,s),void 0;"class"==o&&n.removeAttribute("className"),V.test(o)&&n.removeAttribute("data-mce-"+o),n.removeAttribute(o)}}),R(e.classes,function(e){e=w(e,t),(!i||F.hasClass(i,e))&&F.removeClass(n,e)}),s=F.getAttribs(n),o=0;s.length>o;o++)if(0!==s[o].nodeName.indexOf("_"))return q;return"none"!=e.remove?(T(n,e),Y):void 0}function T(t,n){function i(e,t,n){return e=k(e,t,n),!e||"BR"==e.nodeName||z(e)}var o,s=t.parentNode;n.block&&(j?s==F.getRoot()&&(n.list_block&&y(t,n.list_block)||R(e.grep(t.childNodes),function(e){$(j,e.nodeName.toLowerCase())?o?o.appendChild(e):o=C(e,j):o=0})):z(t)&&!z(s)&&(i(t,q)||i(t.firstChild,Y,1)||t.insertBefore(F.create("br"),t.firstChild),i(t,Y)||i(t.lastChild,q,1)||t.appendChild(F.create("br")))),n.selector&&n.inline&&!y(n.inline,t)||F.remove(t,1)}function k(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!_(e))return e}function D(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function N(t,n){function i(e,t){function n(e){var t={};return R(F.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(t[i]=F.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===P)return q;if(e[i]!=n)return q;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return q;return Y}return e.nodeName!=t.nodeName?q:i(n(e),n(t))?i(F.parseStyle(F.getAttrib(e,"style")),F.parseStyle(F.getAttrib(t,"style")))?Y:q:q}function o(e,t){for(s=e;s;s=s[t]){if(3==s.nodeType&&0!==s.nodeValue.length)return e;if(1==s.nodeType&&!D(s))return s}return e}var s,a;if(t&&n&&(t=o(t,"previousSibling"),n=o(n,"nextSibling"),i(t,n))){for(s=t.nextSibling;s&&s!=n;)a=s,s=s.nextSibling,t.appendChild(a);return F.remove(n),R(e.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function n(e){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(e)}function E(e,n){var i,o,s;return i=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],1==i.nodeType&&(s=i.childNodes.length-1,!n&&o&&o--,i=i.childNodes[o>s?s:o]),3===i.nodeType&&n&&o>=i.nodeValue.length&&(i=new H(i,t.getBody()).next()||i),3!==i.nodeType||n||0!==o||(i=new H(i,t.getBody()).prev()||i),i}function A(n,i,o){function s(e){var n=F.create("span",{id:v,"data-mce-bogus":!0,style:y?"color:red":""});return e&&n.appendChild(t.getDoc().createTextNode(U)),n}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==U||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===v)return e;e=e.parentNode}}function u(e){var t;if(e)for(t=new H(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function f(e,t){var n,i;if(e)i=O.getRng(!0),a(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),F.remove(e)):(n=u(e),n.nodeValue.charAt(0)===U&&(n=n.deleteData(0,1)),F.remove(e,1)),O.setRng(i);else if(e=l(O.getStart()),!e)for(;e=F.get(v);)f(e,!1)}function p(){var e,t,n,a,d,h,f;e=O.getRng(!0),a=e.startOffset,h=e.startContainer,f=h.nodeValue,t=l(O.getStart()),t&&(n=u(t)),f&&a>0&&f.length>a&&/\w/.test(f.charAt(a))&&/\w/.test(f.charAt(a-1))?(d=O.getBookmark(),e.collapse(!0),e=x(e,r(i)),e=B.split(e),c(i,o,e),O.moveToBookmark(d)):(t&&n.nodeValue===U?c(i,o,t):(t=s(!0),n=t.firstChild,e.insertNode(t),a=1,c(i,o,t)),O.setCursorLocation(n,a))}function m(){var e,t,n,a,l,c,u,f,p=O.getRng(!0),m=[];for(e=p.startContainer,t=p.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===U)&&(a=!0),l=l.parentNode);l;){if(h(l,i,o)){c=l;break}l.nextSibling&&(a=!0),m.push(l),l=l.parentNode}if(c)if(a)n=O.getBookmark(),p.collapse(!0),p=x(p,r(i),!0),p=B.split(p),d(i,o,p),O.moveToBookmark(n);else{for(f=s(),l=f,u=m.length-1;u>=0;u--)l.appendChild(F.clone(m[u],!1)),l=l.firstChild;l.appendChild(F.doc.createTextNode(U)),l=l.firstChild,F.insertAfter(f,c),O.setCursorLocation(l,1)}}function g(){var t;t=l(O.getStart()),t&&!F.isEmpty(t)&&e.walk(t,function(e){1!=e.nodeType||e.id===v||F.isEmpty(e)||F.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",y=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(a(l(O.getStart()),t))for(e=t.length;e--;)F.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){f(),g()})}),t.onKeyDown.addToTop(function(e,t){var n=t.keyCode;(8==n||37==n||39==n)&&f(l(O.getStart())),g()}),O.onSetContent.add(g),self._hasCaretEvents=!0),"apply"==n?p():m()}function M(e){var t,n,i,o,s,a=e.startContainer,r=e.startOffset;if(3==a.nodeType&&r>=a.nodeValue.length&&(r=W(a),a=a.parentNode,t=!0),1==a.nodeType)for(o=a.childNodes,a=o[Math.min(r,o.length-1)],n=new H(a,F.getParent(a,F.isBlock)),(r>o.length-1||t)&&n.next(),i=n.current();i;i=n.next())if(3==i.nodeType&&!_(i))return s=F.create("a",null,U),i.parentNode.insertBefore(s,i),e.setStart(i,0),O.setRng(e),F.remove(s),void 0}var I,P,L={},R=e.each,F=t.dom,O=t.selection,H=e.dom.TreeWalker,B=new e.dom.RangeUtils(F),$=t.schema.isValidChild,z=(e.isArray,F.isBlock),j=t.settings.forced_root_block,W=F.nodeIndex,U="﻿",V=/^(src|href|style)$/,q=!1,Y=!0,G=F.getContentEditable,X=function(e){var n;return t.dom.getParent(e,function(e){return n=t.dom.getStyle(e,"text-decoration"),n&&"none"!==n}),n},J=function(e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=X(e.parentNode),t.dom.getStyle(e,"color")&&n?t.dom.setStyle(e,"text-decoration",n):t.dom.getStyle(e,"textdecoration")===n&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:r,register:l,apply:c,remove:d,toggle:u,match:f,matchAll:p,matchNode:h,canApply:m,formatChanged:g}),s(),a()}}(tinymce),tinymce.onAddEditor.add(function(e,t){function n(t,n){e.each(n,function(e,n){e&&a.setStyle(t,n,e)}),a.rename(t,"span")}function i(n,i){a=n.dom,r.convert_fonts_to_spans&&e.each(a.select("font,u,strike",i.node),function(e){o[e.nodeName.toLowerCase()](t.dom,e)})}var o,s,a,r=t.settings;r.inline_styles&&(s=e.explode(r.font_size_legacy_values),o={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:s[parseInt(t.size,10)-1]})},u:function(e,t){n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},t.onPreProcess.add(i),t.onSetContent.add(i),t.onInit.add(function(){t.selection.onSetContent.add(i)}))}),function(e){var t=e.dom.TreeWalker;e.EnterKey=function(n){function i(i){function c(e){return e&&o.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==o.getContentEditable(e)}function d(t){var n;e.isIE&&o.isBlock(t)&&(n=s.getRng(),t.appendChild(o.create("span",null," ")),s.select(t),t.lastChild.outerHTML="",s.setRng(n))}function u(e){for(var t,n=e,i=[];n=n.firstChild;){if(o.isBlock(n))return;1!=n.nodeType||l[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?o.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&o.remove(n)}function h(e){var i,a,r,c,d,u,h=e;if(r=o.createRng(),e.hasChildNodes()){for(i=new t(e,e);a=i.current();){if(3==a.nodeType){r.setStart(a,0),r.setEnd(a,0);break}if(l[a.nodeName.toLowerCase()]){r.setStartBefore(a),r.setEndBefore(a);break}h=a,a=i.next()}a||(r.setStart(h,0),r.setEnd(h,0))}else"BR"==e.nodeName?e.nextSibling&&o.isBlock(e.nextSibling)?((!D||9>D)&&(u=o.create("br"),e.parentNode.insertBefore(u,e)),r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));s.setRng(r),o.remove(u),d=o.getViewPort(n.getWin()),c=o.getPos(e).y,(d.y>c||c+25>d.y+d.h)&&n.getWin().scrollTo(0,d.y>c?c:c-d.h+25)}function f(t){var n,i,s,r=S;if(n=t||"TABLE"==I?o.create(t||L):k.cloneNode(!1),s=n,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(r.nodeName)){if("_mce_caret"==r.id)continue;
i=r.cloneNode(!1),o.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(s=i,n.appendChild(i))}while(r=r.parentNode);return e.isIE||(s.innerHTML='<br data-mce-bogus="1">'),n}function p(e){var n,i,o;if(3==S.nodeType&&(e?T>0:S.nodeValue.length>T))return!1;if(S.parentNode==k&&R&&!e)return!0;if(e&&1==S.nodeType&&S==k.firstChild)return!0;if("TABLE"===S.nodeName||S.previousSibling&&"TABLE"==S.previousSibling.nodeName)return R&&!e||!R&&e;for(n=new t(S,k),3==S.nodeType&&(e&&0==T?n.prev():e||T!=S.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(o=i.nodeName.toLowerCase(),l[o]&&"br"!==o))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function m(e,t){var n,i,s,a,r,l=L||"P";if(i=o.getParent(e,o.isBlock),!i||!c(i)){if(i=i||x,!i.hasChildNodes())return n=o.create(l),i.appendChild(n),F.setStart(n,0),F.setEnd(n,0),n;for(a=e;a.parentNode!=i;)a=a.parentNode;for(;a&&!o.isBlock(a);)s=a,a=a.previousSibling;if(s){for(n=o.create(l),s.parentNode.insertBefore(n,s),a=s;a&&!o.isBlock(a);)r=a.nextSibling,n.appendChild(a),a=r;F.setStart(e,t),F.setEnd(e,t)}}return e}function g(){function e(e){for(var t=M[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===k}E=L?f(L):o.create("BR"),e(!0)&&e()?o.replace(E,M):e(!0)?M.parentNode.insertBefore(E,M):e()?(o.insertAfter(E,M),d(E)):(C=F.cloneRange(),C.setStartAfter(k),C.setEndAfter(M),A=C.extractContents(),o.insertAfter(A,M),o.insertAfter(E,M)),o.remove(k),h(E),r.add()}function v(){for(var e,n=new t(S,k);e=n.current();){if("BR"==e.nodeName)return!0;e=n.next()}}function y(){var t,n,i;S&&3==S.nodeType&&T>=S.nodeValue.length&&(e.isIE||v()||(t=o.create("br"),F.insertNode(t),F.setStartAfter(t),F.setEndAfter(t),n=!0)),t=o.create("br"),F.insertNode(t),e.isIE&&"PRE"==I&&(!D||8>D)&&t.parentNode.insertBefore(o.doc.createTextNode("\r"),t),i=o.create("span",{},"&nbsp;"),t.parentNode.insertBefore(i,t),s.scrollIntoView(i),o.remove(i),n?(F.setStartBefore(t),F.setEndBefore(t)):(F.setStartAfter(t),F.setEndAfter(t)),s.setRng(F),r.add()}function b(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function w(e){var t,n,i=o.getRoot();for(t=e;t!==i&&"false"!==o.getContentEditable(t);)"true"===o.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function _(t){var n;e.isIE||(t.normalize(),n=t.lastChild,(!n||/^(left|right)$/gi.test(o.getStyle(n,"float",!0)))&&o.add(t,"br"))}var C,x,S,T,k,D,N,E,A,M,I,P,L,R,F=s.getRng(!0);if(!F.collapsed)return n.execCommand("Delete"),void 0;if(!i.isDefaultPrevented()&&(S=F.startContainer,T=F.startOffset,L=(a.force_p_newlines?"p":"")||a.forced_root_block,L=L?L.toUpperCase():"",D=o.doc.documentMode,N=i.shiftKey,1==S.nodeType&&S.hasChildNodes()&&(R=T>S.childNodes.length-1,S=S.childNodes[Math.min(T,S.childNodes.length-1)]||S,T=R&&3==S.nodeType?S.nodeValue.length:0),x=w(S))){if(r.beforeChange(),!o.isBlock(x)&&x!=o.getRoot())return(!L||N)&&y(),void 0;if((L&&!N||!L&&N)&&(S=m(S,T)),k=o.getParent(S,o.isBlock),M=k?o.getParent(k.parentNode,o.isBlock):null,I=k?k.nodeName.toUpperCase():"",P=M?M.nodeName.toUpperCase():"","LI"!=P||i.ctrlKey||(k=M,I=P),"LI"==I){if(!L&&N)return y(),void 0;if(o.isEmpty(k))return/^(UL|OL|LI)$/.test(M.parentNode.nodeName)?!1:(g(),void 0)}if("PRE"==I&&a.br_in_pre!==!1){if(!N)return y(),void 0}else if(!L&&!N&&"LI"!=I||L&&N)return y(),void 0;L=L||"P",p()?(E=/^(H[1-6]|PRE)$/.test(I)&&"HGROUP"!=P?f(L):f(),a.end_container_on_empty_block&&c(M)&&o.isEmpty(k)?E=o.split(M,k):o.insertAfter(E,k),h(E)):p(!0)?(E=k.parentNode.insertBefore(f(),k),d(E)):(C=F.cloneRange(),C.setEndAfter(k),A=C.extractContents(),b(A),E=A.firstChild,o.insertAfter(A,k),u(E),_(k),h(E)),o.setAttrib(E,"id",""),r.add()}}var o=n.dom,s=n.selection,a=n.settings,r=n.undoManager,l=n.schema.getNonEmptyElements();n.onKeyDown.add(function(e,t){13==t.keyCode&&i(t)!==!1&&t.preventDefault()})}}(tinymce),function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){for(var e=0,t=arguments,n=t.length,i={};n>e;e++)i[t[e++]]=t[e];return i}function n(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function o(e){return"object"==typeof e}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e}function r(e){return ct.log(e)/ct.LN10}function l(e){return ct.pow(10,e)}function c(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function d(e){return e!==z&&null!==e}function u(e,t,n){var s,a;if(i(t))d(n)?e.setAttribute(t,n):e&&e.getAttribute&&(a=e.getAttribute(t));else if(d(t)&&o(t))for(s in t)e.setAttribute(s,t[s]);return a}function h(e){return s(e)?e:[e]}function f(){var e,t,n=arguments,i=n.length;for(e=0;i>e;e++)if(t=n[e],"undefined"!=typeof t&&null!==t)return t}function p(t,n){Ct&&n&&n.opacity!==z&&(n.filter="alpha(opacity="+100*n.opacity+")"),e(t.style,n)}function m(t,n,i,o,s){return t=rt.createElement(t),n&&e(t,n),s&&p(t,{padding:0,border:Ot,margin:0}),i&&p(t,i),o&&o.appendChild(t),t}function g(t,n){var i=function(){};return i.prototype=new t,e(i.prototype,n),i}function v(e,t,i,o){var s=U.lang,a=e;-1===t?(t=(e||0).toString(),e=t.indexOf(".")>-1?t.split(".")[1].length:0):e=isNaN(t=mt(t))?2:t;var t=e,i=void 0===i?s.decimalPoint:i,o=void 0===o?s.thousandsSep:o,s=0>a?"-":"",e=String(n(a=mt(+a||0).toFixed(t))),r=e.length>3?e.length%3:0;return s+(r?e.substr(0,r)+o:"")+e.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+o)+(t?i+mt(a-e).toFixed(t).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n,i){var o,n=f(n,1);for(o=e/n,t||(t=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n]))),i=0;t.length>i&&(e=t[i],!((t[i]+(t[i+1]||t[i]))/2>=o));i++);return e*=n}function w(e,t){var n,i=t||[[Bt,[1,2,5,10,20,25,50,100,200,500]],[$t,[1,2,5,10,15,30]],[zt,[1,2,5,10,15,30]],[jt,[1,2,3,4,6,8,12]],[Wt,[1,2]],[Ut,[1,2]],[Vt,[1,2,3,4,6]],[qt,null]],o=i[i.length-1],s=G[o[0]],a=o[1];for(n=0;i.length>n&&(o=i[n],s=G[o[0]],a=o[1],!(i[n+1]&&(s*a[a.length-1]+G[i[n+1][0]])/2>=e));n++);return s===G[qt]&&5*s>e&&(a=[1,2,5]),s===G[qt]&&5*s>e&&(a=[1,2,5]),i=b(e/s,a),{unitRange:s,count:i,unitName:o[0]}}function _(t,n,i,o){var s,a=[],r={},l=U.global.useUTC,c=new Date(n),u=t.unitRange,h=t.count;if(d(n)){u>=G[$t]&&(c.setMilliseconds(0),c.setSeconds(u>=G[zt]?0:h*ut(c.getSeconds()/h))),u>=G[zt]&&c[nt](u>=G[jt]?0:h*ut(c[J]()/h)),u>=G[jt]&&c[it](u>=G[Wt]?0:h*ut(c[K]()/h)),u>=G[Wt]&&c[ot](u>=G[Vt]?1:h*ut(c[Z]()/h)),u>=G[Vt]&&(c[st](u>=G[qt]?0:h*ut(c[et]()/h)),s=c[tt]()),u>=G[qt]&&(s-=s%h,c[at](s)),u===G[Ut]&&c[ot](c[Z]()-c[Q]()+f(o,1)),n=1,s=c[tt]();for(var o=c.getTime(),p=c[et](),m=c[Z](),c=l?0:(864e5+6e4*c.getTimezoneOffset())%864e5;i>o;)a.push(o),u===G[qt]?o=X(s+n*h,0):u===G[Vt]?o=X(s,p+n*h):l||u!==G[Wt]&&u!==G[Ut]?(o+=u*h,G[jt]>=u&&o%G[Wt]===c&&(r[o]=Wt)):o=X(s,p,m+n*h*(u===G[Wt]?1:7)),n++;a.push(o)}return a.info=e(t,{higherRanks:r,totalRange:u*h}),a}function C(){this.symbol=this.color=0}function x(e,t){var n,i,o=e.length;for(i=0;o>i;i++)e[i].ss_i=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.ss_i-i.ss_i:n}),i=0;o>i;i++)delete e[i].ss_i}function S(e){for(var t=e.length,n=e[0];t--;)n>e[t]&&(n=e[t]);return n}function T(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function k(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function D(e){W||(W=m(Ft)),e&&W.appendChild(e),W.innerHTML=""}function N(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;lt.console&&console.log(n)}function E(e){return parseFloat(e.toPrecision(14))}function A(e,t){q=f(e,t.animation)}function M(){var e=U.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";X=e?Date.UTC:function(e,t,n,i,o,s){return new Date(e,t,f(n,1),f(i,0),f(o,0),f(s,0)).getTime()},J=t+"Minutes",K=t+"Hours",Q=t+"Day",Z=t+"Date",et=t+"Month",tt=t+"FullYear",nt=n+"Minutes",it=n+"Hours",ot=n+"Date",st=n+"Month",at=n+"FullYear"}function I(){}function P(e,t,n){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,n||this.addLabel()}function L(e,t){return this.axis=e,t&&(this.options=t,this.id=t.id),this}function R(e,t,n,i,o,s){var a=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.stack=o,this.percent="percent"===s,this.alignOptions={align:t.align||(a?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(a?"middle":n?"bottom":"top"),y:f(t.y,a?4:n?14:-6),x:f(t.x,a?n?-6:6:0)},this.textAlign=t.textAlign||(a?n?"right":"left":"center")}function F(){this.init.apply(this,arguments)}function O(e,t){var i=t.borderWidth,o=t.style,s=n(o.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(o).css({padding:0}).hide().add(),At||this.label.shadow(t.shadow),this.shared=t.shared}function H(e,t){var n=At?"":t.chart.zoomType;this.zoomX=/x/.test(n),this.zoomY=/y/.test(n),this.options=t,this.chart=e,this.init(e,t.tooltip)}function B(e){this.init(e)}function $(){this.init.apply(this,arguments)}var z,j,W,U,V,q,Y,G,X,J,K,Q,Z,et,tt,nt,it,ot,st,at,rt=document,lt=window,ct=Math,dt=ct.round,ut=ct.floor,ht=ct.ceil,ft=ct.max,pt=ct.min,mt=ct.abs,gt=ct.cos,vt=ct.sin,yt=ct.PI,bt=2*yt/360,wt=navigator.userAgent,_t=lt.opera,Ct=/msie/i.test(wt)&&!_t,xt=8===rt.documentMode,St=/AppleWebKit/.test(wt),Tt=/Firefox/.test(wt),kt=/(Mobile|Android|Windows Phone)/.test(wt),Dt="http://www.w3.org/2000/svg",Nt=!!rt.createElementNS&&!!rt.createElementNS(Dt,"svg").createSVGRect,Et=Tt&&4>parseInt(wt.split("Firefox/")[1],10),At=!Nt&&!Ct&&!!rt.createElement("canvas").getContext,Mt=rt.documentElement.ontouchstart!==z,It={},Pt=0,Lt=function(){},Rt=[],Ft="div",Ot="none",Ht="rgba(192,192,192,"+(Nt?1e-4:.002)+")",Bt="millisecond",$t="second",zt="minute",jt="hour",Wt="day",Ut="week",Vt="month",qt="year",Yt="stroke-width",Gt={};lt.Highcharts={},V=function(e,t,n){if(!d(t)||isNaN(t))return"Invalid date";var i,e=f(e,"%Y-%m-%d %H:%M:%S"),o=new Date(t),s=o[K](),a=o[Q](),r=o[Z](),l=o[et](),c=o[tt](),u=U.lang,h=u.weekdays,t={a:h[a].substr(0,3),A:h[a],d:y(r),e:r,b:u.shortMonths[l],B:u.months[l],m:y(l+1),y:c.toString().substr(2,2),Y:c,H:y(s),I:y(s%12||12),l:s%12||12,M:y(o[J]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:y(o.getSeconds()),L:y(dt(t%1e3),3)};for(i in t)for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,t[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},C.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},G=t(Bt,1,$t,1e3,zt,6e4,jt,36e5,Wt,864e5,Ut,6048e5,Vt,26784e5,qt,31556952e3),Y={init:function(e,t,n){var i,o,s,t=t||"",a=e.shift,r=t.indexOf("C")>-1,l=r?7:3,t=t.split(" "),n=[].concat(n),c=function(e){for(i=e.length;i--;)"M"===e[i]&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])};if(r&&(c(t),c(n)),e.isArea&&(o=t.splice(t.length-6,6),s=n.splice(n.length-6,6)),n.length/l>=a)for(;a--;)n=[].concat(n).splice(0,l).concat(n);if(e.shift=0,t.length)for(e=n.length;e>t.length;)a=[].concat(t).splice(t.length-l,l),r&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return o&&(t=t.concat(o),n=n.concat(s)),[t,n]},step:function(e,t,n,i){var o=[],s=e.length;if(1===n)o=i;else if(s===t.length&&1>n)for(;s--;)i=parseFloat(e[s]),o[s]=isNaN(i)?e[s]:n*parseFloat(t[s]-i)+i;else o=t;return o}},function(t){lt.HighchartsAdapter=lt.HighchartsAdapter||t&&{init:function(e){var n,i=t.fx,o=i.step,s=t.Tween,a=s&&s.propHooks;t.extend(t.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}}),t.each(["cur","_default","width","height"],function(e,t){var n,r,l=o;"cur"===t?l=i.prototype:"_default"===t&&s&&(l=a[t],t="set"),(n=l[t])&&(l[t]=function(i){return i=e?i:this,r=i.elem,r.attr?r.attr(i.prop,"cur"===t?z:i.now):n.apply(this,arguments)})}),n=function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))},s?a.d={set:n}:o.d=n,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(t.call(e[n],e[n],n,e)===!1)return n}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],i=0,o=e.length;o>i;i++)n[i]=t.call(e[i],e[i],i,e);return n},merge:function(){var e=arguments;return t.extend(!0,null,e[0],e[1],e[2],e[3])},offset:function(e){return t(e).offset()},addEvent:function(e,n,i){t(e).bind(n,i)},removeEvent:function(e,n,i){var o=rt.removeEventListener?"removeEventListener":"detachEvent";rt[o]&&!e[o]&&(e[o]=function(){}),t(e).unbind(n,i)},fireEvent:function(n,i,o,s){var a,r=t.Event(i),l="detached"+i;!Ct&&o&&(delete o.layerX,delete o.layerY),e(r,o),n[i]&&(n[l]=n[i],n[i]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=r[t];r[t]=function(){try{n.call(r)}catch(e){"preventDefault"===t&&(a=!0)}}}),t(n).trigger(r),n[l]&&(n[i]=n[l],n[l]=null),s&&!r.isDefaultPrevented()&&!a&&s(r)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===z&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,i){var o=t(e);n.d&&(e.toD=n.d,n.d=1),o.stop(),o.animate(n,i)},stop:function(e){t(e).stop()}}}(lt.jQuery);var Xt=lt.HighchartsAdapter,Jt=Xt||{};Xt&&Xt.init.call(Xt,Y);var Kt=Jt.adapterRun,Qt=Jt.getScript,Zt=Jt.inArray,en=Jt.each,tn=Jt.grep,nn=Jt.offset,on=Jt.map,sn=Jt.merge,an=Jt.addEvent,rn=Jt.removeEvent,ln=Jt.fireEvent,cn=Jt.washMouseEvent,dn=Jt.animate,un=Jt.stop,Jt={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};U={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:sn(Jt,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:At,snap:kt?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var hn=U.plotOptions,Xt=hn.line;M();var fn=function(e){var t,i=[];return function(e){(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?i=[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))&&(i=[n(t[1],16),n(t[2],16),n(t[3],16),1])}(e),{get:function(t){return i&&!isNaN(i[0])?"rgb"===t?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===t?i[3]:"rgba("+i.join(",")+")":e},brighten:function(e){if(a(e)&&0!==e){var t;for(t=0;3>t;t++)i[t]+=n(255*e),0>i[t]&&(i[t]=0),i[t]>255&&(i[t]=255)}return this},setOpacity:function(e){return i[3]=e,this}}};I.prototype={init:function(e,t){this.element="span"===t?m(t):rt.createElementNS(Dt,t),this.renderer=e,this.attrSetters={}},animate:function(e,t,n){t=f(t,q,!0),un(this),t?(t=sn(t),n&&(t.complete=n),dn(this,e,t)):(this.attr(e),n&&n())},attr:function(e,t){var o,s,a,r,l,c,h,f=this.element,p=f.nodeName.toLowerCase(),m=this.renderer,g=this.attrSetters,v=this.shadows,y=this;if(i(e)&&d(t)&&(o=e,e={},e[o]=t),i(e))o=e,"circle"===p?o={x:"cx",y:"cy"}[o]||o:"strokeWidth"===o&&(o="stroke-width"),y=u(f,o)||this[o]||0,"d"!==o&&"visibility"!==o&&(y=parseFloat(y));else for(o in e)if(l=!1,s=e[o],a=g[o]&&g[o].call(this,s,o),a!==!1){if(a!==z&&(s=a),"d"===o)s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if("x"===o&&"text"===p){for(a=0;f.childNodes.length>a;a++)r=f.childNodes[a],u(r,"x")===u(f,"x")&&u(r,"x",s);this.rotation&&u(f,"transform","rotate("+this.rotation+" "+s+" "+n(e.y||u(f,"y"))+")")}else if("fill"===o)s=m.color(s,f,o);else if("circle"!==p||"x"!==o&&"y"!==o)if("rect"===p&&"r"===o)u(f,{rx:s,ry:s}),l=!0;else if("translateX"===o||"translateY"===o||"rotation"===o||"verticalAlign"===o)l=h=!0;else if("stroke"===o)s=m.color(s,f,o);else if("dashstyle"===o){if(o="stroke-dasharray",s=s&&s.toLowerCase(),"solid"===s)s=Ot;else if(s){for(s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=s.length;a--;)s[a]=n(s[a])*e["stroke-width"];s=s.join(",")}}else"isTracker"===o?this[o]=s:"width"===o?s=n(s):"align"===o?(o="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):"title"===o&&(a=f.getElementsByTagName("title")[0],a||(a=rt.createElementNS(Dt,"title"),f.appendChild(a)),a.textContent=s);else o={x:"cx",y:"cy"}[o]||o;if("strokeWidth"===o&&(o="stroke-width"),"stroke-width"===o&&0===s&&(St||m.forExport)&&(s=1e-6),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(o)&&(c||(this.symbolAttr(e),c=!0),l=!0),v&&/^(width|height|visibility|x|y|d|transform)$/.test(o))for(a=v.length;a--;)u(v[a],o,"height"===o?ft(s-(v[a].cutHeight||0),0):s);("width"===o||"height"===o)&&"rect"===p&&0>s&&(s=0),this[o]=s,h&&this.updateTransform(),"text"===o?(s!==this.textStr&&delete this.bBox,this.textStr=s,this.added&&m.buildText(this)):l||u(f,o,s)}return y},symbolAttr:function(e){var t=this;en("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=f(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ot)},crisp:function(e,t,n,i,o){var s,a,r={},l={},e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=dt(e)%2/2,l.x=ut(t||this.x||0)+a,l.y=ut(n||this.y||0)+a,l.width=ut((i||this.width||0)-2*a),l.height=ut((o||this.height||0)-2*a),l.strokeWidth=e;for(s in l)this[s]!==l[s]&&(this[s]=r[s]=l[s]);return r},css:function(t){var n,i=this.element,i=t&&t.width&&"text"===i.nodeName.toLowerCase(),o="",s=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),At&&i&&delete t.width,Ct&&!Nt)i&&delete t.width,p(this.element,t);else{for(n in t)o+=n.replace(/([A-Z])/g,s)+":"+t[n]+";";this.attr({style:o})}return i&&this.added&&this.renderer.buildText(this),this},on:function(e,t){return Mt&&"click"===e&&(this.element.ontouchstart=function(e){e.preventDefault(),t()}),this.element["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(t){var n=this.element;return(n=t&&"SPAN"===n.tagName&&t.width)&&(delete t.width,this.textWidth=n,this.updateTransform()),this.styles=e(this.styles,t),p(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||("text"===e.nodeName&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,o=this.translateY||0,s=this.x||0,a=this.y||0,r=this.textAlign||"left",l={left:0,center:.5,right:1}[r],c=r&&"left"!==r,u=this.shadows;if((i||o)&&(p(t,{marginLeft:i,marginTop:o}),u&&en(u,function(e){p(e,{marginLeft:i+1,marginTop:o+1})})),this.inverted&&en(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var h,m,g,v,u=this.rotation,y=0,b=1,y=0;g=n(this.textWidth);var w=this.xCorr||0,_=this.yCorr||0,C=[u,r,t.innerHTML,this.textWidth].join(",");h={},C!==this.cTT&&(d(u)&&(e.isSVG?(w=Ct?"-ms-transform":St?"-webkit-transform":Tt?"MozTransform":_t?"-o-transform":"",h[w]=h.transform="rotate("+u+"deg)"):(y=u*bt,b=gt(y),y=vt(y),h.filter=u?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-y,", M21=",y,", M22=",b,", sizingMethod='auto expand')"].join(""):Ot),p(t,h)),h=f(this.elemWidth,t.offsetWidth),m=f(this.elemHeight,t.offsetHeight),h>g&&/[ \-]/.test(t.textContent||t.innerText)&&(p(t,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g),g=e.fontMetrics(t.style.fontSize).b,w=0>b&&-h,_=0>y&&-m,v=0>b*y,w+=y*g*(v?1-l:l),_-=b*g*(u?v?l:1-l:1),c&&(w-=h*l*(0>b?-1:1),u&&(_-=m*l*(0>y?-1:1)),p(t,{textAlign:r})),this.xCorr=w,this.yCorr=_),p(t,{left:s+w+"px",top:a+_+"px"}),St&&(m=t.offsetHeight),this.cTT=C}}else this.alignOnAdd=!0},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.inverted,i=this.rotation,o=[];n&&(e+=this.attr("width"),t+=this.attr("height")),(e||t)&&o.push("translate("+e+","+t+")"),n?o.push("rotate(90) scale(-1,1)"):i&&o.push("rotate("+i+" "+(this.x||0)+" "+(this.y||0)+")"),o.length&&u(this.element,"transform",o.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){e?(this.alignOptions=e,this.alignByTranslate=t,n||this.renderer.alignedObjects.push(this)):(e=this.alignOptions,t=this.alignByTranslate);var n=f(n,this.renderer),i=e.align,o=e.verticalAlign,s=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0),r={};return("right"===i||"center"===i)&&(s+=(n.width-(e.width||0))/{right:1,center:2}[i]),r[t?"translateX":"x"]=dt(s),("bottom"===o||"middle"===o)&&(a+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),r[t?"translateY":"y"]=dt(a),this[this.placed?"animate":"attr"](r),this.placed=!0,this.alignAttr=r,this},getBBox:function(){var t,n=this.bBox,i=this.renderer,o=this.rotation;t=this.element;var s=this.styles,a=o*bt;if(!n){if(t.namespaceURI===Dt||i.forExport){try{n=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(r){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();i.isSVG&&(i=n.width,t=n.height,Ct&&s&&"11px"===s.fontSize&&22.700000762939453===t&&(n.height=t=14),o&&(n.width=mt(t*vt(a))+mt(i*gt(a)),n.height=mt(t*gt(a))+mt(i*vt(a)))),this.bBox=n}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(e){var t,i=this.renderer,o=e||i,s=o.element||i.box,a=s.childNodes,r=this.element,l=u(r,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),l&&(o.handleZ=!0,l=n(l)),o.handleZ)for(o=0;a.length>o;o++)if(e=a[o],i=u(e,"zIndex"),e!==r&&(n(i)>l||!d(l)&&d(i))){s.insertBefore(r,e),t=!0;break}return t||s.appendChild(r),this.added=!0,ln(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},o=n.shadows;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,un(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;n.stops.length>t;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}n.safeRemoveChild(i),o&&en(o,function(e){n.safeRemoveChild(e)}),c(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},empty:function(){for(var e=this.element,t=e.childNodes,n=t.length;n--;)e.removeChild(t[n])},shadow:function(e,t,n){var i,o,s,a,r,l,c=[],d=this.element;if(e){for(a=f(e.width,3),r=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+f(e.offsetX,1)+", "+f(e.offsetY,1)+")",i=1;a>=i;i++)o=d.cloneNode(0),s=2*a+1-2*i,u(o,{isShadow:"true",stroke:e.color||"black","stroke-opacity":r*i,"stroke-width":s,transform:"translate"+l,fill:Ot}),n&&(u(o,"height",ft(u(o,"height")-s,0)),o.cutHeight=s),t?t.element.appendChild(o):d.parentNode.insertBefore(o,d),c.push(o);this.shadows=c}return this}};var pn=function(){this.init.apply(this,arguments)};pn.prototype={Element:I,init:function(e,t,n,i){var o,s=location;o=this.createElement("svg").attr({xmlns:Dt,version:"1.1"}),e.appendChild(o.element),this.isSVG=!0,this.box=o.element,this.boxWrapper=o,this.alignedObjects=[],this.url=(Tt||St)&&rt.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.setSize(t,n,!1);var a;Tt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){p(e,{left:0,top:0}),a=e.getBoundingClientRect(),p(e,{left:ht(a.left)-a.left+"px",top:ht(a.top)-a.top+"px"})},t(),an(lt,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&rn(lt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t,i=e.element,o=f(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=i.childNodes,a=/style="([^"]+)"/,r=/href="([^"]+)"/,l=u(i,"x"),c=e.styles,d=c&&c.width&&n(c.width),h=c&&c.lineHeight,c=s.length,m=[];c--;)i.removeChild(s[c]);d&&!e.added&&this.box.appendChild(i),""===o[o.length-1]&&o.pop(),en(o,function(o,s){var c,f,g=0,o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=o.split("|||"),en(c,function(o){if(""!==o||1===c.length){var v,y={},b=rt.createElementNS(Dt,"tspan");if(a.test(o)&&(v=o.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(b,"style",v)),r.test(o)&&(u(b,"onclick",'location.href="'+o.match(r)[1]+'"'),p(b,{cursor:"pointer"})),o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),b.appendChild(rt.createTextNode(o)),g?y.dx=3:y.x=l,!g){if(s){if(!Nt&&e.renderer.forExport&&p(b,{display:"block"}),f=lt.getComputedStyle&&n(lt.getComputedStyle(t,null).getPropertyValue("line-height")),!f||isNaN(f)){var w;(w=h)||(w=t.offsetHeight)||(m[s]=i.getBBox?i.getBBox().height:e.renderer.fontMetrics(i.style.fontSize).h,w=dt(m[s]-(m[s-1]||0))||18),f=w}u(b,"dy",f)}t=b}if(u(b,y),i.appendChild(b),g++,d)for(var o=o.replace(/([^\^])-/g,"$1- ").split(" "),_=[];o.length||_.length;)delete e.bBox,w=e.getBBox().width,y=w>d,y&&1!==o.length?(b.removeChild(b.firstChild),_.unshift(o.pop())):(o=_,_=[],o.length&&(b=rt.createElementNS(Dt,"tspan"),u(b,{dy:h||16,x:l}),v&&u(b,"style",v),i.appendChild(b),w>d&&(d=w))),o.length&&b.appendChild(rt.createTextNode(o.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,o,s,a,r,l){var c,d,u,h,f,p=this.label(n,i,o),m=0,n={x1:0,y1:0,x2:0,y2:1},a=sn(t(Yt,1,"stroke","#999","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",t("color","black")),a);return u=a.style,delete a.style,r=sn(a,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),r),h=r.style,delete r.style,l=sn(a,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),l),f=l.style,delete l.style,an(p.element,"mouseenter",function(){p.attr(r).css(h)}),an(p.element,"mouseleave",function(){c=[a,r,l][m],d=[u,h,f][m],p.attr(c).css(d)}),p.setState=function(e){(m=e)?2===e&&p.attr(l).css(f):p.attr(a).css(u)},p.on("click",function(){s.call(p)}).attr(a).css(e({cursor:"default"},u))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=dt(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=dt(e[2])+t%2/2),e},path:function(t){var n={fill:Ot};return s(t)?n.d=t:o(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=o(e)?e:{x:e,y:t,r:n},this.createElement("circle").attr(e)},arc:function(e,t,n,i,s,a){return o(e)&&(t=e.y,n=e.r,i=e.innerR,s=e.start,a=e.end,e=e.x),this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:s||0,end:a||0})},rect:function(e,t,n,i,s,a){return s=o(e)?e.r:s,s=this.createElement("rect").attr({rx:s,ry:s,fill:Ot}),s.attr(o(e)?e:s.crisp(a,e,t,ft(n,0),ft(i,0)))},setSize:function(e,t,n){var i=this.alignedObjects,o=i.length;for(this.width=e,this.height=t,this.boxWrapper[f(n,!0)?"animate":"attr"]({width:e,height:t});o--;)i[o].align()},g:function(e){var t=this.createElement("g");return d(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,i,o,s){var a={preserveAspectRatio:Ot};return arguments.length>1&&e(a,{x:n,y:i,width:o,height:s}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):a.element.setAttribute("hc-svg-href",t),a},symbol:function(t,n,i,o,s,a){var r,l,c,d=this.symbols[t],d=d&&d(dt(n),dt(i),o,s,a),u=/^url\((.*?)\)$/;return d?(r=this.path(d),e(r,{symbolName:t,x:n,y:i,width:o,height:s}),a&&e(r,a)):u.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(dt((o-t[0])/2),dt((s-t[1])/2)))},l=t.match(u)[1],t=It[l],r=this.image(l).attr({x:n,y:i}),t?c(r,t):(r.attr({width:0,height:0}),m("img",{onload:function(){c(r,It[l]=[this.width,this.height])},src:l}))),r},symbols:{circle:function(e,t,n,i){var o=.166*n;return["M",e+n/2,t,"C",e+n+o,t,e+n+o,t+i,e+n/2,t+i,"C",e-o,t+i,e-o,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,o){var s=o.start,n=o.r||n||i,a=o.end-1e-6,i=o.innerR,r=o.open,l=gt(s),c=vt(s),d=gt(a),a=vt(a),o=yt>o.end-s?0:1;return["M",e+n*l,t+n*c,"A",n,n,0,o,1,e+n*d,t+n*a,r?"M":"L",e+i*d,t+i*a,"A",i,i,0,o,0,e+i*l,t+i*c,r?"":"Z"]}},clipRect:function(e,t,n,i){var o="highcharts-"+Pt++,s=this.createElement("clipPath").attr({id:o}).add(this.defs),e=this.rect(e,t,n,i,0).add(s);return e.id=o,e.clipPath=s,e},color:function(t,n,i){var o,a,r,l,c,h,f,p,m=this,g=/^rgba/,v=[];if(t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient"),a){i=t[a],r=m.gradients,c=t.stops,n=n.radialReference,s(i)&&(t[a]=i={x1:i[0],y1:i[1],x2:i[2],y2:i[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&n&&!d(i.gradientUnits)&&e(i,{cx:n[0]-n[2]/2+i.cx*n[2],cy:n[1]-n[2]/2+i.cy*n[2],r:i.r*n[2],gradientUnits:"userSpaceOnUse"});for(p in i)"id"!==p&&v.push(p,i[p]);for(p in c)v.push(c[p]);return v=v.join(","),r[v]?t=r[v].id:(i.id=t="highcharts-"+Pt++,r[v]=l=m.createElement(a).attr(i).add(m.defs),l.stops=[],en(c,function(e){g.test(e[1])?(o=fn(e[1]),h=o.get("rgb"),f=o.get("a")):(h=e[1],f=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":f}).add(l),l.stops.push(e)
})),"url("+m.url+"#"+t+")"}return g.test(t)?(o=fn(t),u(n,i+"-opacity",o.get("a")),o.get("rgb")):(n.removeAttribute(i+"-opacity"),t)},text:function(e,t,n,i){var o=U.chart.style,s=At||!Nt&&this.forExport;return i&&!this.forExport?this.html(e,t,n):(t=dt(f(t,0)),n=dt(f(n,0)),e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),s&&e.css({position:"absolute"}),e.x=t,e.y=n,e)},html:function(t,n,i){var o=U.chart.style,s=this.createElement("span"),a=s.attrSetters,r=s.element,l=s.renderer;return a.text=function(e){return e!==r.innerHTML&&delete this.bBox,r.innerHTML=e,!1},a.x=a.y=a.align=function(e,t){return"align"===t&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:t,x:dt(n),y:dt(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:o.fontFamily,fontSize:o.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(t){var n,i=l.box.parentNode,o=[];if(t){if(n=t.div,!n){for(;t;)o.push(t),t=t.parentGroup;en(o.reverse(),function(t){var o;n=t.div=t.div||m(Ft,{className:u(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||i),o=n.style,e(t.attrSetters,{translateX:function(e){o.left=e+"px"},translateY:function(e){o.top=e+"px"},visibility:function(e,t){o[t]=e}})})}}else n=i;return n.appendChild(r),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){var e=n(e||11),e=24>e?e+4:dt(1.2*e),t=dt(.8*e);return{h:e,b:t}},label:function(t,n,i,o,s,a,r,l,c){function u(){var e;e=T.element.style,g=(void 0===v||void 0===y||S.styles.textAlign)&&T.getBBox(),S.width=(v||g.width||0)+2*D,S.height=(y||g.height||0)+2*D,_=D+x.fontMetrics(e&&e.fontSize).b,C&&(m||(e=l?-_:0,S.box=m=o?x.symbol(o,-k*D,e,S.width,S.height):x.rect(-k*D,e,S.width,S.height,0,E[Yt]),m.add(S)),m.attr(sn({width:S.width,height:S.height},E)),E=null)}function h(){var e,t=S.styles,t=t&&t.textAlign,n=D*(1-k);e=l?0:_,!d(v)||"center"!==t&&"right"!==t||(n+={center:.5,right:1}[t]*(v-g.width)),(n!==T.x||e!==T.y)&&T.attr({x:n,y:e}),T.x=n,T.y=e}function f(e,t){m?m.attr(e,t):E[e]=t}function p(){T.add(S),S.attr({text:t,x:n,y:i}),m&&d(s)&&S.attr({anchorX:s,anchorY:a})}var m,g,v,y,b,w,_,C,x=this,S=x.g(c),T=x.text("",0,0,r).attr({zIndex:1}),k=0,D=3,N=0,E={},r=S.attrSetters;an(S,"add",p),r.width=function(e){return v=e,!1},r.height=function(e){return y=e,!1},r.padding=function(e){return d(e)&&e!==D&&(D=e,h()),!1},r.align=function(e){return k={left:0,center:.5,right:1}[e],!1},r.text=function(e,t){return T.attr(t,e),u(),h(),!1},r[Yt]=function(e,t){return C=!0,N=e%2/2,f(t,e),!1},r.stroke=r.fill=r.r=function(e,t){return"fill"===t&&(C=!0),f(t,e),!1},r.anchorX=function(e,t){return s=e,f(t,e+N-b),!1},r.anchorY=function(e,t){return a=e,f(t,e-w),!1},r.x=function(e){return S.x=e,e-=k*((v||g.width)+D),b=dt(e),S.attr("translateX",b),!1},r.y=function(e){return w=S.y=dt(e),S.attr("translateY",e),!1};var A=S.css;return e(S,{css:function(e){if(e){var t={},e=sn({},e);en("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(n){e[n]!==z&&(t[n]=e[n],delete e[n])}),T.css(t)}return A.call(S,e)},getBBox:function(){return{width:g.width+2*D,height:g.height+2*D,x:g.x-D,y:g.y-D}},shadow:function(e){return m&&m.shadow(e),S},destroy:function(){rn(S,"add",p),rn(S.element,"mouseenter"),rn(S.element,"mouseleave"),T&&(T=T.destroy()),m&&(m=m.destroy()),I.prototype.destroy.call(S),S=x=u=h=f=p=null}})}},j=pn;var mn;if(!Nt&&!At){mn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"];("shape"===t||t===Ft)&&i.push("left:0;top:0;width:1px;height:1px;"),xt&&i.push("visibility: ",t===Ft?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=t===Ft||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=m(n)),this.renderer=e,this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),ln(this,"add"),this},updateTransform:I.prototype.htmlUpdateTransform,attr:function(e,t){var n,o,s,r,l,c=this.element||{},h=c.style,f=c.nodeName,p=this.renderer,g=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(i(e)&&d(t)&&(n=e,e={},e[n]=t),i(e))n=e,b="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in e)if(o=e[n],l=!1,s=y[n]&&y[n].call(this,o,n),s!==!1&&null!==o){if(s!==z&&(o=s),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))r||(this.symbolAttr(e),r=!0),l=!0;else if("d"===n){for(o=o||[],this.d=o.join(" "),s=o.length,l=[];s--;)l[s]=a(o[s])?dt(10*o[s])-5:"Z"===o[s]?"x":o[s];if(o=l.join(" ")||"x",c.path=o,v)for(s=v.length;s--;)v[s].path=v[s].cutOff?this.cutOffPath(o,v[s].cutOff):o;l=!0}else if("visibility"===n){if(v)for(s=v.length;s--;)v[s].style[n]=o;"DIV"===f&&(o="hidden"===o?"-999em":0,n="top"),h[n]=o,l=!0}else"zIndex"===n?(o&&(h[n]=o),l=!0):"width"===n||"height"===n?(o=ft(0,o),this[n]=o,this.updateClipping?(this[n]=o,this.updateClipping()):h[n]=o,l=!0):"x"===n||"y"===n?(this[n]=o,h[{x:"left",y:"top"}[n]]=o):"class"===n?c.className=o:"stroke"===n?(o=p.color(o,c,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(c.stroked=o?!0:!1,n="strokeweight",this[n]=o,a(o)&&(o+="px")):"dashstyle"===n?((c.getElementsByTagName("stroke")[0]||m(p.prepVML(["<stroke/>"]),null,null,c))[n]=o||"solid",this.dashstyle=o,l=!0):"fill"===n?"SPAN"===f?h.color=o:"IMG"!==f&&(c.filled=o!==Ot?!0:!1,o=p.color(o,c,n,this),n="fillcolor"):"shape"===f&&"rotation"===n?(this[n]=o,c.style.left=-dt(vt(o*bt)+1)+"px",c.style.top=dt(gt(o*bt))+"px"):"translateX"===n||"translateY"===n||"rotation"===n?(this[n]=o,this.updateTransform(),l=!0):"text"===n&&(this.bBox=null,c.innerHTML=o,l=!0);l||(xt?c[n]=o:u(c,n,o))}return b},clip:function(e){var t,n=this,i=n.element,o=i.parentNode;return e?(t=e.members,c(t,n),t.push(n),n.destroyClip=function(){c(t,n)},o&&"highcharts-tracker"===o.className&&!xt&&p(i,{visibility:"hidden"}),e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:xt?"inherit":"rect(auto)"}),n.css(e)},css:I.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&D(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},empty:function(){for(var e,t=this.element.childNodes,n=t.length;n--;)e=t[n],e.parentNode.removeChild(e)},on:function(e,t){return this.element["on"+e]=function(){var e=lt.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var i,e=e.split(/[ ,]/);return i=e.length,(9===i||11===i)&&(e[i-4]=e[i-2]=n(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var o,s,a,r,l,c,d,u=[],h=this.element,p=this.renderer,g=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,e){for(c=f(e.width,3),d=(e.opacity||.15)/c,o=1;3>=o;o++)r=2*c+1-2*o,i&&(l=this.cutOffPath(v.value,r+.5)),a=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],s=m(p.prepVML(a),null,{left:n(g.left)+f(e.offsetX,1),top:n(g.top)+f(e.offsetY,1)}),i&&(s.cutOff=r+1),a=['<stroke color="',e.color||"black",'" opacity="',d*o,'"/>'],m(p.prepVML(a),null,null,s),t?t.element.appendChild(s):h.parentNode.insertBefore(s,h),u.push(s);this.shadows=u}return this}},mn=g(I,mn);var gn={Element:mn,isIE8:wt.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var i,o;this.alignedObjects=[],i=this.createElement(Ft),o=i.element,o.style.position="relative",e.appendChild(i.element),this.box=o,this.boxWrapper=i,this.setSize(t,n,!1),rt.namespaces.hcv||(rt.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),rt.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,i,s){var a=this.createElement(),r=o(t);return e(a,{members:[],left:r?t.x:t,top:r?t.y:n,width:r?t.width:i,height:r?t.height:s,getCSS:function(t){var n=t.inverted,i=this.top,o=this.left,s=o+this.width,a=i+this.height,i={clip:"rect("+dt(n?o:i)+"px,"+dt(n?a:s)+"px,"+dt(n?s:a)+"px,"+dt(n?i:o)+"px)"};return!n&&xt&&"IMG"!==t.element.nodeName&&e(i,{width:s+"px",height:a+"px"}),i},updateClipping:function(){en(a.members,function(e){e.css(a.getCSS(e))})}})},color:function(e,t,n,i){var o,s,a,r=this,l=/^rgba/,c=Ot;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var d,u,h,f,p,g,v,y,b=e.linearGradient||e.radialGradient,w="",e=e.stops,_=[],C=function(){s=['<fill colors="'+_.join(",")+'" opacity="',p,'" o:opacity2="',f,'" type="',a,'" ',w,'focus="100%" method="any" />'],m(r.prepVML(s),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),1>y[0]&&e.push([1,y[1]]),en(e,function(e,t){l.test(e[1])?(o=fn(e[1]),d=o.get("rgb"),u=o.get("a")):(d=e[1],u=1),_.push(100*e[0]+"% "+d),t?(p=u,g=d):(f=u,v=d)}),"fill"===n)if("gradient"===a)n=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,w='angle="'+(90-180*ct.atan((b-e)/(h-n))/yt)+'"',C();else{var x,c=b.r,S=2*c,T=2*c,k=b.cx,D=b.cy,N=t.radialReference,c=function(){N&&(x=i.getBBox(),k+=(N[0]-x.x)/x.width-.5,D+=(N[1]-x.y)/x.height-.5,S*=N[2]/x.width,T*=N[2]/x.height),w='src="'+U.global.VMLRadialGradientURL+'" size="'+S+","+T+'" origin="0.5,0.5" position="'+k+","+D+'" color2="'+v+'" ',C()};i.added?c():an(i,"add",c),c=g}else c=d}else l.test(e)&&"IMG"!==t.tagName?(o=fn(e),s=["<",n,' opacity="',o.get("a"),'"/>'],m(this.prepVML(s),null,null,t),c=o.get("rgb")):(c=t.getElementsByTagName(n),c.length&&(c[0].opacity=1),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:pn.prototype.html,path:function(t){var n={coordsize:"10 10"};return s(t)?n.d=t:o(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Ft).attr(t)},image:function(e,t,n,i,o){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:i,height:o}),s},rect:function(e,t,n,i,s,a){o(e)&&(t=e.y,n=e.width,i=e.height,a=e.strokeWidth,e=e.x);var r=this.symbol("rect");return r.r=s,r.attr(r.crisp(a,e,t,ft(n,0),ft(i,0)))},invertChild:function(e,t){var i=t.style;p(e,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,i,o){var s=o.start,a=o.end,r=o.r||n||i,n=gt(s),i=vt(s),l=gt(a),c=vt(a),d=o.innerR,u=.08/r,h=d&&.1/d||0;return 0===a-s?["x"]:(u>2*yt-a+s?l=-u:h>a-s&&(l=gt(s+h)),s=["wa",e-r,t-r,e+r,t+r,e+r*n,t+r*i,e+r*l,t+r*c],o.open&&!d&&s.push("e","M",e,t),s.push("at",e-d,t-d,e+d,t+d,e+d*l,t+d*c,e+d*n,t+d*i,"x","e"),s)},circle:function(e,t,n,i){return["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,o){var s,a=e+n,r=t+i;return d(o)&&o.r?(s=pt(o.r,n,i),a=["M",e+s,t,"L",a-s,t,"wa",a-2*s,t,a,t+2*s,a-s,t,a,t+s,"L",a,r-s,"wa",a-2*s,r-2*s,a,r,a,r-s,a-s,r,"L",e+s,r,"wa",e,r-2*s,e+2*s,r,e+s,r,e,r-s,"L",e,t+s,"wa",e,t,e+2*s,t+2*s,e,t+s,e+s,t,"x","e"]):a=pn.prototype.symbols.square.apply(0,arguments),a}}};mn=function(){this.init.apply(this,arguments)},mn.prototype=sn(pn.prototype,gn),j=mn}var vn,yn;At&&(vn=function(){Dt="http://www.w3.org/1999/xhtml"},vn.prototype.symbols={},yn=function(){function e(){var e,n=t.length;for(e=0;n>e;e++)t[e]();t=[]}var t=[];return{push:function(n,i){0===t.length&&Qt(i,e),t.push(n)}}}()),j=mn||vn||pn,P.prototype={addLabel:function(){var t,n=this.axis,i=n.options,o=n.chart,s=n.horiz,r=n.categories,c=this.pos,u=i.labels,h=n.tickPositions,s=r&&s&&r.length&&!u.step&&!u.staggerLines&&!u.rotation&&o.plotWidth/h.length||!s&&o.plotWidth/2,f=c===h[0],p=c===h[h.length-1],m=r&&d(r[c])?r[c]:c,r=this.label,h=h.info;n.isDatetimeAxis&&h&&(t=i.dateTimeLabelFormats[h.higherRanks[c]||h.unitName]),this.isFirst=f,this.isLast=p,i=n.labelFormatter.call({axis:n,chart:o,isFirst:f,isLast:p,dateTimeLabelFormat:t,value:n.isLog?E(l(m)):m}),c=s&&{width:ft(1,dt(s-2*(u.padding||10)))+"px"},c=e(c,u.style),d(r)?r&&r.attr({text:i}).css(c):(s={align:u.align},a(u.rotation)&&(s.rotation=u.rotation),this.label=d(i)&&u.enabled?o.renderer.text(i,0,0,u.useHTML).attr(s).css(c).add(n.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis.options.labels,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,i=this.axis,o=i.chart,s=this.isFirst,a=this.isLast,r=t.x,l=i.reversed,c=i.tickPositions;if(s||a){var d=this.getLabelSides(),u=d[0],d=d[1],o=o.plotLeft,h=o+i.len,c=(i=i.ticks[c[e+(s?1:-1)]])&&i.label.xy&&i.label.xy.x+i.getLabelSides()[s?0:1];s&&!l||a&&l?o>r+u&&(r=o-u,i&&r+d>c&&(n=!1)):r+d>h&&(r=h-d,i&&c>r+u&&(n=!1)),t.x=r}return n},getPosition:function(e,t,n,i){var o=this.axis,s=o.chart,a=i&&s.oldChartHeight||s.chartHeight;return{x:e?o.translate(t+n,null,null,i)+o.transB:o.left+o.offset+(o.opposite?(i&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:e?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(t+n,null,null,i)-o.transB}},getLabelPosition:function(e,t,i,o,s,a,r,l){var c=this.axis,u=c.transA,h=c.reversed,c=c.staggerLines,e=e+s.x-(a&&o?a*u*(h?-1:1):0),t=t+s.y-(a&&!o?a*u*(h?1:-1):0);return d(s.y)||(t+=.9*n(i.styles.lineHeight)-i.getBBox().height/2),c&&(t+=16*(r/(l||1)%c)),{x:e,y:t}},getMarkPath:function(e,t,n,i,o,s){return s.crispLine(["M",e,t,"L",e+(o?0:-n),t+(o?n:0)],i)},render:function(e,t){var n=this.axis,i=n.options,o=n.chart.renderer,s=n.horiz,a=this.type,r=this.label,l=this.pos,c=i.labels,d=this.gridLine,u=a?a+"Grid":"grid",h=a?a+"Tick":"tick",p=i[u+"LineWidth"],m=i[u+"LineColor"],g=i[u+"LineDashStyle"],v=i[h+"Length"],u=i[h+"Width"]||0,y=i[h+"Color"],b=i[h+"Position"],h=this.mark,w=c.step,_=!0,C=n.tickmarkOffset,x=this.getPosition(s,l,C,t),S=x.x,x=x.y,T=n.staggerLines;p&&(l=n.getPlotLinePath(l+C,p,t),d===z&&(d={stroke:m,"stroke-width":p},g&&(d.dashstyle=g),a||(d.zIndex=1),this.gridLine=d=p?o.path(l).attr(d).add(n.gridGroup):null),!t&&d&&l&&d[this.isNew?"attr":"animate"]({d:l})),u&&v&&("inside"===b&&(v=-v),n.opposite&&(v=-v),a=this.getMarkPath(S,x,v,u,s,o),h?h.animate({d:a}):this.mark=o.path(a).attr({stroke:y,"stroke-width":u}).add(n.axisGroup)),r&&!isNaN(S)&&(r.xy=x=this.getLabelPosition(S,x,r,s,c,C,e,w),this.isFirst&&!f(i.showFirstLabel,1)||this.isLast&&!f(i.showLastLabel,1)?_=!1:!T&&s&&"justify"===c.overflow&&!this.handleOverflow(e,x)&&(_=!1),w&&e%w&&(_=!1),_?(r[this.isNew?"attr":"animate"](x),this.isNew=!1):r.attr("y",-9999))},destroy:function(){k(this,this.axis)}},L.prototype={render:function(){var e,t=this,n=t.axis,i=n.horiz,o=(n.pointRange||0)/2,s=t.options,a=s.label,l=t.label,c=s.width,u=s.to,h=s.from,p=d(h)&&d(u),m=s.value,g=s.dashStyle,v=t.svgElem,y=[],b=s.color,w=s.zIndex,_=s.events,C=n.chart.renderer;if(n.isLog&&(h=r(h),u=r(u),m=r(m)),c)y=n.getPlotLinePath(m,c),o={stroke:b,"stroke-width":c},g&&(o.dashstyle=g);else{if(!p)return;h=ft(h,n.min-o),u=pt(u,n.max+o),y=n.getPlotBandPath(h,u,s),o={fill:b},s.borderWidth&&(o.stroke=s.borderColor,o["stroke-width"]=s.borderWidth)}if(d(w)&&(o.zIndex=w),v)y?v.animate({d:y},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()});else if(y&&y.length&&(t.svgElem=v=C.path(y).attr(o).add(),_))for(e in s=function(e){v.on(e,function(n){_[e].apply(t,[n])})},_)s(e);return a&&d(a.text)&&y&&y.length&&n.width>0&&n.height>0?(a=sn({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},a),l||(t.label=l=C.text(a.text,0,0).attr({align:a.textAlign||a.align,rotation:a.rotation,zIndex:w}).css(a.style).add()),n=[y[1],y[4],f(y[6],y[1])],y=[y[2],y[5],f(y[7],y[2])],i=S(n),p=S(y),l.align(a,!1,{x:i,y:p,width:T(n)-i,height:T(y)-p}),l.show()):l&&l.hide(),t},destroy:function(){c(this.axis.plotLinesAndBands,this),k(this,this.axis)}},R.prototype={destroy:function(){k(this,this.axis)},setTotal:function(e){this.cum=this.total=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,i=n.chart,o=i.inverted,s=this.isNegative,a=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=mt(a-n),r=i.xAxis[0].translate(this.x)+e,l=i.plotHeight,s={x:o?s?a:a-n:r,y:o?l-r-t:s?l-a-n:l-a,width:o?n:t,height:o?t:n};(o=this.label)&&(o.align(this.alignOptions,null,s),s=o.alignAttr,o.attr({visibility:this.options.crop===!1||i.isInsidePlot(s.x,s.y)?Nt?"inherit":"visible":"hidden"}))}},F.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Jt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Jt.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.xOrY=(this.isXAxis=n)?"x":"y",this.opposite=t.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(t);var i=this.options,o=i.type,s="datetime"===o;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.staggerLines=this.horiz&&i.labels.staggerLines,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=i.reversed,this.categories=i.categories,this.isLog="logarithmic"===o,this.isLinked=d(i.linkedTo),this.isDatetimeAxis=s,this.tickmarkOffset=i.categories&&"between"===i.tickmarkPlacement?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.min=this.max=null;var a,i=this.options.events;e.axes.push(this),e[n?"xAxis":"yAxis"].push(this),this.series=[],e.inverted&&n&&this.reversed===z&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine,this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(a in i)an(this,a,i[a]);this.isLog&&(this.val2lin=r,this.lin2val=l)},setOptions:function(e){this.options=sn(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],sn(U[this.isXAxis?"xAxis":"yAxis"],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=this.dateTimeLabelFormat,o=U.lang.numericSymbols,s=o&&o.length,a=t.isLog?n:t.tickInterval;if(t.categories)e=n;else if(i)e=V(i,n);else if(s&&a>=1e3)for(;s--&&e===z;)t=Math.pow(1e3,s+1),a>=t&&null!==o[s]&&(e=v(n/t,-1)+o[s]);return e===z&&(e=n>=1e3?v(n,0):v(n,-1)),e},getSeriesExtremes:function(){var e,t=this,n=t.chart,i=t.stacks,o=[],s=[];t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,en(t.series,function(a){if(a.visible||!n.options.chart.ignoreHiddenSeries){var r,l,c,u,h,p,m,g,v,y,b=a.options,w=b.threshold,_=[],C=0;if(t.hasVisibleSeries=!0,t.isLog&&0>=w&&(w=b.threshold=null),t.isXAxis)b=a.xData,b.length&&(t.dataMin=pt(f(t.dataMin,b[0]),S(b)),t.dataMax=ft(f(t.dataMax,b[0]),T(b)));else{var x,k,D,N=a.cropped,A=a.xAxis.getExtremes(),M=!!a.modifyValue;for(r=b.stacking,t.usePercentage="percent"===r,r&&(h=b.stack,u=a.type+f(h,""),p="-"+u,a.stackKey=u,l=o[u]||[],o[u]=l,c=s[p]||[],s[p]=c),t.usePercentage&&(t.dataMin=0,t.dataMax=99),b=a.processedXData,m=a.processedYData,y=m.length,e=0;y>e;e++)if(g=b[e],v=m[e],r&&(k=(x=w>v)?c:l,D=x?p:u,d(k[g])?(k[g]=E(k[g]+v),v=[v,k[g]]):k[g]=v,i[D]||(i[D]={}),i[D][g]||(i[D][g]=new R(t,t.options.stackLabels,x,g,h,r)),i[D][g].setTotal(k[g])),null!==v&&v!==z&&(M&&(v=a.modifyValue(v)),N||(b[e+1]||g)>=A.min&&(b[e-1]||g)<=A.max))if(g=v.length)for(;g--;)null!==v[g]&&(_[C++]=v[g]);else _[C++]=v;!t.usePercentage&&_.length&&(t.dataMin=pt(f(t.dataMin,_[0]),S(_)),t.dataMax=ft(f(t.dataMax,_[0]),T(_))),d(w)&&(t.dataMin>=w?(t.dataMin=w,t.ignoreMinPadding=!0):w>t.dataMax&&(t.dataMax=w,t.ignoreMaxPadding=!0))}}})},translate:function(e,t,n,i,o,s){var a=this.len,r=1,l=0,c=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,o=this.options.ordinal||this.isLog&&o;return c||(c=this.transA),n&&(r*=-1,l=a),this.reversed&&(r*=-1,l-=r*a),t?(this.reversed&&(e=a-e),e=e/c+i,o&&(e=this.lin2val(e))):(o&&(e=this.val2lin(e)),e=r*(e-i)*c+l+r*this.minPixelPadding+(s?c*this.pointRange/2:0)),e},getPlotLinePath:function(e,t,n){var i,o,s,a,r=this.chart,l=this.left,c=this.top,e=this.translate(e,null,null,n),d=n&&r.oldChartHeight||r.chartHeight,u=n&&r.oldChartWidth||r.chartWidth;return i=this.transB,n=o=dt(e+i),i=s=dt(d-e-i),isNaN(e)?a=!0:this.horiz?(i=c,s=d-this.bottom,(l>n||n>l+this.width)&&(a=!0)):(n=l,o=u-this.right,(c>i||i>c+this.height)&&(a=!0)),a?null:r.renderer.crispLine(["M",n,i,"L",o,s],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),i=this.getPlotLinePath(e);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},getLinearTickPositions:function(e,t,n){for(var i,t=E(ut(t/e)*e),n=E(ht(n/e)*e),o=[];n>=t&&(o.push(t),t=E(t+e),t!==i);)i=t;return o},getLogTickPositions:function(e,t,n,i){var o=this.options,s=this.len,a=[];if(i||(this._minorAutoInterval=null),e>=.5)e=dt(e),a=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var c,d,u,h,p,s=ut(t),o=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>s&&!p;s++)for(d=o.length,c=0;d>c&&!p;c++)u=r(l(s)*o[c]),u>t&&a.push(h),h>n&&(p=!0),h=u;else t=l(t),n=l(n),e=o[i?"minorTickInterval":"tickInterval"],e=f("auto"===e?null:e,this._minorAutoInterval,(n-t)*(o.tickPixelInterval/(i?5:1))/((i?s/this.tickPositions.length:s)||1)),e=b(e,null,ct.pow(10,ut(ct.log(e)/ct.LN10))),a=on(this.getLinearTickPositions(e,t,n),r),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),a},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,o=[];if(this.isLog)for(e=n.length,t=1;e>t;t++)o=o.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)o=o.concat(_(w(i),this.min,this.max,t.startOfWeek));else for(n=this.min+(n[0]-this.min)%i;this.max>=n;n+=i)o.push(n);return o},adjustForMinRange:function(){var e,t,n,i,o,s,a=this.options,r=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===z&&!this.isLog&&(d(a.min)||d(a.max)?this.minRange=null:(en(this.series,function(e){for(o=e.xData,n=s=e.xIncrement?1:o.length-1;n>0;n--)i=o[n]-o[n-1],(t===z||t>i)&&(t=i)}),this.minRange=pt(5*t,this.dataMax-this.dataMin))),this.minRange>l-r){var u=this.minRange;e=(u-l+r)/2,e=[r-e,f(a.min,r-e)],c&&(e[2]=this.dataMin),r=T(e),l=[r+u,f(a.max,r+u)],c&&(l[2]=this.dataMax),l=S(l),u>l-r&&(e[0]=l-u,e[1]=f(a.min,l-u),r=T(e))}this.min=r,this.max=l},setAxisTranslation:function(){var e,t=this.max-this.min,n=0,i=0,o=0,s=this.linkedParent,a=this.transA;this.isXAxis&&(s?(i=s.minPointOffset,o=s.pointRangePadding):en(this.series,function(t){var s=t.pointRange,a=t.options.pointPlacement,r=t.closestPointRange;n=ft(n,s),i=ft(i,a?0:s/2),o=ft(o,"on"===a?0:s),!t.noSharedTooltip&&d(r)&&(e=d(e)?pt(e,r):r)}),this.minPointOffset=i,this.pointRangePadding=o,this.pointRange=n,this.closestPointRange=e),this.oldTransA=a,this.translationSlope=this.transA=a=this.len/(t+o||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=a*i},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,o=t.isLog,s=t.isDatetimeAxis,a=t.isXAxis,l=t.isLinked,c=t.options.tickPositioner,u=i.maxPadding,h=i.minPadding,p=i.tickInterval,m=i.minTickInterval,g=i.tickPixelInterval,v=t.categories;l?(t.linkedParent=n[a?"xAxis":"yAxis"][i.linkedTo],n=t.linkedParent.getExtremes(),t.min=f(n.min,n.dataMin),t.max=f(n.max,n.dataMax),i.type!==t.linkedParent.options.type&&N(11,1)):(t.min=f(t.userMin,i.min,t.dataMin),t.max=f(t.userMax,i.max,t.dataMax)),o&&(!e&&0>=pt(t.min,f(t.dataMin,t.min))&&N(10,1),t.min=E(r(t.min)),t.max=E(r(t.max))),t.range&&(t.userMin=t.min=ft(t.min,t.max-t.range),t.userMax=t.max,e)&&(t.range=null),t.adjustForMinRange(),!v&&!t.usePercentage&&!l&&d(t.min)&&d(t.max)&&(n=t.max-t.min)&&(d(i.min)||d(t.userMin)||!h||!(0>t.dataMin)&&t.ignoreMinPadding||(t.min-=n*h),d(i.max)||d(t.userMax)||!u||!(t.dataMax>0)&&t.ignoreMaxPadding||(t.max+=n*u)),t.tickInterval=t.min===t.max||void 0===t.min||void 0===t.max?1:l&&!p&&g===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:f(p,v?1:(t.max-t.min)*g/(t.len||1)),a&&!e&&en(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(e),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),!p&&m>t.tickInterval&&(t.tickInterval=m),s||o||(e=ct.pow(10,ut(ct.log(t.tickInterval)/ct.LN10)),p)||(t.tickInterval=b(t.tickInterval,null,e,i)),t.minorTickInterval="auto"===i.minorTickInterval&&t.tickInterval?t.tickInterval/5:i.minorTickInterval,t.tickPositions=c=i.tickPositions||c&&c.apply(t,[t.min,t.max]),c||(c=s?(t.getNonLinearTimeTicks||_)(w(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):o?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=c),l||(o=c[0],s=c[c.length-1],l=t.minPointOffset||0,i.startOnTick?t.min=o:t.min-l>o&&c.shift(),i.endOnTick?t.max=s:s>t.max+l&&c.pop(),1===c.length&&(t.min-=1e-9,t.max+=1e-9))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,n=this.tickPositions,i=this.xOrY;t||(t={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&n.length>t[i]&&this.options.alignTicks!==!1&&(t[i]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this.xOrY,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var i=this.tickAmount,o=t.length;if(this.tickAmount=e=n[e],e>o){for(;e>t.length;)t.push(E(t[t.length-1]+this.tickInterval));this.transA*=(o-1)/(e-1),this.max=t[t.length-1]}d(i)&&e!==i&&(this.isDirty=!0)}},setScale:function(){var e,t,n,i,o=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,en(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(n=!0)}),(i||n||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)&&(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)),!this.isXAxis)for(e in o)for(t in o[e])o[e][t].cum=o[e][t].total;this.setMaxTicks()},setExtremes:function(t,n,i,o,s){var a=this,r=a.chart,i=f(i,!0),s=e(s,{min:t,max:n});ln(a,"setExtremes",s,function(){a.userMin=t,a.userMax=n,a.isDirtyExtremes=!0,i&&r.redraw(o)})},zoom:function(e,t){return this.setExtremes(e,t,!1,z,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,i=t.offsetRight||0;this.left=f(t.left,e.plotLeft+n),this.top=f(t.top,e.plotTop),this.width=f(t.width,e.plotWidth-n+i),this.height=f(t.height,e.plotHeight),this.bottom=e.chartHeight-this.height-this.top,this.right=e.chartWidth-this.width-this.left,this.len=ft(this.horiz?this.width:this.height,0)},getExtremes:function(){var e=this.isLog;return{min:e?E(l(this.min)):this.min,max:e?E(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?l(this.min):this.min,t=t?l(this.max):this.max;return n>e||null===e?e=n:e>t&&(e=t),this.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){return e=new L(this,e).render(),this.plotLinesAndBands.push(e),e},getOffset:function(){var e,t,n,i=this,o=i.chart,s=o.renderer,a=i.options,r=i.tickPositions,l=i.ticks,c=i.horiz,u=i.side,h=0,p=0,m=a.title,g=a.labels,v=0,y=o.axisOffset,b=[-1,1,1,-1][u];if(i.hasData=o=i.hasVisibleSeries||d(i.min)&&d(i.max)&&!!r,i.showAxis=e=o||f(a.showEmpty,!0),i.axisGroup||(i.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(),i.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(),i.labelGroup=s.g("axis-labels").attr({zIndex:g.zIndex||7}).add()),o||i.isLinked)en(r,function(e){l[e]?l[e].addLabel():l[e]=new P(i,e)}),en(r,function(e){(0===u||2===u||{1:"left",3:"right"}[u]===g.align)&&(v=ft(l[e].getLabelSize(),v))}),i.staggerLines&&(v+=16*(i.staggerLines-1));else for(n in l)l[n].destroy(),delete l[n];m&&m.text&&(i.axisTitle||(i.axisTitle=s.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).css(m.style).add(i.axisGroup),i.axisTitle.isNew=!0),e&&(h=i.axisTitle.getBBox()[c?"height":"width"],p=f(m.margin,c?5:10),t=m.offset),i.axisTitle[e?"show":"hide"]()),i.offset=b*f(a.offset,y[u]),i.axisTitleMargin=f(t,v+p+(2!==u&&v&&b*a.labels[c?"y":"x"])),y[u]=ft(y[u],i.axisTitleMargin+h+b*i.offset)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,o=this.horiz,s=this.left+(n?this.width:0)+i;return this.lineTop=n=t.chartHeight-this.bottom-(n?this.height:0)+i,t.renderer.crispLine(["M",o?this.left:s,o?n:this.top,"L",o?t.chartWidth-this.right:s,o?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,o=this.len,s=this.options.title,a=e?t:i,r=this.opposite,l=this.offset,c=n(s.style.fontSize||12),o={low:a+(e?0:o),middle:a+o/2,high:a+(e?o:0)}[s.align],t=(e?i+this.height:t)+(e?1:-1)*(r?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?o:t+(r?this.width:0)+l+(s.x||0),y:e?t-(r?this.height:0)+l:o+(s.y||0)}},render:function(){var e,t,n,i=this,o=i.chart,s=o.renderer,a=i.options,r=i.isLog,c=i.isLinked,u=i.tickPositions,h=i.axisTitle,f=i.stacks,p=i.ticks,m=i.minorTicks,g=i.alternateBands,v=a.stackLabels,y=a.alternateGridColor,b=i.tickmarkOffset,w=a.lineWidth,_=o.hasRendered&&d(i.oldMin)&&!isNaN(i.oldMin),C=i.showAxis;if((i.hasData||c)&&(i.minorTickInterval&&!i.categories&&en(i.getMinorTickPositions(),function(e){m[e]||(m[e]=new P(i,e,"minor")),_&&m[e].isNew&&m[e].render(null,!0),m[e].isActive=!0,m[e].render()}),u.length&&en(u.slice(1).concat([u[0]]),function(e,t){t=t===u.length-1?0:t+1,(!c||e>=i.min&&i.max>=e)&&(p[e]||(p[e]=new P(i,e)),_&&p[e].isNew&&p[e].render(t,!0),p[e].isActive=!0,p[e].render(t))}),y&&en(u,function(e,o){0===o%2&&i.max>e&&(g[e]||(g[e]=new L(i)),t=e+b,n=u[o+1]!==z?u[o+1]+b:i.max,g[e].options={from:r?l(t):t,to:r?l(n):n,color:y},g[e].render(),g[e].isActive=!0)}),i._addedPlotLB||(en((a.plotLines||[]).concat(a.plotBands||[]),function(e){i.addPlotBandOrLine(e)}),i._addedPlotLB=!0)),en([p,m,g],function(e){for(var t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])}),w&&(e=i.getLinePath(w),i.axisLine?i.axisLine.animate({d:e}):i.axisLine=s.path(e).attr({stroke:a.lineColor,"stroke-width":w,zIndex:7}).add(i.axisGroup),i.axisLine[C?"show":"hide"]()),h&&C&&(h[h.isNew?"attr":"animate"](i.getTitlePosition()),h.isNew=!1),v&&v.enabled){var x,S,a=i.stackTotalGroup;a||(i.stackTotalGroup=a=s.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(o.plotLeft,o.plotTop);for(x in f)for(S in o=f[x])o[S].render(a)}i.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=t.length;n--;)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){var n=this.chart,i=this.options,o=this.axisTitle;i.title=sn(i.title,e),this.axisTitle=o&&o.destroy(),this.isDirty=!0,f(t,!0)&&n.redraw()},redraw:function(){var e=this.chart;e.tracker.resetTracker&&e.tracker.resetTracker(!0),this.render(),en(this.plotLinesAndBands,function(e){e.render()
}),en(this.series,function(e){e.isDirty=!0})},setCategories:function(e,t){var n=this.chart;this.categories=this.userOptions.categories=e,en(this.series,function(e){e.translate(),e.setTooltipPoints(!0)}),this.isDirty=!0,f(t,!0)&&n.redraw()},destroy:function(){var e,t=this,n=t.stacks;rn(t);for(e in n)k(n[e]),n[e]=null;en([t.ticks,t.minorTicks,t.alternateBands,t.plotLinesAndBands],function(e){k(e)}),en("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(e){t[e]&&(t[e]=t[e].destroy())})}},O.prototype={destroy:function(){en(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(t,n,i,o){var s=this,a=s.now,r=s.options.animation!==!1&&!s.isHidden;e(a,{x:r?(2*a.x+t)/3:t,y:r?(a.y+n)/2:n,anchorX:r?(2*a.anchorX+i)/3:i,anchorY:r?(a.anchorY+o)/2:o}),s.label.attr(a),r&&(mt(t-a.x)>1||mt(n-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,i,o)},32))},hide:function(){if(!this.isHidden){var e=this.chart.hoverPoints;this.label.hide(),e&&en(e,function(e){e.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){en(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,i,o=this.chart,s=o.inverted,a=0,r=0,e=h(e);return n=e[0].tooltipPos,n||(en(e,function(e){i=e.series.yAxis,a+=e.plotX,r+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!s&&i?i.top-o.plotTop:0)}),a/=e.length,r/=e.length,n=[s?o.plotWidth-r:a,this.shared&&!s&&e.length>1&&t?t.chartY-o.plotTop:s?o.plotHeight-a:r]),on(n,dt)},getPosition:function(e,t,n){var i,o=this.chart,s=o.plotLeft,a=o.plotTop,r=o.plotWidth,l=o.plotHeight,c=f(this.options.distance,12),d=n.plotX,n=n.plotY,o=d+s+(o.inverted?c:-e-c),u=n-t+a+15;return 7>o&&(o=s+ft(d,0)+c),o+e>s+r&&(o-=o+e-(s+r),u=n-t+a-c,i=!0),a+5>u&&(u=a+5,i&&n>=u&&u+t>=n&&(u=n+a+c)),u+t>a+l&&(u=ft(a,a+l-t-c)),{x:o,y:u}},refresh:function(e,t){function n(){var e,t=this.points||h(this),n=t[0].series;return e=[n.tooltipHeaderFormatter(t[0].key)],en(t,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(c.footerFormat||""),e.join("")}var i,o,s,a,r=this.chart,l=this.label,c=this.options,d={},u=[];a=c.formatter||n;var p,d=r.hoverPoints,m=c.crosshairs;if(s=this.shared,o=this.getAnchor(e,t),i=o[0],o=o[1],!s||e.series&&e.series.noSharedTooltip?d=e.getLabelConfig():(r.hoverPoints=e,d&&en(d,function(e){e.setState()}),en(e,function(e){e.setState("hover"),u.push(e.getLabelConfig())}),d={x:e[0].category,y:e[0].y},d.points=u,e=e[0]),a=a.call(d),d=e.series,s=s||!d.isCartesian||d.tooltipOutsidePlot||r.isInsidePlot(i,o),a!==!1&&s?(this.isHidden&&l.show(),l.attr({text:a}),p=c.borderColor||e.color||d.color||"#606060",l.attr({stroke:p}),l=(c.positioner||this.getPosition).call(this,l.width,l.height,{plotX:i,plotY:o}),this.move(dt(l.x),dt(l.y),i+r.plotLeft,o+r.plotTop),this.isHidden=!1):this.hide(),m)for(m=h(m),l=m.length;l--;)s=e.series[l?"yAxis":"xAxis"],m[l]&&s&&(s=s.getPlotLinePath(l?f(e.stackY,e.y):e.x,1),this.crosshairs[l]?this.crosshairs[l].attr({d:s,visibility:"visible"}):(d={"stroke-width":m[l].width||1,stroke:m[l].color||"#C0C0C0",zIndex:m[l].zIndex||2},m[l].dashStyle&&(d.dashstyle=m[l].dashStyle),this.crosshairs[l]=r.renderer.path(s).attr(d).add()));ln(r,"tooltipRefresh",{text:a,x:i+r.plotLeft,y:o+r.plotTop,borderColor:p})}},H.prototype={normalizeMouseEvent:function(t){var n,i,o,t=t||lt.event;return t.target||(t.target=t.srcElement),t=cn(t),o=t.touches?t.touches.item(0):t,this.chartPosition=n=nn(this.chart.container),o.pageX===z?(i=t.x,n=t.y):(i=o.pageX-n.left,n=o.pageY-n.top),e(t,{chartX:dt(i),chartY:dt(n)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},n=this.chart;return en(n.axes,function(i){var o=i.isXAxis;t[o?"xAxis":"yAxis"].push({axis:i,value:i.translate(((n.inverted?!o:o)?e.chartX-n.plotLeft:i.top+i.len-e.chartY)-i.minPixelPadding,!0)})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},onmousemove:function(e){var t,n,i,o=this.chart,s=o.series,a=o.tooltip,r=o.hoverPoint,l=o.hoverSeries,c=o.chartWidth,d=this.getIndex(e);if(a&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(t=[],n=s.length,i=0;n>i;i++)s[i].visible&&s[i].options.enableMouseTracking!==!1&&!s[i].noSharedTooltip&&s[i].tooltipPoints&&s[i].tooltipPoints.length&&(o=s[i].tooltipPoints[d],o._dist=mt(d-o[s[i].xAxis.tooltipPosName||"plotX"]),c=pt(c,o._dist),t.push(o));for(n=t.length;n--;)t[n]._dist>c&&t.splice(n,1);t.length&&t[0].plotX!==this.hoverX&&(a.refresh(t,e),this.hoverX=t[0].plotX)}l&&l.tracker&&(o=l.tooltipPoints[d])&&o!==r&&o.onMouseOver()},resetTracker:function(e){var t=this.chart,n=t.hoverSeries,i=t.hoverPoint,o=t.tooltip,t=o&&o.shared?t.hoverPoints:i;(e=e&&o&&t)&&h(t)[0].plotX===z&&(e=!1),e?o.refresh(t):(i&&i.onMouseOut(),n&&n.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),this.hoverX=null)},setDOMEvents:function(){function t(){if(i.selectionMarker){var e,a={xAxis:[],yAxis:[]},r=i.selectionMarker.getBBox(),l=r.x-o.plotLeft,c=r.y-o.plotTop;n&&(en(o.axes,function(t){if(t.options.zoomEnabled!==!1){var n=t.isXAxis,i=o.inverted?!n:n,s=t.translate(i?l:o.plotHeight-c-r.height,!0,0,0,1),i=t.translate((i?l+r.width:o.plotHeight-c)-2*t.minPixelPadding,!0,0,0,1);!isNaN(s)&&!isNaN(i)&&(a[n?"xAxis":"yAxis"].push({axis:t,min:pt(s,i),max:ft(s,i)}),e=!0)}}),e&&ln(o,"selection",a,function(e){o.zoom(e)})),i.selectionMarker=i.selectionMarker.destroy()}o&&(p(s,{cursor:"auto"}),o.cancelClick=n,o.mouseIsDown=n=!1),rn(rt,"mouseup",t),Mt&&rn(rt,"touchend",t)}var n,i=this,o=i.chart,s=o.container,a=i.zoomX&&!o.inverted||i.zoomY&&o.inverted,r=i.zoomY&&!o.inverted||i.zoomX&&o.inverted;i.hideTooltipOnMouseMove=function(e){e=cn(e),i.chartPosition&&o.hoverSeries&&o.hoverSeries.isCartesian&&!o.isInsidePlot(e.pageX-i.chartPosition.left-o.plotLeft,e.pageY-i.chartPosition.top-o.plotTop)&&i.resetTracker()},i.hideTooltipOnMouseLeave=function(){i.resetTracker(),i.chartPosition=null},s.onmousedown=function(e){e=i.normalizeMouseEvent(e),-1===e.type.indexOf("touch")&&e.preventDefault&&e.preventDefault(),o.mouseIsDown=!0,o.cancelClick=!1,o.mouseDownX=i.mouseDownX=e.chartX,i.mouseDownY=e.chartY,an(rt,"mouseup",t),Mt&&an(rt,"touchend",t)};var l=function(e){if(!(e&&e.touches&&e.touches.length>1)){var e=i.normalizeMouseEvent(e),t=e.type,s=e.chartX,l=e.chartY,c=!o.isInsidePlot(s-o.plotLeft,l-o.plotTop);if(-1===t.indexOf("touch")&&(e.returnValue=!1),"touchstart"===t&&(u(e.target,"isTracker")?o.runTrackerClick||e.preventDefault():!o.runChartClick&&!c&&e.preventDefault()),c&&(o.plotLeft>s?s=o.plotLeft:s>o.plotLeft+o.plotWidth&&(s=o.plotLeft+o.plotWidth),o.plotTop>l?l=o.plotTop:l>o.plotTop+o.plotHeight&&(l=o.plotTop+o.plotHeight)),o.mouseIsDown&&"touchstart"!==t&&(n=Math.sqrt(Math.pow(i.mouseDownX-s,2)+Math.pow(i.mouseDownY-l,2)),n>10)){if(t=o.isInsidePlot(i.mouseDownX-o.plotLeft,i.mouseDownY-o.plotTop),o.hasCartesianSeries&&(i.zoomX||i.zoomY)&&t&&!i.selectionMarker&&(i.selectionMarker=o.renderer.rect(o.plotLeft,o.plotTop,a?1:o.plotWidth,r?1:o.plotHeight,0).attr({fill:i.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),i.selectionMarker&&a){var d=s-i.mouseDownX;i.selectionMarker.attr({width:mt(d),x:(d>0?0:d)+i.mouseDownX})}i.selectionMarker&&r&&(l-=i.mouseDownY,i.selectionMarker.attr({height:mt(l),y:(l>0?0:l)+i.mouseDownY})),t&&!i.selectionMarker&&i.options.chart.panning&&o.pan(s)}return c||i.onmousemove(e),c||!o.hasCartesianSeries}};/Android 4\.0/.test(wt)||(s.onmousemove=l),an(s,"mouseleave",i.hideTooltipOnMouseLeave),Mt||an(rt,"mousemove",i.hideTooltipOnMouseMove),s.ontouchstart=function(e){(i.zoomX||i.zoomY)&&s.onmousedown(e),l(e)},s.ontouchmove=l,s.ontouchend=function(){n&&i.resetTracker()},s.onclick=function(t){var n,s,a=o.hoverPoint,t=i.normalizeMouseEvent(t);t.cancelBubble=!0,o.cancelClick||(a&&(u(t.target,"isTracker")||u(t.target.parentNode,"isTracker"))?(n=a.plotX,s=a.plotY,e(a,{pageX:i.chartPosition.left+o.plotLeft+(o.inverted?o.plotWidth-s:n),pageY:i.chartPosition.top+o.plotTop+(o.inverted?o.plotHeight-n:s)}),ln(a.series,"click",e(t,{point:a})),a.firePointEvent("click",t)):(e(t,i.getMouseCoordinates(t)),o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&ln(o,"click",t)))}},destroy:function(){var e=this.chart,t=e.container;e.trackerGroup&&(e.trackerGroup=e.trackerGroup.destroy()),rn(t,"mouseleave",this.hideTooltipOnMouseLeave),rn(rt,"mousemove",this.hideTooltipOnMouseMove),t.onclick=t.onmousedown=t.onmousemove=t.ontouchstart=t.ontouchend=t.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(e,t){e.trackerGroup||(e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add()),t.enabled&&(e.tooltip=new O(e,t)),this.setDOMEvents()}},B.prototype={init:function(e){var t=this,i=t.options=e.options.legend;if(i.enabled){var o=i.itemStyle,s=f(i.padding,8),a=i.itemMarginTop||0;t.baseline=n(o.fontSize)+3+a,t.itemStyle=o,t.itemHiddenStyle=sn(o,i.itemHiddenStyle),t.itemMarginTop=a,t.padding=s,t.initialItemX=s,t.initialItemY=s-5,t.maxItemWidth=0,t.chart=e,t.itemHeight=0,t.lastLineHeight=0,t.render(),an(t.chart,"endResize",function(){t.positionCheckboxes()})}},colorizeItem:function(e,t){var n,i=this.options,o=e.legendItem,s=e.legendLine,a=e.legendSymbol,r=this.itemHiddenStyle.color,i=t?i.itemStyle.color:r,l=t?e.color:r,r=e.options&&e.options.marker,c={stroke:l,fill:l};if(o&&o.css({fill:i}),s&&s.attr({stroke:l}),a){if(r)for(n in r=e.convertAttribs(r))o=r[n],o!==z&&(c[n]=o);a.attr(c)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,o=i[0],i=i[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?o:this.legendWidth-o-2*n-4,i),s&&(s.x=o,s.y=i)},destroyItem:function(e){var t=e.checkbox;en(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()}),t&&D(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(t=n.translateY,en(this.allItems,function(o){var s,a=o.checkbox;a&&(s=t+a.y+(e||0)+3,p(a,{left:n.translateX+o.legendItemWidth+a.x-20+"px",top:s+"px",display:s>t-6&&t+i-6>s?"":Ot}))}))},renderItem:function(e){var t,n=this,i=n.chart,o=i.renderer,s=n.options,a="horizontal"===s.layout,r=s.symbolWidth,l=s.symbolPadding,c=n.itemStyle,d=n.itemHiddenStyle,u=n.padding,h=!s.rtl,f=s.width,p=s.itemMarginBottom||0,g=n.itemMarginTop,v=n.initialItemX,y=e.legendItem,b=e.series||e,w=b.options,_=w.showCheckbox,C=s.useHTML;!y&&(e.legendGroup=o.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),b.drawLegendSymbol(n,e),e.legendItem=y=o.text(s.labelFormatter.call(e),h?r+l:-l,n.baseline,C).css(sn(e.visible?c:d)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),(C?y:e.legendGroup).on("mouseover",function(){e.setState("hover"),y.css(n.options.itemHoverStyle)}).on("mouseout",function(){y.css(e.visible?c:d),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):ln(e,"legendItemClick",t,n)}),n.colorizeItem(e,e.visible),w&&_)&&(e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,i.container),an(e.checkbox,"click",function(t){ln(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})),o=y.getBBox(),t=e.legendItemWidth=s.itemWidth||r+l+o.width+u+(_?20:0),s=t,n.itemHeight=r=o.height,a&&n.itemX-v+s>(f||i.chartWidth-2*u-v)&&(n.itemX=v,n.itemY+=g+n.lastLineHeight+p,n.lastLineHeight=0),n.maxItemWidth=ft(n.maxItemWidth,s),n.lastItemY=g+n.itemY+p,n.lastLineHeight=ft(r,n.lastLineHeight),e._legendItemPos=[n.itemX,n.itemY],a?n.itemX+=s:(n.itemY+=g+r+p,n.lastLineHeight=r),n.offsetWidth=f||ft(a?n.itemX-v:s,n.offsetWidth)},render:function(){var t,n,i,o,s=this,a=s.chart,r=a.renderer,l=s.group,c=s.box,d=s.options,u=s.padding,h=d.borderWidth,f=d.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,l||(s.group=l=r.g("legend").attr({zIndex:7}).add(),s.contentGroup=r.g().attr({zIndex:1}).add(l),s.scrollGroup=r.g().add(s.contentGroup),s.clipRect=r.clipRect(0,0,9999,a.chartHeight),s.contentGroup.clip(s.clipRect)),t=[],en(a.series,function(e){var n=e.options;n.showInLegend&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),x(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),d.reversed&&t.reverse(),s.allItems=t,s.display=n=!!t.length,en(t,function(e){s.renderItem(e)}),i=d.width||s.offsetWidth,o=s.lastItemY+s.lastLineHeight,o=s.handleOverflow(o),(h||f)&&(i+=u,o+=u,c?i>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,i,o)),c.isNew=!1):(s.box=c=r.rect(0,0,i,o,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:f||Ot}).add(l).shadow(d.shadow),c.isNew=!0),c[n?"show":"hide"]()),s.legendWidth=i,s.legendHeight=o,en(t,function(e){s.positionItem(e)}),n&&l.align(e({width:i,height:o},d),!0,a.spacingBox),a.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,i=n.renderer,o=this.options,s=o.y,s=n.spacingBox.height+("top"===o.verticalAlign?-s:s)-this.padding,a=o.maxHeight,r=this.clipRect,l=o.navigation,c=f(l.animation,!0),d=l.arrowSize||12,u=this.nav;return"horizontal"===o.layout&&(s/=2),a&&(s=pt(s,a)),e>s?(this.clipHeight=n=s-20,this.pageCount=ht(e/n),this.currentPage=f(this.currentPage,1),this.fullHeight=e,r.attr({height:n}),u||(this.nav=u=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,d,d).on("click",function(){t.scroll(-1,c)}).add(u),this.pager=i.text("",15,10).css(l.style).add(u),this.down=i.symbol("triangle-down",0,0,d,d).on("click",function(){t.scroll(1,c)}).add(u)),t.scroll(0),e=s):u&&(r.attr({height:n.chartHeight}),u.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pageCount,i=this.currentPage+e,o=this.clipHeight,s=this.options.navigation,a=s.activeColor,r=s.inactiveColor,s=this.pager,l=this.padding;i>n&&(i=n),i>0&&(t!==z&&A(t,this.chart),this.nav.attr({translateX:l,translateY:o+7,visibility:"visible"}),this.up.attr({fill:1===i?r:a}).css({cursor:1===i?"default":"pointer"}),s.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===n?r:a}).css({cursor:i===n?"default":"pointer"}),o=-pt(o*(i-1),this.fullHeight-o+l)+1,this.scrollGroup.animate({translateY:o}),s.attr({text:i+"/"+n}),this.currentPage=i,this.positionCheckboxes(o))}},$.prototype={init:function(e,t){var n,i=e.series;e.series=null,n=sn(U,e),n.series=e.series=i;var i=n.chart,s=i.margin,s=o(s)?s:[s,s,s,s];this.optionsMarginTop=f(i.marginTop,s[0]),this.optionsMarginRight=f(i.marginRight,s[1]),this.optionsMarginBottom=f(i.marginBottom,s[2]),this.optionsMarginLeft=f(i.marginLeft,s[3]),this.runChartClick=(s=i.events)&&!!s.click,this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var a;if(this.index=Rt.length,Rt.push(this),i.reflow!==!1&&an(this,"load",this.initReflow),s)for(a in s)an(this,a,s[a]);this.xAxis=[],this.yAxis=[],this.animation=At?!1:f(i.animation,!0),this.pointCount=0,this.counters=new C,this.firstRender()},initSeries:function(e){var t=this.options.chart,t=new Gt[e.type||t.type||t.defaultSeriesType];return t.init(this,e),t},addSeries:function(e,t,n){var i,o=this;return e&&(A(n,o),t=f(t,!0),ln(o,"addSeries",{options:e},function(){i=o.initSeries(e),o.isDirtyLegend=!0,t&&o.redraw()})),i},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return i>=0&&this.plotWidth>=i&&e>=0&&this.plotHeight>=e},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&en(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t,n=this.axes,i=this.series,o=this.tracker,s=this.legend,a=this.isDirtyLegend,r=this.isDirtyBox,l=i.length,c=l,d=this.renderer,u=d.isHidden(),h=[];for(A(e,this),u&&this.cloneRenderTo();c--;)if(e=i[c],e.isDirty&&e.options.stacking){t=!0;break}if(t)for(c=l;c--;)e=i[c],e.options.stacking&&(e.isDirty=!0);en(i,function(e){e.isDirty&&"point"===e.options.legendType&&(a=!0)}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,en(n,function(e){e.setScale()})),this.adjustTickAmounts(),this.getMargins(),en(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,h.push(function(){ln(e,"afterSetExtremes",e.getExtremes())})),(e.isDirty||r||t)&&(e.redraw(),r=!0)})),r&&this.drawChartBox(),en(i,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.resetTracker&&o.resetTracker(!0),d.draw(),ln(this,"redraw"),u&&this.cloneRenderTo(!0),en(h,function(e){e.call()})},showLoading:function(t){var n=this.options,i=this.loadingDiv,o=n.loading;i||(this.loadingDiv=i=m(Ft,{className:"highcharts-loading"},e(o.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:Ot}),this.container),this.loadingSpan=m("span",null,o.labelStyle,i)),this.loadingSpan.innerHTML=t||n.lang.loading,this.loadingShown||(p(i,{opacity:0,display:""}),dn(i,{opacity:o.style.opacity},{duration:o.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&dn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){p(t,{display:Ot})}}),this.loadingShown=!1},get:function(e){var t,n,i=this.axes,o=this.series;for(t=0;i.length>t;t++)if(i[t].options.id===e)return i[t];for(t=0;o.length>t;t++)if(o[t].options.id===e)return o[t];for(t=0;o.length>t;t++)for(n=o[t].points||[],i=0;n.length>i;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis||{},t=t.yAxis||{},n=h(n);en(n,function(e,t){e.index=t,e.isX=!0}),t=h(t),en(t,function(e,t){e.index=t}),n=n.concat(t),en(n,function(t){new F(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return en(this.series,function(t){e=e.concat(tn(t.points,function(e){return e.selected}))}),e},getSelectedSeries:function(){return tn(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=U.lang,n=e.options.chart.resetZoomButton,i=n.theme,o=i.states,s="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,o&&o.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,e[s]),this.resetZoomButton.alignTo=s},zoomOut:function(){var e=this,t=e.resetZoomButton;ln(e,"selection",{resetSelection:!0},function(){e.zoom()}),t&&(e.resetZoomButton=t.destroy())},zoom:function(e){var t,n=this;!e||e.resetSelection?en(n.axes,function(e){t=e.zoom()}):en(e.xAxis.concat(e.yAxis),function(e){var i=e.axis;n.tracker[i.isXAxis?"zoomX":"zoomY"]&&(t=i.zoom(e.min,e.max))}),n.resetZoomButton||n.showResetZoom(),t&&n.redraw(f(n.options.chart.animation,100>n.pointCount))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,i=t.pointRange/2,o=t.getExtremes(),s=t.translate(n-e,!0)+i,n=t.translate(n+this.plotWidth-e,!0)-i;(i=this.hoverPoints)&&en(i,function(e){e.setState()}),t.series.length&&s>pt(o.dataMin,o.min)&&ft(o.dataMax,o.max)>n&&t.setExtremes(s,n,!0,!1,{trigger:"pan"}),this.mouseDownX=e,p(this.container,{cursor:"move"})},setTitle:function(e,t){var n,i=this,o=i.options;i.chartTitleOptions=n=sn(o.title,e),i.chartSubtitleOptions=o=sn(o.subtitle,t),en([["title",e,n],["subtitle",t,o]],function(e){var t=e[0],n=i[t],o=e[1],e=e[2];n&&o&&(i[t]=n=n.destroy()),e&&e.text&&!n&&(i[t]=i.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add().align(e,!1,i.spacingBox))})},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=Kt(t,"width"),this.containerHeight=Kt(t,"height"),this.chartWidth=ft(0,f(e.width,this.containerWidth,600)),this.chartHeight=ft(0,f(e.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),D(t),delete this.renderToClone):(n&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),p(t,{position:"absolute",top:"-9999px",display:"block"}),rt.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,o,s,a,r=this.options.chart;this.renderTo=t=r.renderTo,a="highcharts-"+Pt++,i(t)&&(this.renderTo=t=rt.getElementById(t)),t||N(13,!0),o=n(u(t,"data-highcharts-chart")),!isNaN(o)&&Rt[o]&&Rt[o].destroy(),u(t,"data-highcharts-chart",this.index),t.innerHTML="",t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),o=this.chartWidth,s=this.chartHeight,this.container=t=m(Ft,{className:"highcharts-container"+(r.className?" "+r.className:""),id:a},e({position:"relative",overflow:"hidden",width:o+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0},r.style),this.renderToClone||t),this.renderer=r.forExport?new pn(t,o,s,!0):new j(t,o,s),At&&this.renderer.create(this,t,o,s)},getMargins:function(){var e,t=this.options.chart,n=t.spacingTop,i=t.spacingRight,o=t.spacingBottom,t=t.spacingLeft,s=this.legend,a=this.optionsMarginTop,r=this.optionsMarginLeft,l=this.optionsMarginRight,c=this.optionsMarginBottom,u=this.chartTitleOptions,h=this.chartSubtitleOptions,p=this.options.legend,m=f(p.margin,10),g=p.x,v=p.y,y=p.align,b=p.verticalAlign;this.resetMargins(),e=this.axisOffset,!this.title&&!this.subtitle||d(this.optionsMarginTop)||(h=ft(this.title&&!u.floating&&!u.verticalAlign&&u.y||0,this.subtitle&&!h.floating&&!h.verticalAlign&&h.y||0))&&(this.plotTop=ft(this.plotTop,h+f(u.margin,15)+n)),s.display&&!p.floating&&("right"===y?d(l)||(this.marginRight=ft(this.marginRight,s.legendWidth-g+m+i)):"left"===y?d(r)||(this.plotLeft=ft(this.plotLeft,s.legendWidth+g+m+t)):"top"===b?d(a)||(this.plotTop=ft(this.plotTop,s.legendHeight+v+m+n)):"bottom"!==b||d(c)||(this.marginBottom=ft(this.marginBottom,s.legendHeight-v+m+o))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&en(this.axes,function(e){e.getOffset()}),d(r)||(this.plotLeft+=e[3]),d(a)||(this.plotTop+=e[0]),d(c)||(this.marginBottom+=e[2]),d(l)||(this.marginRight+=e[1]),this.setChartSize()},initReflow:function(){function e(e){var s=i.width||Kt(o,"width"),a=i.height||Kt(o,"height"),e=e?e.target:lt;n.hasUserSize||!s||!a||e!==lt&&e!==rt||((s!==n.containerWidth||a!==n.containerHeight)&&(clearTimeout(t),n.reflowTimeout=t=setTimeout(function(){n.container&&(n.setSize(s,a,!1),n.hasUserSize=null)},100)),n.containerWidth=s,n.containerHeight=a)}var t,n=this,i=n.options.chart,o=n.renderTo;an(lt,"resize",e),an(n,"destroy",function(){rn(lt,"resize",e)})},setSize:function(e,t,n){var i,o,s,a=this,r=a.resetZoomButton,l=a.title,c=a.subtitle;a.isResizing+=1,s=function(){a&&ln(a,"endResize",null,function(){a.isResizing-=1})},A(n,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,d(e)&&(a.chartWidth=i=ft(0,dt(e)),a.hasUserSize=!!i),d(t)&&(a.chartHeight=o=ft(0,dt(t))),p(a.container,{width:i+"px",height:o+"px"}),a.renderer.setSize(i,o,n),a.plotWidth=i-a.plotLeft-a.marginRight,a.plotHeight=o-a.plotTop-a.marginBottom,a.maxTicks=null,en(a.axes,function(e){e.isDirty=!0,e.setScale()}),en(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),e=a.spacingBox,l&&l.align(null,null,e),c&&c.align(null,null,e),r&&r.align&&r.align(null,null,a[r.alignTo]),a.redraw(n),a.oldChartHeight=null,ln(a,"resize"),q===!1?s():setTimeout(s,q&&q.duration||500)},setChartSize:function(){var e,t,n,i,o=this.inverted,s=this.chartWidth,a=this.chartHeight,r=this.options.chart,l=r.spacingTop,c=r.spacingRight,d=r.spacingBottom,u=r.spacingLeft;this.plotLeft=e=dt(this.plotLeft),this.plotTop=t=dt(this.plotTop),this.plotWidth=n=ft(0,dt(s-e-this.marginRight)),this.plotHeight=i=ft(0,dt(a-t-this.marginBottom)),this.plotSizeX=o?i:n,this.plotSizeY=o?n:i,this.plotBorderWidth=o=r.plotBorderWidth||0,this.spacingBox={x:u,y:l,width:s-u-c,height:a-l-d},this.plotBox={x:e,y:t,width:n,height:i},this.clipBox={x:o/2,y:o/2,width:this.plotSizeX-o,height:this.plotSizeY-o},en(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,i=e.spacingLeft;this.plotTop=f(this.optionsMarginTop,e.spacingTop),this.marginRight=f(this.optionsMarginRight,t),this.marginBottom=f(this.optionsMarginBottom,n),this.plotLeft=f(this.optionsMarginLeft,i),this.axisOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,r=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,d=t.backgroundColor,u=t.plotBackgroundColor,h=t.plotBackgroundImage,f=t.plotBorderWidth||0,p=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;e=c+(t.shadow?8:0),(c||d)&&(s?s.animate(s.crisp(null,null,null,i-e,o-e)):(s={fill:d||Ot},c&&(s.stroke=t.borderColor,s["stroke-width"]=c),this.chartBackground=n.rect(e/2,e/2,i-e,o-e,t.borderRadius,c).attr(s).add().shadow(t.shadow))),u&&(a?a.animate(y):this.plotBackground=n.rect(p,m,g,v,0).attr({fill:u}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=n.image(h,p,m,g,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=n.clipRect(w),f&&(r?r.animate(r.crisp(null,p,m,g,v)):this.plotBorder=n.rect(p,m,g,v,0,f).attr({stroke:t.plotBorderColor,"stroke-width":f,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,o=i.options.chart,s=i.options.series;en(["inverted","angular","polar"],function(a){for(e=Gt[o.type||o.defaultSeriesType],n=i[a]||o[a]||e&&e.prototype[a],t=s&&s.length;!n&&t--;)(e=Gt[s[t].type])&&e.prototype[a]&&(n=!0);i[a]=n})},render:function(){var t,i=this,o=i.axes,s=i.renderer,a=i.options,r=a.labels,a=a.credits;i.setTitle(),i.legend=new B(i),en(o,function(e){e.setScale()}),i.getMargins(),i.maxTicks=null,en(o,function(e){e.setTickPositions(!0),e.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&en(o,function(e){e.render()}),i.seriesGroup||(i.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),en(i.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),r.items&&en(r.items,function(t){var o=e(r.style,t.style),a=n(o.left)+i.plotLeft,l=n(o.top)+i.plotTop+12;delete o.left,delete o.top,s.text(t.html,a,l).attr({zIndex:2}).css(o).add()}),a.enabled&&!i.credits&&(t=a.href,i.credits=s.text(a.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position)),i.hasRendered=!0},destroy:function(){var e,t=this,n=t.axes,i=t.series,o=t.container,s=o&&o.parentNode;for(ln(t,"destroy"),Rt[t.index]=z,t.renderTo.removeAttribute("data-highcharts-chart"),rn(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();en("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),o&&(o.innerHTML="",rn(o),s&&D(o));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Nt&&lt==lt.top&&"complete"!==rt.readyState||At&&!lt.canvg?(At?yn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):rt.attachEvent("onreadystatechange",function(){rt.detachEvent("onreadystatechange",e.firstRender),"complete"===rt.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),ln(e,"init"),Highcharts.RangeSelector&&t.rangeSelector.enabled&&(e.rangeSelector=new Highcharts.RangeSelector(e)),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),en(t.series||[],function(t){e.initSeries(t)}),Highcharts.Scroller&&(t.navigator.enabled||t.scrollbar.enabled)&&(e.scroller=new Highcharts.Scroller(e)),e.tracker=new H(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),en(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),ln(e,"load"))}},$.prototype.callbacks=[];var bn=function(){};bn.prototype={init:function(e,t,n){var i=e.chart.counters;return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.chart.options.colors,this.color=this.color||t[i.color++],i.wrapColor(t.length)),e.chart.pointCount++,this},applyOptions:function(t,n){var i=this.series,o=typeof t;this.config=t,"number"===o||null===t?this.y=t:"number"==typeof t[0]?(this.x=t[0],this.y=t[1]):"object"===o&&"number"!=typeof t.length?(e(this,t),this.options=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0)):"string"==typeof t[0]&&(this.name=t[0],this.y=t[1]),this.x===z&&(this.x=n===z?i.autoIncrement():n)},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),c(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(rn(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,tracker,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,i=n.series.chart,e=f(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=e,n.setState(e&&"select"),t||en(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=!1,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this.series,t=e.chart,n=t.tooltip,i=t.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this),this.setState("hover"),t.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;t&&-1!==Zt(this,t)||(this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null)},tooltipFormatter:function(e){var t,n,o,s,a=this.series,r=a.tooltipOptions,l=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),c=/[{\.}]/,d={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};r.valuePrefix=r.valuePrefix||r.yPrefix,r.valueDecimals=f(r.valueDecimals,r.yDecimals),r.valueSuffix=r.valueSuffix||r.ySuffix;for(s in l)n=l[s],i(n)&&n!==e&&(o=(" "+n).split(c),t={point:this,series:a}[o[1]],o=o[2],t===this&&d.hasOwnProperty(o)?(t=d[o]?o:"value",t=(r[t+"Prefix"]||"")+v(this[o],f(r[t+"Decimals"],-1))+(r[t+"Suffix"]||"")):t=t[o],e=e.replace(n,t));return e},update:function(e,t,n){var i,s=this,a=s.series,r=s.graphic,l=a.data,c=l.length,d=a.chart,t=f(t,!0);s.firePointEvent("update",{options:e},function(){for(s.applyOptions(e),o(e)&&(a.getAttribs(),r&&r.attr(s.pointAttr[a.state])),i=0;c>i;i++)if(l[i]===s){a.xData[i]=s.x,a.yData[i]=s.toYData?s.toYData():s.y,a.options.data[i]=e;break}a.isDirty=!0,a.isDirtyData=!0,t&&d.redraw(n)})},remove:function(e,t){var n,i=this,o=i.series,s=o.chart,a=o.data,r=a.length;A(t,s),e=f(e,!0),i.firePointEvent("remove",null,function(){for(n=0;r>n;n++)if(a[n]===i){a.splice(n,1),o.options.data.splice(n,1),o.xData.splice(n,1),o.yData.splice(n,1);break}i.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&s.redraw()})},firePointEvent:function(e,t,n){var i=this,o=this.series.options;(o.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(n=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),ln(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e,t=sn(this.series.options.point,this.options).events;this.events=t;for(e in t)an(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e){var t=this.plotX,n=this.plotY,i=this.series,o=i.options.states,s=hn[i.type].marker&&i.options.marker,a=s&&!s.enabled,r=s&&s.states[e],l=r&&r.enabled===!1,c=i.stateMarkerGraphic,d=i.chart,u=this.pointAttr,e=e||"";e===this.state||this.selected&&"select"!==e||o[e]&&o[e].enabled===!1||e&&(l||a&&!r.enabled)||(this.graphic?(o=s&&this.graphic.symbolName&&u[e].r,this.graphic.attr(sn(u[e],o?{x:t-o,y:n-o,width:2*o,height:2*o}:{}))):(e&&r&&(o=r.radius,c?c.attr({x:t-o,y:n-o}):i.stateMarkerGraphic=c=d.renderer.symbol(i.symbol,t-o,n-o,2*o,2*o).attr(u[e]).add(i.markerGroup)),c&&c[e&&d.isInsidePlot(t,n)?"show":"hide"]()),this.state=e)}};var wn=function(){};wn.prototype={isCartesian:!0,type:"line",pointClass:bn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(t,n){var i,o;
this.chart=t,this.options=n=this.setOptions(n),this.bindAxes(),e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),At&&(n.animation=!1),o=n.events;for(i in o)an(this,i,o[i]);(o&&o.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(n.data,!1),this.isCartesian&&(t.hasCartesianSeries=!0),t.series.push(this),x(t.series,function(e,t){return(e.options.index||0)-(t.options.index||0)}),en(t.series,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;t.isCartesian&&en(["xAxis","yAxis"],function(o){en(i[o],function(i){e=i.options,(n[o]===e.index||n[o]===z&&0===e.index)&&(i.series.push(t),t[o]=i,i.isDirty=!0)})})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=f(t,e.pointStart,0);return this.pointInterval=f(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,n=[],i=this.points,o=i.length;if(o)if(this.options.connectNulls){for(e=o;e--;)null===i[e].y&&i.splice(e,1);i.length&&(n=[i])}else en(i,function(e,s){null===e.y?(s>t+1&&n.push(i.slice(t+1,s)),t=s):s===o-1&&n.push(i.slice(t+1,s+1))});this.segments=n},setOptions:function(e){var t=this.chart.options,n=t.plotOptions,i=n[this.type],o=e.data;return e.data=null,n=sn(i,n.series,e),n.data=e.data=o,this.tooltipOptions=sn(t.tooltip,n.tooltip),null===i.marker&&delete n.marker,n},getColor:function(){var e=this.options,t=this.chart.options.colors,n=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[n.color++]||"gray",n.wrapColor(t.length)},getSymbol:function(){var e=this.options.marker,t=this.chart,n=t.options.symbols,t=t.counters;this.symbol=e.symbol||n[t.symbol++],/^url/.test(this.symbol)&&(e.radius=0),t.wrapSymbol(n.length)},drawLegendSymbol:function(e){var t,n=this.options,i=n.marker,o=e.options.symbolWidth,s=this.chart.renderer,a=this.legendGroup,e=e.baseline;n.lineWidth&&(t={"stroke-width":n.lineWidth},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=s.path(["M",0,e-4,"L",o,e-4]).attr(t).add(a)),i&&i.enabled&&(n=i.radius,this.legendSymbol=s.symbol(this.symbol,o/2-n,e-4-n,2*n,2*n).add(a))},addPoint:function(e,t,n,i){var o=this.options,s=this.data,a=this.graph,r=this.area,l=this.chart,c=this.xData,d=this.yData,u=a&&a.shift||0,h=o.data,p=this.pointClass.prototype;A(i,l),a&&n&&(a.shift=u+1),r&&(n&&(r.shift=u+1),r.isArea=!0),t=f(t,!0),i={series:this},p.applyOptions.apply(i,[e]),c.push(i.x),d.push(p.toYData?p.toYData.call(i):i.y),h.push(e),"point"===o.legendType&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),c.shift(),d.shift(),h.shift())),this.getAttribs(),this.isDirtyData=this.isDirty=!0,t&&l.redraw()},setData:function(e,t){var n,o=this.points,r=this.options,l=this.initialColor,c=this.chart,u=null,h=this.xAxis,p=this.pointClass.prototype;this.xIncrement=null,this.pointRange=h&&h.categories?1:r.pointRange,d(l)&&(c.counters.color=l);var l=[],m=[],g=e?e.length:[],v=(n=this.pointArrayMap)&&n.length;if(g>(r.turboThreshold||1e3)){for(n=0;null===u&&g>n;)u=e[n],n++;if(a(u)){for(p=f(r.pointStart,0),r=f(r.pointInterval,1),n=0;g>n;n++)l[n]=p,m[n]=e[n],p+=r;this.xIncrement=p}else if(s(u))if(v)for(n=0;g>n;n++)r=e[n],l[n]=r[0],m[n]=r.slice(1,v+1);else for(n=0;g>n;n++)r=e[n],l[n]=r[0],m[n]=r[1]}else for(n=0;g>n;n++)r={series:this},p.applyOptions.apply(r,[e[n]]),l[n]=r.x,m[n]=p.toYData?p.toYData.call(r):r.y;for(this.requireSorting&&l.length>1&&l[1]<l[0]&&N(15),i(m[0])&&N(14,!0),this.data=[],this.options.data=e,this.xData=l,this.yData=m,n=o&&o.length||0;n--;)o[n]&&o[n].destroy&&o[n].destroy();h&&(h.minRange=h.userMinRange),this.isDirty=this.isDirtyData=c.isDirtyBox=!0,f(t,!0)&&c.redraw(!1)},remove:function(e,t){var n=this,i=n.chart,e=f(e,!0);n.isRemoving||(n.isRemoving=!0,ln(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,e&&i.redraw(t)})),n.isRemoving=!1},processData:function(e){var t,n,i=this.xData,o=this.yData,s=i.length,a=0,r=s,l=this.xAxis,c=this.options,d=c.cropThreshold,u=this.isCartesian;if(u&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(u&&this.sorted&&(!d||s>d||this.forceCrop))if(e=l.getExtremes(),l=e.min,d=e.max,l>i[s-1]||i[0]>d)i=[],o=[];else if(l>i[0]||i[s-1]>d){for(e=0;s>e;e++)if(i[e]>=l){a=ft(0,e-1);break}for(;s>e;e++)if(i[e]>d){r=e+1;break}i=i.slice(a,r),o=o.slice(a,r),t=!0}for(e=i.length-1;e>0;e--)s=i[e]-i[e-1],s>0&&(n===z||n>s)&&(n=s);this.cropped=t,this.cropStart=a,this.processedXData=i,this.processedYData=o,null===c.pointRange&&(this.pointRange=n||1),this.closestPointRange=n},generatePoints:function(){var e,t,n,i,o=this.options.data,s=this.data,a=this.processedXData,r=this.processedYData,l=this.pointClass,c=a.length,d=this.cropStart||0,u=this.hasGroupedData,f=[];for(s||u||(s=[],s.length=o.length,s=this.data=s),i=0;c>i;i++)t=d+i,u?f[i]=(new l).init(this,[a[i]].concat(h(r[i]))):(s[t]?n=s[t]:o[t]!==z&&(s[t]=n=(new l).init(this,o[t],a[i])),f[i]=n);if(s&&(c!==(e=s.length)||u))for(i=0;e>i;i++)i===d&&!u&&(i+=c),s[i]&&(s[i].destroyElements(),s[i].plotX=z);this.data=s,this.points=f},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t=this.chart,n=this.options,i=n.stacking,o=this.xAxis,s=o.categories,a=this.yAxis,r=this.points,l=r.length,c=!!this.modifyValue,u=a.series,h=u.length,p="between"===n.pointPlacement;h--;)if(u[h].visible){u[h]===this&&(e=!0);break}for(h=0;l>h;h++){var u=r[h],m=u.x,g=u.y,v=u.low,y=a.stacks[(n.threshold>g?"-":"")+this.stackKey];u.plotX=o.translate(m,0,0,0,1,p),i&&this.visible&&y&&y[m]&&(v=y[m],m=v.total,v.cum=v=v.cum-g,g=v+g,e&&(v=f(n.threshold,a.min)),a.isLog&&0>=v&&(v=null),"percent"===i&&(v=m?100*v/m:0,g=m?100*g/m:0),u.percentage=m?100*u.y/m:0,u.total=u.stackTotal=m,u.stackY=g),u.yBottom=d(v)?a.translate(v,0,1,0,1):null,c&&(g=this.modifyValue(g,u)),u.plotY="number"==typeof g?dt(10*a.translate(g,0,1,0,1))/10:z,u.clientX=t.inverted?t.plotHeight-u.plotX:u.plotX,u.category=s&&s[u.x]!==z?s[u.x]:u.x}this.getSegments()},setTooltipPoints:function(e){var t,n,i,o,s=[],a=(t=this.xAxis)?t.tooltipLen||t.len:this.chart.plotSizeX,r=t&&t.tooltipPosName||"plotX",l=[];if(this.options.enableMouseTracking!==!1){for(e&&(this.tooltipPoints=null),en(this.segments||this.points,function(e){s=s.concat(e)}),t&&t.reversed&&(s=s.reverse()),e=s.length,o=0;e>o;o++)for(i=s[o],t=s[o-1]?n+1:0,n=s[o+1]?ft(0,ut((i[r]+(s[o+1]?s[o+1][r]:a))/2)):a;t>=0&&n>=t;)l[t++]=i;this.tooltipPoints=l}},tooltipHeaderFormatter:function(e){var t,n=this.tooltipOptions,i=n.xDateFormat,o=this.xAxis,s=o&&"datetime"===o.options.type;if(s&&!i)for(t in G)if(G[t]>=o.closestPointRange){i=n.dateTimeLabelFormats[t];break}return n.headerFormat.replace("{point.key}",s&&a(e)?V(i,e):e).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&ln(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut(),this&&e.events.mouseOut&&ln(this,"mouseOut"),n&&!e.stickyTracking&&!n.shared&&n.hide(),this.setState(),t.hoverSeries=null},animate:function(t){var n,i=this,s=i.chart,a=s.renderer;n=i.options.animation;var r,l=s.clipBox,c=s.inverted;n&&!o(n)&&(n=hn[i.type].animation),r="_sharedClip"+n.duration+n.easing,t?(t=s[r],n=s[r+"m"],t||(s[r]=t=a.clipRect(e(l,{width:0})),s[r+"m"]=n=a.clipRect(-99,c?-s.plotLeft:-s.plotTop,99,c?s.chartWidth:s.chartHeight)),i.group.clip(t),i.markerGroup.clip(n),i.sharedClipKey=r):((t=s[r])&&(t.animate({width:s.plotSizeX},n),s[r+"m"].animate({width:s.plotSizeX+99},n)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},n.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,i=this.trackerGroup;n&&this.options.clip!==!1&&(n.clip(e.clipRect),i&&i.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n,i,o,s,a,r,l,c,d,u=this.points,h=this.chart,p=this.options.marker,m=this.markerGroup;if(p.enabled||this._hasPointMarkers)for(o=u.length;o--;)s=u[o],n=s.plotX,i=s.plotY,c=s.graphic,r=s.marker||{},t=p.enabled&&r.enabled===z||r.enabled,d=h.isInsidePlot(n,i,h.inverted),t&&i!==z&&!isNaN(i)?(t=s.pointAttr[s.selected?"select":""],a=t.r,r=f(r.symbol,this.symbol),l=0===r.indexOf("url"),c?c.attr({visibility:d?Nt?"inherit":"visible":"hidden"}).animate(e({x:n-a,y:i-a},c.symbolName?{width:2*a,height:2*a}:{})):d&&(a>0||l)&&(s.graphic=h.renderer.symbol(r,n-a,i-a,2*a,2*a).attr(t).add(m))):c&&(s.graphic=c.destroy())},convertAttribs:function(e,t,n,i){var o,s,a=this.pointAttrToOptions,r={},e=e||{},t=t||{},n=n||{},i=i||{};for(o in a)s=a[o],r[o]=f(e[s],t[o],n[o],i[o]);return r},getAttribs:function(){var t,n,i,o=this,s=hn[o.type].marker?o.options.marker:o.options,a=s.states,r=a.hover,l=o.color,c={stroke:l,fill:l},u=o.points||[],h=[],f=o.pointAttrToOptions;for(o.options.marker?(r.radius=r.radius||s.radius+2,r.lineWidth=r.lineWidth||s.lineWidth+1):r.color=r.color||fn(r.color||l).brighten(r.brightness).get(),h[""]=o.convertAttribs(s,c),en(["hover","select"],function(e){h[e]=o.convertAttribs(a[e],h[""])}),o.pointAttr=h,l=u.length;l--;){if(c=u[l],(s=c.options&&c.options.marker||c.options)&&s.enabled===!1&&(s.radius=0),t=o.options.colorByPoint,c.options)for(i in f)d(s[f[i]])&&(t=!0);t?(s=s||{},n=[],a=s.states||{},t=a.hover=a.hover||{},o.options.marker||(t.color=fn(t.color||c.color).brighten(t.brightness||r.brightness).get()),n[""]=o.convertAttribs(e({color:c.color},s),h[""]),n.hover=o.convertAttribs(a.hover,h.hover,n[""]),n.select=o.convertAttribs(a.select,h.select,n[""])):n=h,c.pointAttr=n}},destroy:function(){var e,t,n,i,o,s=this,a=s.chart,r=/AppleWebKit\/533/.test(wt),l=s.data||[];for(ln(s,"destroy"),rn(s),en(["xAxis","yAxis"],function(e){(o=s[e])&&(c(o.series,s),o.isDirty=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),t=l.length;t--;)(n=l[t])&&n.destroy&&n.destroy();s.points=null,clearTimeout(s.animationTimeout),en("area,graph,dataLabelsGroup,group,markerGroup,tracker,trackerGroup".split(","),function(t){s[t]&&(e=r&&"group"===t?"hide":"destroy",s[t][e]())}),a.hoverSeries===s&&(a.hoverSeries=null),c(a.series,s);for(i in s)delete s[i]},drawDataLabels:function(){var e,t,n,i,o=this,s=o.options.dataLabels,a=o.points;(s.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(s),i=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",s.zIndex||6),t=s,en(a,function(a){var r,l,c=a.dataLabel,u=!0;if(e=a.options&&a.options.dataLabels,r=t.enabled||e&&e.enabled,c&&!r)a.dataLabel=c.destroy();else if(r){if(r=s.rotation,s=sn(t,e),n=s.formatter.call(a.getLabelConfig(),s),s.style.color=f(s.color,s.style.color,o.color,"black"),c)c.attr({text:n}),u=!1;else if(d(n)){c={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:r,padding:s.padding,zIndex:1};for(l in c)c[l]===z&&delete c[l];c=a.dataLabel=o.chart.renderer[r?"text":"label"](n,0,-999,null,null,null,s.useHTML).attr(c).css(s.style).add(i).shadow(s.shadow)}c&&o.alignDataLabel(a,c,s,null,u)}}))},alignDataLabel:function(t,n,i,o,s){var a=this.chart,r=a.inverted,l=f(t.plotX,-999),t=f(t.plotY,-999),c=n.getBBox(),o=e({x:r?a.plotWidth-t:l,y:dt(r?a.plotHeight-l:t),width:0,height:0},o);e(i,{width:c.width,height:c.height}),i.rotation?(o={align:i.align,x:o.x+i.x+o.width/2,y:o.y+i.y+o.height/2},n[s?"attr":"animate"](o)):(n.align(i,null,o),o=n.alignAttr),n.attr({visibility:i.crop===!1||a.isInsidePlot(o.x,o.y)||a.isInsidePlot(l,t,r)?a.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[],i=t.options.step;return en(e,function(o,s){var a,r=o.plotX,l=o.plotY;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,o,s)):(n.push(s?"L":"M"),i&&s&&(a=e[s-1],"right"===i?n.push(a.plotX,l):"center"===i?n.push((a.plotX+r)/2,a.plotY,(a.plotX+r)/2,l):n.push(r,a.plotY)),n.push(o.plotX,o.plotY))}),n},getGraphPath:function(){var e,t=this,n=[],i=[];return en(t.segments,function(o){e=t.getSegmentPath(o),o.length>1?n=n.concat(e):i.push(o[0])}),t.singlePoints=i,t.graphPath=n},drawGraph:function(){var e=this.options,t=this.graph,n=this.group,i=e.lineColor||this.color,o=e.lineWidth,s=e.dashStyle,a=this.getGraphPath();t?(un(t),t.animate({d:a})):o&&(t={stroke:i,"stroke-width":o,zIndex:1},s&&(t.dashstyle=s),this.graph=this.chart.renderer.path(a).attr(t).add(n).shadow(e.shadow))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};en(["group","trackerGroup","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;an(n,"resize",e),an(t,"destroy",function(){rn(n,"resize",e)}),e(),t.invertGroups=e},plotGroup:function(e,t,n,i,o){var s=this[e],a=this.chart,r=this.xAxis,l=this.yAxis;return s||(this[e]=s=a.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(o)),s.translate(r?r.left:a.plotLeft,l?l.top:a.plotTop),s},render:function(){var e,t=this.chart,n=this.options,i=n.animation&&!!this.animate,o=this.visible?"visible":"hidden",s=n.zIndex,a=this.hasRendered,r=t.seriesGroup;e=this.plotGroup("group","series",o,s,r),this.markerGroup=this.plotGroup("markerGroup","markers",o,s,r),i&&this.animate(!0),this.getAttribs(),e.inverted=t.inverted,this.drawGraph&&this.drawGraph(),this.drawPoints(),this.drawDataLabels(),this.options.enableMouseTracking!==!1&&this.drawTracker(),t.inverted&&this.invertGroups(),n.clip!==!1&&!this.sharedClipKey&&!a&&(e.clip(t.clipRect),this.trackerGroup&&this.trackerGroup.clip(t.clipRect)),i?this.animate():a||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:this.xAxis.left,translateY:this.yAxis.top})),this.translate(),this.setTooltipPoints(!0),this.render(),t&&ln(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,i=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,i[e]&&i[e].enabled===!1||(e&&(t=i[e].lineWidth||t+1),n&&!n.dashstyle&&n.attr({"stroke-width":t},e?0:500)))},setVisible:function(e,t){var n,i=this.chart,o=this.legendItem,s=this.group,a=this.tracker,r=this.dataLabelsGroup,l=this.markerGroup,c=this.points,d=i.options.chart.ignoreHiddenSeries;if(n=this.visible,n=(this.visible=e=e===z?!n:e)?"show":"hide",s&&s[n](),l&&l[n](),a)a[n]();else if(c)for(s=c.length;s--;)a=c[s],a.tracker&&a.tracker[n]();i.hoverSeries===this&&this.onMouseOut(),r&&r[n](),o&&i.legend.colorizeItem(this,e),this.isDirty=!0,this.options.stacking&&en(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),d&&(i.isDirtyBox=!0),t!==!1&&i.redraw(),ln(this,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===z?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),ln(this,e?"select":"unselect")},drawTracker:function(){var e,t=this,n=t.options,i=n.trackByArea,o=[].concat(i?t.areaPath:t.graphPath),s=o.length,a=t.chart,r=a.renderer,l=a.options.tooltip.snap,c=t.tracker,d=n.cursor,d=d&&{cursor:d},u=t.singlePoints,h=this.isCartesian&&this.plotGroup("trackerGroup",null,"visible",n.zIndex||1,a.trackerGroup),f=function(){a.hoverSeries!==t&&t.onMouseOver()},p=function(){n.stickyTracking||t.onMouseOut()};if(s&&!i)for(e=s+1;e--;)"M"===o[e]&&o.splice(e+1,0,o[e+1]-l,o[e+2],"L"),(e&&"M"===o[e]||e===s)&&o.splice(e,0,"L",o[e-2]+l,o[e-1]);for(e=0;u.length>e;e++)s=u[e],o.push("M",s.plotX-l,s.plotY,"L",s.plotX+l,s.plotY);c?c.attr({d:o}):(t.tracker=c=r.path(o).attr({isTracker:!0,"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:Ht,fill:i?Ht:Ot,"stroke-width":n.lineWidth+(i?0:2*l)}).on("mouseover",f).on("mouseout",p).css(d).add(h),Mt&&c.on("touchstart",f))}},Jt=g(wn),Gt.line=Jt,hn.area=sn(Xt,{threshold:0}),Jt=g(wn,{type:"area",getSegmentPath:function(e){var t,n=wn.prototype.getSegmentPath.call(this,e),i=[].concat(n),o=this.options;if(3===n.length&&i.push("L",n[1],n[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)e.length-1>t&&o.step&&i.push(e[t+1].plotX,e[t].yBottom),i.push(e[t].plotX,e[t].yBottom);else this.closeSegment(i,e);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],wn.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,n=this.area;n?n.animate({d:e}):this.area=this.chart.renderer.path(e).attr({fill:f(t.fillColor,fn(this.color).setOpacity(t.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),Gt.area=Jt,hn.spline=sn(Xt),gn=g(wn,{type:"spline",getPointSpline:function(e,t,n){var i,o,s,a,r=t.plotX,l=t.plotY,c=e[n-1],d=e[n+1];if(c&&d){e=c.plotY,s=d.plotX;var u,d=d.plotY;i=(1.5*r+c.plotX)/2.5,o=(1.5*l+e)/2.5,s=(1.5*r+s)/2.5,a=(1.5*l+d)/2.5,u=(a-o)*(s-r)/(s-i)+l-a,o+=u,a+=u,o>e&&o>l?(o=ft(e,l),a=2*l-o):e>o&&l>o&&(o=pt(e,l),a=2*l-o),a>d&&a>l?(a=ft(d,l),o=2*l-a):d>a&&l>a&&(a=pt(d,l),o=2*l-a),t.rightContX=s,t.rightContY=a}return n?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||r,o||l,r,l],c.rightContX=c.rightContY=null):t=["M",r,l],t}}),Gt.spline=gn,hn.areaspline=sn(hn.area);var _n=Jt.prototype,gn=g(gn,{type:"areaspline",closedStacks:!0,getSegmentPath:_n.getSegmentPath,closeSegment:_n.closeSegment,drawGraph:_n.drawGraph});Gt.areaspline=gn,hn.column=sn(Xt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0}),gn=g(wn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){wn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&en(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var e,t,n=this,i=n.chart,o=n.options,s=o.stacking,a=o.borderWidth,r=0,l=n.xAxis,c=n.yAxis,u=l.reversed,h={};wn.prototype.translate.apply(n),o.grouping===!1?r=1:en(i.series,function(i){var o=i.options;i.type===n.type&&i.visible&&n.options.group===o.group&&(o.stacking?(e=i.stackKey,h[e]===z&&(h[e]=r++),t=h[e]):o.grouping!==!1&&(t=r++),i.columnIndex=t)});var p=n.points,l=mt(l.transA)*(l.ordinalSlope||o.pointRange||l.closestPointRange||1),m=l*o.groupPadding,g=(l-2*m)/r,v=o.pointWidth,y=d(v)?(g-v)/2:g*o.pointPadding,b=f(v,g-2*y),w=ht(ft(b,1+2*a)),_=y+(m+((u?r-(n.columnIndex||0):n.columnIndex)||0)*g-l/2)*(u?-1:1),C=n.translatedThreshold=c.getThreshold(o.threshold),x=f(o.minPointLength,5);en(p,function(e){var t=pt(ft(-999,e.plotY),c.len+999),o=f(e.yBottom,C),r=e.plotX+_,l=ht(pt(t,o)),d=ht(ft(t,o)-l),u=c.stacks[(0>e.y?"-":"")+n.stackKey];s&&n.visible&&u&&u[e.x]&&u[e.x].setOffset(_,w),x>mt(d)&&x&&(d=x,l=mt(l-C)>x?o-x:C-(C>=t?x:0)),e.barX=r,e.pointWidth=b,e.shapeType="rect",e.shapeArgs=t=i.renderer.Element.prototype.crisp.call(0,a,r,l,w,d),a%2&&(t.y-=1,t.height+=1),e.trackerArgs=3>mt(d)&&sn(e.shapeArgs,{height:6,y:l-3})})},getSymbol:Lt,drawLegendSymbol:Jt.prototype.drawLegendSymbol,drawGraph:Lt,drawPoints:function(){var e,t=this,n=t.options,i=t.chart.renderer;en(t.points,function(o){var s=o.plotY,a=o.graphic;s===z||isNaN(s)||null===o.y?a&&(o.graphic=a.destroy()):(e=o.shapeArgs,a?(un(a),a.animate(sn(e))):o.graphic=i[o.shapeType](e).attr(o.pointAttr[o.selected?"select":""]).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){for(var e,t,n,i,o,s=this,a=s.chart,r=a.renderer,l=+new Date,c=s.options,d=(e=c.cursor)&&{cursor:e},h=s.isCartesian&&s.plotGroup("trackerGroup",null,"visible",c.zIndex||1,a.trackerGroup),f=s.points,p=f.length,m=function(e){n=e.relatedTarget||e.fromElement,a.hoverSeries!==s&&u(n,"isTracker")!==l&&s.onMouseOver(),f[e.target._i].onMouseOver()},g=function(e){c.stickyTracking||(n=e.relatedTarget||e.toElement,u(n,"isTracker")===l)||s.onMouseOut()};p--;)o=f[p],t=o.tracker,e=o.trackerArgs||o.shapeArgs,i=o.plotY,i=!s.isCartesian||i!==z&&!isNaN(i),delete e.strokeWidth,null!==o.y&&i&&(t?t.attr(e):(o.tracker=t=r[o.shapeType](e).attr({isTracker:l,fill:Ht,visibility:s.visible?"visible":"hidden"}).on("mouseover",m).on("mouseout",g).css(d).add(o.group||h),Mt&&t.on("touchstart",m)),t.element._i=p)},alignDataLabel:function(e,t,n,i,o){var s=this.chart,a=s.inverted,r=e.below||e.plotY>f(this.translatedThreshold,s.plotSizeY),l=this.options.stacking||n.inside;e.shapeArgs&&(i=sn(e.shapeArgs),a&&(i={x:s.plotWidth-i.y-i.height,y:s.plotHeight-i.x-i.width,width:i.height,height:i.width}),!l)&&(a?(i.x+=r?0:i.width,i.width=0):(i.y+=r?i.height:0,i.height=0)),n.align=f(n.align,!a||l?"center":r?"right":"left"),n.verticalAlign=f(n.verticalAlign,a||l?"middle":r?"top":"bottom"),wn.prototype.alignDataLabel.call(this,e,t,n,i,o)},animate:function(e){var t=this,n=t.points,i=t.options;e||(en(n,function(e){var n=e.graphic,e=e.shapeArgs,o=t.yAxis,s=i.threshold;n&&(n.attr({height:0,y:d(s)?o.getThreshold(s):o.translate(o.getExtremes().min,0,1,0,1)}),n.animate({height:e.height,y:e.y},i.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&en(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),wn.prototype.remove.apply(e,arguments)}}),Gt.column=gn,hn.bar=sn(hn.column),_n=g(gn,{type:"bar",inverted:!0}),Gt.bar=_n,hn.scatter=sn(Xt,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),_n=g(wn,{type:"scatter",sorted:!1,requireSorting:!1,translate:function(){var e=this;wn.prototype.translate.apply(e),en(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){for(var e,t=this,n=t.options.cursor,n=n&&{cursor:n},i=t.points,o=i.length,s=t.markerGroup,a=function(e){t.onMouseOver(),e.target._i!==z&&i[e.target._i].onMouseOver()};o--;)(e=i[o].graphic)&&(e.element._i=o);t._hasTracking?t._hasTracking=!0:(s.attr({isTracker:!0}).on("mouseover",a).on("mouseout",function(){t.options.stickyTracking||t.onMouseOut()}).css(n),Mt&&s.on("touchstart",a))},setTooltipPoints:Lt}),Gt.scatter=_n,hn.pie=sn(Xt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),Lt={type:"pie",isCartesian:!1,pointClass:g(bn,{init:function(){bn.prototype.init.apply(this,arguments);var t,n=this;return e(n,{visible:n.visible!==!1,name:f(n.name,"Slice")}),t=function(){n.slice()},an(n,"select",t),an(n,"unselect",t),n},setVisible:function(e){var t,n=this.series,i=n.chart,o=this.tracker,s=this.dataLabel,a=this.connector,r=this.shadowGroup;t=(this.visible=e=e===z?!this.visible:e)?"show":"hide",this.group[t](),o&&o[t](),s&&s[t](),a&&a[t](),r&&r[t](),this.legendItem&&i.legend.colorizeItem(this,e),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,i.redraw())},slice:function(e,t,n){var i=this.series.chart,o=this.slicedTranslation;A(n,i),f(t,!0),e=this.sliced=d(e)?e:!this.sliced,e={translateX:e?o[0]:i.plotLeft,translateY:e?o[1]:i.plotTop},this.group.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this,t=e.startAngleRad;en(e.points,function(n){var i=n.graphic,n=n.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:t,end:t}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null},setData:function(e,t){wn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),f(t,!0)&&this.chart.redraw()},getCenter:function(){var e,t=this.options,i=this.chart,o=i.plotWidth,s=i.plotHeight,t=t.center.concat([t.size,t.innerSize||0]),a=pt(o,s);return on(t,function(t,i){return(e=/%$/.test(t))?[o,s,a,a][i]*n(t)/100:t})},translate:function(){this.generatePoints();var e,t,n,i,o,s,a=0,r=0,l=this.options,c=l.slicedOffset,d=c+l.borderWidth,u=this.chart,h=this.startAngleRad=yt/180*((l.startAngle||0)%360-90),f=this.points,p=2*yt,m=l.dataLabels.distance,g=l.ignoreHiddenPoint,v=f.length;for(this.center=e=this.getCenter(),this.getX=function(t,n){return i=ct.asin((t-e[1])/(e[2]/2+m)),e[0]+(n?-1:1)*gt(i)*(e[2]/2+m)},o=0;v>o;o++)s=f[o],a+=g&&!s.visible?0:s.y;for(o=0;v>o;o++)s=f[o],l=a?s.y/a:0,t=dt(1e3*(h+r*p))/1e3,(!g||s.visible)&&(r+=l),n=dt(1e3*(h+r*p))/1e3,s.shapeType="arc",s.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:t,end:n},i=(n+t)/2,i>.75*p&&(i-=2*yt),s.slicedTranslation=on([gt(i)*c+u.plotLeft,vt(i)*c+u.plotTop],dt),t=gt(i)*e[2]/2,n=vt(i)*e[2]/2,s.tooltipPos=[e[0]+.7*t,e[1]+.7*n],s.half=p/4>i?0:1,s.angle=i,s.labelPos=[e[0]+t+gt(i)*m,e[1]+n+vt(i)*m,e[0]+t+gt(i)*d,e[1]+n+vt(i)*d,e[0]+t,e[1]+n,0>m?"center":s.half?"right":"left",i],s.percentage=100*l,s.total=a;this.setTooltipPoints()},render:function(){this.getAttribs(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var t,n,i,o,s,a=this,r=a.chart,l=r.renderer,c=a.options.shadow;en(a.points,function(d){n=d.graphic,s=d.shapeArgs,i=d.group,o=d.shadowGroup,c&&!o&&(o=d.shadowGroup=l.g("shadow").attr({zIndex:4}).add()),i||(i=d.group=l.g("point").attr({zIndex:5}).add()),t=d.sliced?d.slicedTranslation:[r.plotLeft,r.plotTop],i.translate(t[0],t[1]),o&&o.translate(t[0],t[1]),n?n.animate(s):d.graphic=n=l.arc(s).setRadialReference(a.center).attr(e(d.pointAttr[""],{"stroke-linejoin":"round"})).add(d.group).shadow(c,o),d.visible===!1&&d.setVisible(!1)})},drawDataLabels:function(){var e,t,n,i,o,s,a,r=this.data,l=this.chart,c=this.options.dataLabels,d=f(c.connectorPadding,10),u=f(c.connectorWidth,1),h=f(c.softConnector,!0),p=c.distance,m=this.center,g=m[2]/2,v=m[1],y=p>0,b=[[],[]],w=2,_=function(e,t){return t.y-e.y},C=function(e,t){e.sort(function(e,n){return(n.angle-e.angle)*t})};if(c.enabled||this._hasPointLabels)for(wn.prototype.drawDataLabels.apply(this),en(r,function(e){e.dataLabel&&b[e.half].push(e)}),r=b[0][0]&&b[0][0].dataLabel&&(b[0][0].dataLabel.getBBox().height||21);w--;){var x,S=[],T=[],k=b[w],D=k.length;if(C(k,w-.5),p>0){for(a=v-g-p;v+g+p>=a;a+=r)S.push(a);if(s=S.length,D>s){for(n=[].concat(k),n.sort(_),a=D;a--;)n[a].rank=a;for(a=D;a--;)k[a].rank>=s&&k.splice(a,1);D=k.length}for(a=0;D>a;a++){for(e=k[a],n=e.labelPos,e=9999,o=0;s>o;o++)t=mt(S[o]-n[1]),e>t&&(e=t,x=o);if(a>x&&null!==S[a])x=a;else for(D-a+x>s&&null!==S[a]&&(x=s-D+a);null===S[x];)x++;T.push({i:x,y:S[x]}),S[x]=null}T.sort(_)}for(a=0;D>a;a++)e=k[a],n=e.labelPos,t=e.dataLabel,s=e.visible===!1?"hidden":"visible",i=n[1],p>0?(o=T.pop(),x=o.i,o=o.y,(i>o&&null!==S[x+1]||o>i&&null!==S[x-1])&&(o=i)):o=i,i=c.justify?m[0]+(w?-1:1)*(g+p):this.getX(0===x||x===S.length-1?i:o,w),t.attr({visibility:s,align:n[6]})[t.moved?"animate":"attr"]({x:i+c.x+({left:d,right:-d}[n[6]]||0),y:o+c.y-10}),t.moved=!0,y&&u&&(t=e.connector,n=h?["M",i+("left"===n[6]?5:-5),o,"C",i,o,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],"L",n[4],n[5]]:["M",i+("left"===n[6]?5:-5),o,"L",n[2],n[3],"L",n[4],n[5]],t?(t.animate({d:n}),t.attr("visibility",s)):e.connector=t=this.chart.renderer.path(n).attr({"stroke-width":u,stroke:c.connectorColor||e.color||"#606060",visibility:s,zIndex:3}).translate(l.plotLeft,l.plotTop).add())}},alignDataLabel:Lt,drawTracker:gn.prototype.drawTracker,drawLegendSymbol:Jt.prototype.drawLegendSymbol,getSymbol:function(){}},Lt=g(wn,Lt),Gt.pie=Lt,e(Highcharts,{Axis:F,CanVGRenderer:vn,Chart:$,Color:fn,Legend:B,MouseTracker:H,Point:bn,Tick:P,Tooltip:O,Renderer:j,Series:wn,SVGRenderer:pn,VMLRenderer:mn,arrayMin:S,arrayMax:T,charts:Rt,dateFormat:V,pathAnim:Y,getOptions:function(){return U},hasBidiBug:Et,isTouchDevice:kt,numberFormat:v,seriesTypes:Gt,setOptions:function(e){return U=sn(U,e),M(),U},addEvent:an,removeEvent:rn,createElement:m,discardElement:D,css:p,each:en,extend:e,map:on,merge:sn,pick:f,splat:h,extendClass:g,pInt:n,wrap:function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}},svg:Nt,canvas:At,vml:!Nt&&!At,product:"Highcharts",version:"2.3.5"})}(),/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(t,n){switch(this.element=e(t),this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in s?this.language:this.language.split("-")[0],this.language=this.language in s?this.language:"en",this.isRTL=s[this.language].rtl||!1,this.format=a.parseFormat(n.format||this.element.data("date-format")||s[this.language].format||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(a.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.viewMode=this.startViewMode=0,n.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1}if(this.minViewMode=n.minViewMode||this.element.data("date-min-view-mode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=this.startViewMode=Math.max(this.startViewMode,this.minViewMode),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in n?this.calendarWeeks=n.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||s[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.beforeShowDay=n.beforeShowDay||e.noop,this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.setRange(n.range),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i=0;e.length>i;i++)t=e[i][0],n=e[i][1],t.on(n)},_unapplyEvents:function(e){for(var t,n,i=0;e.length>i;i++)t=e[i][0],n=e[i][1],t.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(t){0===e(t.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this.element.trigger({type:"show",date:this.date})},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.startViewMode,this.showMode(),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e)},getFormattedDate:function(e){return void 0===e&&(e=this.format),a.formatDate(this.date,e,this.language)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=a.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=a.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):(e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=a.parseDate(e,this.format,this.language),t&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()}},fillDow:function(){var e=this.weekStart,t="<tr>";if(this.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;this.weekStart+7>e;)t+='<th class="dow">'+s[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+s[this.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=this.date.valueOf(),a=new Date;return i>t.getUTCFullYear()||t.getUTCFullYear()==i&&o>t.getUTCMonth()?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>o)&&n.push("new"),this.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()&&n.push("today"),s&&t.valueOf()==s&&n.push("active"),(t.valueOf()<this.startDate||t.valueOf()>this.endDate||-1!==e.inArray(t.getUTCDay(),this.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&this.range[this.range.length-1]>t&&n.push("range"),-1!=e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),l=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,c=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,d=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,u=1/0!==this.endDate?this.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(s[this.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(s[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=t(o,r-1,28,0,0,0,0),f=a.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.weekStart+7)%7);var p=new Date(h);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var m,g=[];p>h.valueOf();){if(h.getUTCDay()==this.weekStart&&(g.push("<tr>"),this.calendarWeeks)){var v=new Date(+h+864e5*((this.weekStart-h.getUTCDay()-7)%7)),y=new Date(+v+864e5*((11-v.getUTCDay())%7)),b=new Date(+(b=t(y.getUTCFullYear(),0,1))+864e5*((11-b.getUTCDay())%7)),w=(y-b)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(h),m.push("day");var _=this.beforeShowDay(h);void 0===_?_={}:"boolean"==typeof _?_={enabled:_}:"string"==typeof _&&(_={classes:_}),_.enabled===!1&&m.push("disabled"),_.classes&&(m=m.concat(_.classes.split(/\s+/))),_.tooltip&&(n=_.tooltip),m=e.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.weekEnd&&g.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var C=this.date&&this.date.getUTCFullYear(),x=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");C&&C==o&&x.eq(this.date.getUTCMonth()).addClass("active"),(l>o||o>d)&&x.addClass("disabled"),o==l&&x.slice(0,c).addClass("disabled"),o==d&&x.slice(u+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;11>T;T++)g+='<span class="year'+(-1==T||10==T?" old":"")+(C==o?" active":"")+(l>o||o>d?" disabled":"")+'">'+o+"</span>",o+=1;S.html(g)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=t&&this.startDate.getUTCMonth()>=n?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=t?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=e(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=a.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var s=new Date;s=t(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var r="linked"==this.todayBtn?null:"view";this._setDate(s,r)}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),d=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this.element.trigger({type:"changeMonth",date:this.viewDate}),1==this.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}else{var d=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(d),this.element.trigger({type:"changeYear",date:this.viewDate}),2==this.minViewMode&&this._setDate(t(d,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,d=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,d-=1):c-=1:i.is(".new")&&(11==c?(c=0,d+=1):c+=1),this._setDate(t(d,c,l,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var n,i,o=new Date(e.valueOf()),s=o.getUTCDate(),a=o.getUTCMonth(),r=Math.abs(t);if(t=t>0?1:-1,1==r)i=-1==t?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=n},n=a+t,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;r>l;l++)o=this.moveMonth(o,t);n=o.getUTCMonth(),o.setUTCDate(s),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--s),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&this.endDate>=e},keydown:function(e){if(this.picker.is(":not(:visible)"))return 27==e.keyCode&&this.show(),void 0;var t,n,i,o=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),o=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(o){this.element.trigger({type:"changeDate",date:this.date});var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+a.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var i=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};i.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){var n=(e(t.target).data("datepicker"),t.date),i=e.inArray(t.target,this.inputs),o=this.inputs.length;if(-1!=i){if(this.dates[i]>n)for(;i>=0&&this.dates[i]>n;)this.pickers[i--].setUTCDate(n);else if(n>this.dates[i])for(;o>i&&n>this.dates[i];)this.pickers[i++].setUTCDate(n);this.updateDates()}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var o=e.fn.datepicker;e.fn.datepicker=function(t){var o=Array.apply(null,arguments);return o.shift(),this.each(function(){var s=e(this),a=s.data("datepicker"),r="object"==typeof t&&t;if(!a)if(s.is(".input-daterange")||r.inputs){var l={inputs:r.inputs||s.find("input").toArray()};s.data("datepicker",a=new i(this,e.extend(l,e.fn.datepicker.defaults,r)))}else s.data("datepicker",a=new n(this,e.extend({},e.fn.datepicker.defaults,r)));"string"==typeof t&&"function"==typeof a[t]&&a[t].apply(a,o)})},e.fn.datepicker.defaults={},e.fn.datepicker.Constructor=n;var s=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}},a={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,a.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,o,a){if(i instanceof Date)return i;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var r,l,c=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var u=0;d.length>u;u++)switch(r=c.exec(d[u]),l=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=n.prototype.moveMonth.call(n.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=n.prototype.moveYear.call(n.prototype,i,l)}return t(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var h,f,r,d=i&&i.match(this.nonpunctuation)||[],i=new Date,p={},m=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};g.M=g.MM=g.mm=g.m,g.dd=g.d,i=t(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var v=o.parts.slice();if(d.length!=v.length&&(v=e(v).filter(function(t,n){return-1!==e.inArray(n,m)}).toArray()),d.length==v.length){for(var u=0,y=v.length;y>u;u++){if(h=parseInt(d[u],10),r=v[u],isNaN(h))switch(r){case"MM":f=e(s[a].months).filter(function(){var e=this.slice(0,d[u].length),t=d[u].slice(0,e.length);return e==t}),h=e.inArray(f[0],s[a].months)+1;break;case"M":f=e(s[a].monthsShort).filter(function(){var e=this.slice(0,d[u].length),t=d[u].slice(0,e.length);return e==t}),h=e.inArray(f[0],s[a].monthsShort)+1}p[r]=h}for(var b,u=0;m.length>u;u++)b=m[u],b in p&&!isNaN(p[b])&&g[b](i,p[b])}return i},formatDate:function(t,n,i){var o={d:t.getUTCDate(),D:s[i].daysShort[t.getUTCDay()],DD:s[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:s[i].monthsShort[t.getUTCMonth()],MM:s[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(10>o.d?"0":"")+o.d,o.mm=(10>o.m?"0":"")+o.m;for(var t=[],a=e.extend([],n.separators),r=0,l=n.parts.length;l>r;r++)a.length&&t.push(a.shift()),t.push(o[n.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};a.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+a.headTemplate+"<tbody></tbody>"+a.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=a,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=o,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),n.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(e){e.fn.datepicker.dates.bg={days:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота","Неделя"],daysShort:["Нед","Пон","Вто","Сря","Чет","Пет","Съб","Нед"],daysMin:["Н","П","В","С","Ч","П","С","Н"],months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthsShort:["Ян","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],today:"днес"}}(jQuery),function(e){e.fn.datepicker.dates.br={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}}(jQuery),function(e){e.fn.datepicker.dates.ca={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte","Diumenge"],daysShort:["Diu","Dil","Dmt","Dmc","Dij","Div","Dis","Diu"],daysMin:["dg","dl","dt","dc","dj","dv","ds","dg"],months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],today:"Avui"}}(jQuery),function(e){e.fn.datepicker.dates.cs={days:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Neděle"],daysShort:["Ned","Pon","Úte","Stř","Čtv","Pát","Sob","Ned"],daysMin:["Ne","Po","Út","St","Čt","Pá","So","Ne"],months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthsShort:["Led","Úno","Bře","Dub","Kvě","Čer","Čnc","Srp","Zář","Říj","Lis","Pro"],today:"Dnes"}}(jQuery),function(e){e.fn.datepicker.dates.da={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag"}}(jQuery),function(e){e.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",weekStart:1,format:"dd.mm.yyyy"}}(jQuery),function(e){e.fn.datepicker.dates.el={days:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο","Κυριακή"],daysShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ","Κυρ"],daysMin:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα","Κυ"],months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],monthsShort:["Ιαν","Φεβ","Μαρ","Απρ","Μάι","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],today:"Σήμερα"}}(jQuery),function(e){e.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"}}(jQuery),function(e){e.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"tänään"}}(jQuery),function(e){e.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(e){e.fn.datepicker.dates.he={days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"],daysShort:["א","ב","ג","ד","ה","ו","ש","א"],daysMin:["א","ב","ג","ד","ה","ו","ש","א"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],monthsShort:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],today:"היום",rtl:!0}}(jQuery),function(e){e.fn.datepicker.dates.hr={days:["Nedjelja","Ponedjelja","Utorak","Srijeda","Četrtak","Petak","Subota","Nedjelja"],daysShort:["Ned","Pon","Uto","Srr","Čet","Pet","Sub","Ned"],daysMin:["Ne","Po","Ut","Sr","Če","Pe","Su","Ne"],months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthsShort:["Sije","Velj","Ožu","Tra","Svi","Lip","Jul","Kol","Ruj","Lis","Stu","Pro"],today:"Danas"}}(jQuery),function(e){e.fn.datepicker.dates.hu={days:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat","Vasárnap"],daysShort:["Vas","Hét","Ked","Sze","Csü","Pén","Szo","Vas"],daysMin:["Va","Hé","Ke","Sz","Cs","Pé","Sz","Va"],months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],monthsShort:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sze","Okt","Nov","Dec"],today:"Ma",weekStart:1,format:"yyyy.mm.dd"}}(jQuery),function(e){e.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],daysShort:["Mgu","Sen","Sel","Rab","Kam","Jum","Sab","Mgu"],daysMin:["Mg","Sn","Sl","Ra","Ka","Ju","Sa","Mg"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"]}}(jQuery),function(e){e.fn.datepicker.dates.is={days:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur","Sunnudagur"],daysShort:["Sun","Mán","Þri","Mið","Fim","Fös","Lau","Sun"],daysMin:["Su","Má","Þr","Mi","Fi","Fö","La","Su"],months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],today:"Í Dag"}}(jQuery),function(e){e.fn.datepicker.dates.it={days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(e){e.fn.datepicker.dates.ja={days:["日曜","月曜","火曜","水曜","木曜","金曜","土曜","日曜"],daysShort:["日","月","火","水","木","金","土","日"],daysMin:["日","月","火","水","木","金","土","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",format:"yyyy/mm/dd"}}(jQuery),function(e){e.fn.datepicker.dates.kr={days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일요일"],daysShort:["일","월","화","수","목","금","토","일"],daysMin:["일","월","화","수","목","금","토","일"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}}(jQuery),function(e){e.fn.datepicker.dates.lt={days:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis","Sekmadienis"],daysShort:["S","Pr","A","T","K","Pn","Š","S"],daysMin:["Sk","Pr","An","Tr","Ke","Pn","Št","Sk"],months:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"],monthsShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],today:"Šiandien",weekStart:1}}(jQuery),function(e){e.fn.datepicker.dates.lv={days:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena","Svētdiena"],daysShort:["Sv","P","O","T","C","Pk","S","Sv"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","St","Sv"],months:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec."],today:"Šodien",weekStart:1}}(jQuery),function(e){e.fn.datepicker.dates.ms={days:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu","Ahad"],daysShort:["Aha","Isn","Sel","Rab","Kha","Jum","Sab","Aha"],daysMin:["Ah","Is","Se","Ra","Kh","Ju","Sa","Ah"],months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],today:"Hari Ini"}}(jQuery),function(e){e.fn.datepicker.dates.nb={days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I Dag"}}(jQuery),function(e){e.fn.datepicker.dates.nl={days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"}}(jQuery),function(e){e.fn.datepicker.dates.pl={days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","Śr","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","Śr","Cz","Pt","So","N"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1}}(jQuery),function(e){e.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje"}
}(jQuery),function(e){e.fn.datepicker.dates.pt={days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}}(jQuery),function(e){e.fn.datepicker.dates.ro={days:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă","Duminică"],daysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm","Dum"],daysMin:["Du","Lu","Ma","Mi","Jo","Vi","Sâ","Du"],months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthsShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],today:"Astăzi",weekStart:1}}(jQuery),function(e){e.fn.datepicker.dates.rs={days:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota","Nedelja"],daysShort:["Ned","Pon","Uto","Sre","Čet","Pet","Sub","Ned"],daysMin:["N","Po","U","Sr","Č","Pe","Su","N"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas"}}(jQuery),function(e){e.fn.datepicker.dates.rs={days:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота","Недеља"],daysShort:["Нед","Пон","Уто","Сре","Чет","Пет","Суб","Нед"],daysMin:["Н","По","У","Ср","Ч","Пе","Су","Н"],months:["Јануар","Фебруар","Март","Април","Мај","Јун","Јул","Август","Септембар","Октобар","Новембар","Децембар"],monthsShort:["Јан","Феб","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Нов","Дец"],today:"Данас"}}(jQuery),function(e){e.fn.datepicker.dates.ru={days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня"}}(jQuery),function(e){e.fn.datepicker.dates.sk={days:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota","Nedeľa"],daysShort:["Ned","Pon","Uto","Str","Štv","Pia","Sob","Ned"],daysMin:["Ne","Po","Ut","St","Št","Pia","So","Ne"],months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],today:"Dnes"}}(jQuery),function(e){e.fn.datepicker.dates.sl={days:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota","Nedelja"],daysShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob","Ned"],daysMin:["Ne","Po","To","Sr","Če","Pe","So","Ne"],months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danes"}}(jQuery),function(e){e.fn.datepicker.dates.sv={days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag","Söndag"],daysShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör","Sön"],daysMin:["Sö","Må","Ti","On","To","Fr","Lö","Sö"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag"}}(jQuery),function(e){e.fn.datepicker.dates.sw={days:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi","Jumapili"],daysShort:["J2","J3","J4","J5","Alh","Ij","J1","J2"],daysMin:["2","3","4","5","A","I","1","2"],months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],today:"Leo"}}(jQuery),function(e){e.fn.datepicker.dates.th={days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"],daysShort:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],daysMin:["อา","จ","อ","พ","พฤ","ศ","ส","อา"],months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthsShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],today:"วันนี้"}}(jQuery),function(e){e.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","Çrş","Prş","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","Çr","Pr","Cu","Ct","Pz"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],today:"Bugün"}}(jQuery),function(e){e.fn.datepicker.dates.uk={days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота","Неділя"],daysShort:["Нед","Пнд","Втр","Срд","Чтв","Птн","Суб","Нед"],daysMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нд"],months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthsShort:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],today:"Сьогодні"}}(jQuery),function(e){e.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日"}}(jQuery),function(e){e.fn.datepicker.dates["zh-TW"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}}(jQuery),function(e){var t=0;e(document).on("click",".add_fields",function(n){n.preventDefault();var i=e(this),o=i.data("association"),s=i.data("associations"),a=i.data("association-insertion-template"),r=i.data("association-insertion-method")||i.data("association-insertion-position")||"before";insertionNode=i.data("association-insertion-node"),insertionTraversal=i.data("association-insertion-traversal"),regexp_braced=new RegExp("\\[new_"+o+"\\](.*?\\s)","g"),regexp_underscord=new RegExp("_new_"+o+"_(\\w*)","g"),new_id=(new Date).getTime()+t++,newcontent_braced="["+new_id+"]",newcontent_underscord="_"+new_id+"_",new_content=a.replace(regexp_braced,"["+new_id+"]$1"),new_content==a&&(regexp_braced=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),regexp_underscord=new RegExp("_new_"+s+"_(\\w*)","g"),new_content=a.replace(regexp_braced,"["+new_id+"]$1")),new_content=new_content.replace(regexp_underscord,newcontent_underscord+"$1"),insertionNode=insertionNode?insertionTraversal?i[insertionTraversal](insertionNode):"this"==insertionNode?i:e(insertionNode):i.parent();var l=e(new_content);insertionNode.trigger("cocoon:before-insert",[l]),insertionNode[r](l),insertionNode.trigger("cocoon:after-insert",[l])}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var n=e(this),i=n.closest(".nested-fields"),o=i.parent();t.preventDefault(),o.trigger("cocoon:before-remove",[i]);var s=o.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?n.closest(".nested-fields").remove():(n.prev("input[type=hidden]").val("1"),n.closest(".nested-fields").hide()),o.trigger("cocoon:after-remove",[i])},s)})}(jQuery),/**
 * @summary     DataTables
 * @description Paginate, search and sort HTML tables
 * @version     1.9.4
 * @file        jquery.dataTables.js
 * @author      Allan Jardine (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 *
 * @copyright Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */
function(window,document,undefined){(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.dataTable&&e(jQuery)})(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(e,t){var n=DataTable.defaults.columns,i=e.aoColumns.length,o=$.extend({},DataTable.models.oColumn,n,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:document.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.oDefaults:i});if(e.aoColumns.push(o),e.aoPreSearchCols[i]===undefined||null===e.aoPreSearchCols[i])e.aoPreSearchCols[i]=$.extend({},DataTable.models.oSearch);else{var s=e.aoPreSearchCols[i];s.bRegex===undefined&&(s.bRegex=!0),s.bSmart===undefined&&(s.bSmart=!0),s.bCaseInsensitive===undefined&&(s.bCaseInsensitive=!0)}_fnColumnOptions(e,i,null)}function _fnColumnOptions(e,t,n){var i=e.aoColumns[t];n!==undefined&&null!==n&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==undefined&&(i.sType=n.sType,i._bAutoType=!1),$.extend(i,n),_fnMap(i,n,"sWidth","sWidthOrig"),n.iDataSort!==undefined&&(i.aDataSort=[n.iDataSort]),_fnMap(i,n,"aDataSort"));var o=i.mRender?_fnGetObjectDataFn(i.mRender):null,s=_fnGetObjectDataFn(i.mData);i.fnGetData=function(e,t){var n=s(e,t);return i.mRender&&t&&""!==t?o(n,t,e):n},i.fnSetData=_fnSetObjectDataFn(i.mData),e.oFeatures.bSort||(i.bSortable=!1),!i.bSortable||-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableNone,i.sSortingClassJUI=""):-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortable,i.sSortingClassJUI=e.oClasses.sSortJUI):-1!=$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableAsc,i.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",i.asSorting)&&-1!=$.inArray("desc",i.asSorting)&&(i.sSortingClass=e.oClasses.sSortableDesc,i.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(e){if(e.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;n>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function _fnVisibleToColumnIndex(e,t){var n=_fnGetColumns(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function _fnColumnIndexToVisible(e,t){var n=_fnGetColumns(e,"bVisible"),i=$.inArray(t,n);return-1!==i?i:null}function _fnVisbleColumns(e){return _fnGetColumns(e,"bVisible").length}function _fnGetColumns(e,t){var n=[];return $.map(e.aoColumns,function(e,i){e[t]&&n.push(i)}),n}function _fnDetectType(e){for(var t=DataTable.ext.aTypes,n=t.length,i=0;n>i;i++){var o=t[i](e);if(null!==o)return o}return"string"}function _fnReOrderIndex(e,t){for(var n=t.split(","),i=[],o=0,s=e.aoColumns.length;s>o;o++)for(var a=0;s>a;a++)if(e.aoColumns[o].sName==n[a]){i.push(a);break}return i}function _fnColumnOrdering(e){for(var t="",n=0,i=e.aoColumns.length;i>n;n++)t+=e.aoColumns[n].sName+",";return t.length==i?"":t.slice(0,-1)}function _fnApplyColumnDefs(e,t,n,i){var o,s,a,r,l,c;if(t)for(o=t.length-1;o>=0;o--){var d=t[o].aTargets;for($.isArray(d)||_fnLog(e,1,"aTargets must be an array of targets, not a "+typeof d),a=0,r=d.length;r>a;a++)if("number"==typeof d[a]&&d[a]>=0){for(;e.aoColumns.length<=d[a];)_fnAddColumn(e);i(d[a],t[o])}else if("number"==typeof d[a]&&0>d[a])i(e.aoColumns.length+d[a],t[o]);else if("string"==typeof d[a])for(l=0,c=e.aoColumns.length;c>l;l++)("_all"==d[a]||$(e.aoColumns[l].nTh).hasClass(d[a]))&&i(l,t[o])}if(n)for(o=0,s=n.length;s>o;o++)i(o,n[o])}function _fnAddData(e,t){var n,i=$.isArray(t)?t.slice():$.extend(!0,{},t),o=e.aoData.length,s=$.extend(!0,{},DataTable.models.oRow);s._aData=i,e.aoData.push(s);for(var a,r=0,l=e.aoColumns.length;l>r;r++)if(n=e.aoColumns[r],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?_fnSetCellData(e,o,r,_fnRender(e,o,r)):_fnSetCellData(e,o,r,_fnGetCellData(e,o,r)),n._bAutoType&&"string"!=n.sType){var c=_fnGetCellData(e,o,r,"type");null!==c&&""!==c&&(a=_fnDetectType(c),null===n.sType?n.sType=a:n.sType!=a&&"html"!=n.sType&&(n.sType="string"))}return e.aiDisplayMaster.push(o),e.oFeatures.bDeferRender||_fnCreateTr(e,o),o}function _fnGatherData(e){var t,n,i,o,s,a,r,l,c,d,u,h,f,p,m;if(e.bDeferLoading||null===e.sAjaxSource)for(r=e.nTBody.firstChild;r;){if("TR"==r.nodeName.toUpperCase())for(l=e.aoData.length,r._DT_RowIndex=l,e.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:r})),e.aiDisplayMaster.push(l),a=r.firstChild,i=0;a;)f=a.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&(_fnSetCellData(e,l,i,$.trim(a.innerHTML)),i++),a=a.nextSibling;r=r.nextSibling}for(s=_fnGetTrNodes(e),o=[],t=0,n=s.length;n>t;t++)for(a=s[t].firstChild;a;)f=a.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&o.push(a),a=a.nextSibling;for(u=0,h=e.aoColumns.length;h>u;u++){p=e.aoColumns[u],null===p.sTitle&&(p.sTitle=p.nTh.innerHTML);var g,v,y,b,w=p._bAutoType,_="function"==typeof p.fnRender,C=null!==p.sClass,x=p.bVisible;if(w||_||C||!x)for(c=0,d=e.aoData.length;d>c;c++)m=e.aoData[c],g=o[c*h+u],w&&"string"!=p.sType&&(b=_fnGetCellData(e,c,u,"type"),""!==b&&(v=_fnDetectType(b),null===p.sType?p.sType=v:p.sType!=v&&"html"!=p.sType&&(p.sType="string"))),p.mRender?g.innerHTML=_fnGetCellData(e,c,u,"display"):p.mData!==u&&(g.innerHTML=_fnGetCellData(e,c,u,"display")),_&&(y=_fnRender(e,c,u),g.innerHTML=y,p.bUseRendered&&_fnSetCellData(e,c,u,y)),C&&(g.className+=" "+p.sClass),x?m._anHidden[u]=null:(m._anHidden[u]=g,g.parentNode.removeChild(g)),p.fnCreatedCell&&p.fnCreatedCell.call(e.oInstance,g,_fnGetCellData(e,c,u,"display"),m._aData,c,u)}if(0!==e.aoRowCreatedCallback.length)for(t=0,n=e.aoData.length;n>t;t++)m=e.aoData[t],_fnCallbackFire(e,"aoRowCreatedCallback",null,[m.nTr,m._aData,t])}function _fnNodeToDataIndex(e,t){return t._DT_RowIndex!==undefined?t._DT_RowIndex:null}function _fnNodeToColumnIndex(e,t,n){for(var i=_fnGetTdNodes(e,t),o=0,s=e.aoColumns.length;s>o;o++)if(i[o]===n)return o;return-1}function _fnGetRowData(e,t,n,i){for(var o=[],s=0,a=i.length;a>s;s++)o.push(_fnGetCellData(e,t,i[s],n));return o}function _fnGetCellData(e,t,n,i){var o,s=e.aoColumns[n],a=e.aoData[t]._aData;if((o=s.fnGetData(a,i))===undefined)return e.iDrawError!=e.iDraw&&null===s.sDefaultContent&&(_fnLog(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),s.sDefaultContent;if(null===o&&null!==s.sDefaultContent)o=s.sDefaultContent;else if("function"==typeof o)return o();return"display"==i&&null===o?"":o}function _fnSetCellData(e,t,n,i){var o=e.aoColumns[n],s=e.aoData[t]._aData;o.fnSetData(s,i)}function _fnGetObjectDataFn(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,n,i){return e(t,n,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t){return t[e]};var t=function(e,n,i){var o,s,a,r=i.split(".");if(""!==i)for(var l=0,c=r.length;c>l;l++){if(o=r[l].match(__reArray)){r[l]=r[l].replace(__reArray,""),""!==r[l]&&(e=e[r[l]]),s=[],r.splice(0,l+1),a=r.join(".");for(var d=0,u=e.length;u>d;d++)s.push(t(e[d],n,a));var h=o[0].substring(1,o[0].length-1);e=""===h?s:s.join(h);break}if(null===e||e[r[l]]===undefined)return undefined;e=e[r[l]]}return e};return function(n,i){return t(n,i,e)}}function _fnSetObjectDataFn(e){if(null===e)return function(){};if("function"==typeof e)return function(t,n){e(t,"set",n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t,n){t[e]=n};var t=function(e,n,i){for(var o,s,a,r,l=i.split("."),c=0,d=l.length-1;d>c;c++){if(s=l[c].match(__reArray)){l[c]=l[c].replace(__reArray,""),e[l[c]]=[],o=l.slice(),o.splice(0,c+1),r=o.join(".");for(var u=0,h=n.length;h>u;u++)a={},t(a,n[u],r),e[l[c]].push(a);return}(null===e[l[c]]||e[l[c]]===undefined)&&(e[l[c]]={}),e=e[l[c]]}e[l[l.length-1].replace(__reArray,"")]=n};return function(n,i){return t(n,i,e)}}function _fnGetDataMaster(e){for(var t=[],n=e.aoData.length,i=0;n>i;i++)t.push(e.aoData[i]._aData);return t}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),_fnCalculateEnd(e)}function _fnDeleteIndex(e,t){for(var n=-1,i=0,o=e.length;o>i;i++)e[i]==t?n=i:e[i]>t&&e[i]--;-1!=n&&e.splice(n,1)}function _fnRender(e,t,n){var i=e.aoColumns[n];return i.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:i.mData},_fnGetCellData(e,t,n,"display"))}function _fnCreateTr(e,t){var n,i=e.aoData[t];if(null===i.nTr){i.nTr=document.createElement("tr"),i.nTr._DT_RowIndex=t,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var o=0,s=e.aoColumns.length;s>o;o++){var a=e.aoColumns[o];n=document.createElement(a.sCellType),n.innerHTML="function"!=typeof a.fnRender||a.bUseRendered&&null!==a.mData?_fnGetCellData(e,t,o,"display"):_fnRender(e,t,o),null!==a.sClass&&(n.className=a.sClass),a.bVisible?(i.nTr.appendChild(n),i._anHidden[o]=null):i._anHidden[o]=n,a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,n,_fnGetCellData(e,t,o,"display"),i._aData,t,o)}_fnCallbackFire(e,"aoRowCreatedCallback",null,[i.nTr,i._aData,t])}}function _fnBuildHead(e){var t,n,i,o=$("th, td",e.nTHead).length;if(0!==o)for(t=0,i=e.aoColumns.length;i>t;t++)n=e.aoColumns[t].nTh,n.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(n.setAttribute("tabindex",e.iTabIndex),n.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&$(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{var s=document.createElement("tr");for(t=0,i=e.aoColumns.length;i>t;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,n.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&$(n).addClass(e.aoColumns[t].sClass),s.appendChild(n);$(e.nTHead).html("")[0].appendChild(s),_fnDetectHeader(e.aoHeader,e.nTHead)}if($(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,i=e.aoColumns.length;i>t;t++){n=e.aoColumns[t].nTh;var a=document.createElement("div");a.className=e.oClasses.sSortJUIWrapper,$(n).contents().appendTo(a);var r=document.createElement("span");r.className=e.oClasses.sSortIcon,a.appendChild(r),n.appendChild(a)}if(e.oFeatures.bSort)for(t=0;e.aoColumns.length>t;t++)e.aoColumns[t].bSortable!==!1?_fnSortAttachListener(e,e.aoColumns[t].nTh,t):$(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&$(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot){var l=_fnGetUniqueThs(e,null,e.aoFooter);for(t=0,i=e.aoColumns.length;i>t;t++)l[t]&&(e.aoColumns[t].nTf=l[t],e.aoColumns[t].sClass&&$(l[t]).addClass(e.aoColumns[t].sClass))}}function _fnDrawHead(e,t,n){var i,o,s,a,r,l,c,d,u,h=[],f=[],p=e.aoColumns.length;for(n===undefined&&(n=!1),i=0,o=t.length;o>i;i++){for(h[i]=t[i].slice(),h[i].nTr=t[i].nTr,s=p-1;s>=0;s--)e.aoColumns[s].bVisible||n||h[i].splice(s,1);f.push([])}for(i=0,o=h.length;o>i;i++){if(c=h[i].nTr)for(;l=c.firstChild;)c.removeChild(l);for(s=0,a=h[i].length;a>s;s++)if(d=1,u=1,f[i][s]===undefined){for(c.appendChild(h[i][s].cell),f[i][s]=1;h[i+d]!==undefined&&h[i][s].cell==h[i+d][s].cell;)f[i+d][s]=1,d++;for(;h[i][s+u]!==undefined&&h[i][s].cell==h[i][s+u].cell;){for(r=0;d>r;r++)f[i+r][s+u]=1;u++}h[i][s].cell.rowSpan=d,h[i][s].cell.colSpan=u}}}function _fnDraw(e){var t=_fnCallbackFire(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==$.inArray(!1,t))return _fnProcessingDisplay(e,!1),void 0;var n,i,o,s=[],a=0,r=e.asStripeClasses.length,l=e.aoOpenRows.length;if(e.bDrawing=!0,e.iInitDisplayStart!==undefined&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,_fnCalculateEnd(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!_fnAjaxUpdate(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var c=e._iDisplayStart,d=e._iDisplayEnd;e.oFeatures.bServerSide&&(c=0,d=e.aoData.length);for(var u=c;d>u;u++){var h=e.aoData[e.aiDisplay[u]];null===h.nTr&&_fnCreateTr(e,e.aiDisplay[u]);var f=h.nTr;if(0!==r){var p=e.asStripeClasses[a%r];h._sRowStripe!=p&&($(f).removeClass(h._sRowStripe).addClass(p),h._sRowStripe=p)}if(_fnCallbackFire(e,"aoRowCallback",null,[f,e.aoData[e.aiDisplay[u]]._aData,a,u]),s.push(f),a++,0!==l)for(var m=0;l>m;m++)if(f==e.aoOpenRows[m].nParent){s.push(e.aoOpenRows[m].nTr);break}}}else{s[0]=document.createElement("tr"),e.asStripeClasses[0]&&(s[0].className=e.asStripeClasses[0]);var g=e.oLanguage,v=g.sZeroRecords;1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?g.sEmptyTable&&0===e.fnRecordsTotal()&&(v=g.sEmptyTable):v=g.sLoadingRecords;var y=document.createElement("td");y.setAttribute("valign","top"),y.colSpan=_fnVisbleColumns(e),y.className=e.oClasses.sRowEmpty,y.innerHTML=_fnInfoMacros(e,v),s[a].appendChild(y)}_fnCallbackFire(e,"aoHeaderCallback","header",[$(e.nTHead).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),_fnCallbackFire(e,"aoFooterCallback","footer",[$(e.nTFoot).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);var b,w=document.createDocumentFragment(),_=document.createDocumentFragment();if(e.nTBody){if(b=e.nTBody.parentNode,_.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;o=e.nTBody.firstChild;)e.nTBody.removeChild(o);for(n=0,i=s.length;i>n;n++)w.appendChild(s[n]);e.nTBody.appendChild(w),null!==b&&b.appendChild(e.nTBody)}_fnCallbackFire(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(_fnProcessingDisplay(e,!1),e._bInitComplete||_fnInitComplete(e))}function _fnReDraw(e){e.oFeatures.bSort?_fnSort(e,e.oPreviousSearch):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(_fnCalculateEnd(e),_fnDraw(e))}function _fnAddOptionsHtml(e){var t=$("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=$('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var n,i,o,s,a,r,l,c=e.nTableWrapper,d=e.sDom.split(""),u=0;d.length>u;u++){if(i=0,o=d[u],"<"==o){if(s=$("<div></div>")[0],a=d[u+1],"'"==a||'"'==a){for(r="",l=2;d[u+l]!=a;)r+=d[u+l],l++;if("H"==r?r=e.oClasses.sJUIHeader:"F"==r&&(r=e.oClasses.sJUIFooter),-1!=r.indexOf(".")){var h=r.split(".");s.id=h[0].substr(1,h[0].length-1),s.className=h[1]}else"#"==r.charAt(0)?s.id=r.substr(1,r.length-1):s.className=r;u+=l}c.appendChild(s),c=s}else if(">"==o)c=c.parentNode;else if("l"==o&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)n=_fnFeatureHtmlLength(e),i=1;else if("f"==o&&e.oFeatures.bFilter)n=_fnFeatureHtmlFilter(e),i=1;else if("r"==o&&e.oFeatures.bProcessing)n=_fnFeatureHtmlProcessing(e),i=1;else if("t"==o)n=_fnFeatureHtmlTable(e),i=1;else if("i"==o&&e.oFeatures.bInfo)n=_fnFeatureHtmlInfo(e),i=1;else if("p"==o&&e.oFeatures.bPaginate)n=_fnFeatureHtmlPaginate(e),i=1;else if(0!==DataTable.ext.aoFeatures.length)for(var f=DataTable.ext.aoFeatures,p=0,m=f.length;m>p;p++)if(o==f[p].cFeature){n=f[p].fnInit(e),n&&(i=1);break}1==i&&null!==n&&("object"!=typeof e.aanFeatures[o]&&(e.aanFeatures[o]=[]),e.aanFeatures[o].push(n),c.appendChild(n))}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnDetectHeader(e,t){var n,i,o,s,a,r,l,c,d,u,h,f=$(t).children("tr"),p=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(e.splice(0,e.length),o=0,r=f.length;r>o;o++)e.push([]);for(o=0,r=f.length;r>o;o++)for(n=f[o],c=0,i=n.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(d=1*i.getAttribute("colspan"),u=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,l=p(e,o,c),h=1===d?!0:!1,a=0;d>a;a++)for(s=0;u>s;s++)e[o+s][l+a]={cell:i,unique:h},e[o+s].nTr=n;i=i.nextSibling}}function _fnGetUniqueThs(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],_fnDetectHeader(n,t)));for(var o=0,s=n.length;s>o;o++)for(var a=0,r=n[o].length;r>a;a++)!n[o][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[o][a].cell);return i}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++,_fnProcessingDisplay(e,!0),e.aoColumns.length;var t=_fnAjaxParameters(e);return _fnServerParams(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){_fnAjaxUpdateDraw(e,t)},e),!1}return!0}function _fnAjaxParameters(e){var t,n,i,o,s,a=e.aoColumns.length,r=[];for(r.push({name:"sEcho",value:e.iDraw}),r.push({name:"iColumns",value:a}),r.push({name:"sColumns",value:_fnColumnOrdering(e)}),r.push({name:"iDisplayStart",value:e._iDisplayStart}),r.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1}),o=0;a>o;o++)t=e.aoColumns[o].mData,r.push({name:"mDataProp_"+o,value:"function"==typeof t?"function":t});if(e.oFeatures.bFilter!==!1)for(r.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),r.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),o=0;a>o;o++)r.push({name:"sSearch_"+o,value:e.aoPreSearchCols[o].sSearch}),r.push({name:"bRegex_"+o,value:e.aoPreSearchCols[o].bRegex}),r.push({name:"bSearchable_"+o,value:e.aoColumns[o].bSearchable});if(e.oFeatures.bSort!==!1){var l=0;for(n=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),o=0;n.length>o;o++)for(i=e.aoColumns[n[o][0]].aDataSort,s=0;i.length>s;s++)r.push({name:"iSortCol_"+l,value:i[s]}),r.push({name:"sSortDir_"+l,value:n[o][1]}),l++;for(r.push({name:"iSortingCols",value:l}),o=0;a>o;o++)r.push({name:"bSortable_"+o,value:e.aoColumns[o].bSortable})}return r}function _fnServerParams(e,t){_fnCallbackFire(e,"aoServerParams","serverParams",[t])}function _fnAjaxUpdateDraw(e,t){if(t.sEcho!==undefined){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&_fnClearTable(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var n,i=_fnColumnOrdering(e),o=t.sColumns!==undefined&&""!==i&&t.sColumns!=i;o&&(n=_fnReOrderIndex(e,t.sColumns));for(var s=_fnGetObjectDataFn(e.sAjaxDataProp)(t),a=0,r=s.length;r>a;a++)if(o){for(var l=[],c=0,d=e.aoColumns.length;d>c;c++)l.push(s[a][n[c]]);_fnAddData(e,l)}else _fnAddData(e,s[a]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,_fnDraw(e),e.bAjaxDataGet=!0,_fnProcessingDisplay(e,!1)}function _fnFeatureHtmlFilter(e){var t=e.oPreviousSearch,n=e.oLanguage.sSearch;n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />';var i=document.createElement("div");i.className=e.oClasses.sFilter,i.innerHTML="<label>"+n+"</label>",e.aanFeatures.f||(i.id=e.sTableId+"_filter");var o=$('input[type="text"]',i);return i._DT_Input=o[0],o.val(t.sSearch.replace('"',"&quot;")),o.bind("keyup.DT",function(){for(var n=e.aanFeatures.f,i=""===this.value?"":this.value,o=0,s=n.length;s>o;o++)n[o]!=$(this).parents("div.dataTables_filter")[0]&&$(n[o]._DT_Input).val(i);i!=t.sSearch&&_fnFilterComplete(e,{sSearch:i,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),o.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}),i}function _fnFilterComplete(e,t,n){var i=e.oPreviousSearch,o=e.aoPreSearchCols,s=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)s(t);else{_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),s(t);for(var a=0;e.aoPreSearchCols.length>a;a++)_fnFilterColumn(e,o[a].sSearch,a,o[a].bRegex,o[a].bSmart,o[a].bCaseInsensitive);_fnFilterCustom(e)}e.bFiltered=!0,$(e.oInstance).trigger("filter",e),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e),_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){for(var t=DataTable.ext.afnFiltering,n=_fnGetColumns(e,"bSearchable"),i=0,o=t.length;o>i;i++)for(var s=0,a=0,r=e.aiDisplay.length;r>a;a++){var l=e.aiDisplay[a-s],c=t[i](e,_fnGetRowData(e,l,"filter",n),l);c||(e.aiDisplay.splice(a-s,1),s++)}}function _fnFilterColumn(e,t,n,i,o,s){if(""!==t)for(var a=0,r=_fnFilterCreateSearch(t,i,o,s),l=e.aiDisplay.length-1;l>=0;l--){var c=_fnDataToSearch(_fnGetCellData(e,e.aiDisplay[l],n,"filter"),e.aoColumns[n].sType);r.test(c)||(e.aiDisplay.splice(l,1),a++)}}function _fnFilter(e,t,n,i,o,s){var a,r=_fnFilterCreateSearch(t,i,o,s),l=e.oPreviousSearch;if(n||(n=0),0!==DataTable.ext.afnFiltering.length&&(n=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||l.sSearch.length>t.length||1==n||0!==t.indexOf(l.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),_fnBuildSearchArray(e,1),a=0;e.aiDisplayMaster.length>a;a++)r.test(e.asDataSearch[a])&&e.aiDisplay.push(e.aiDisplayMaster[a]);else{var c=0;for(a=0;e.asDataSearch.length>a;a++)r.test(e.asDataSearch[a])||(e.aiDisplay.splice(a-c,1),c++)}}function _fnBuildSearchArray(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var n=_fnGetColumns(e,"bSearchable"),i=1===t?e.aiDisplayMaster:e.aiDisplay,o=0,s=i.length;s>o;o++)e.asDataSearch[o]=_fnBuildSearchRow(e,_fnGetRowData(e,i[o],"filter",n))}}function _fnBuildSearchRow(e,t){var n=t.join("  ");return-1!==n.indexOf("&")&&(n=$("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(e,t,n,i){var o,s;return n?(o=t?e.split(" "):_fnEscapeRegex(e).split(" "),s="^(?=.*?"+o.join(")(?=.*?")+").*$",new RegExp(s,i?"i":"")):(e=t?e:_fnEscapeRegex(e),new RegExp(e,i?"i":""))}function _fnDataToSearch(e,t){return"function"==typeof DataTable.ext.ofnSearch[t]?DataTable.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function _fnUpdateInfo(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,n=e.oLanguage,i=e._iDisplayStart+1,o=e.fnDisplayEnd(),s=e.fnRecordsTotal(),a=e.fnRecordsDisplay();t=0===a?n.sInfoEmpty:n.sInfo,a!=s&&(t+=" "+n.sInfoFiltered),t+=n.sInfoPostFix,t=_fnInfoMacros(e,t),null!==n.fnInfoCallback&&(t=n.fnInfoCallback.call(e.oInstance,e,i,o,s,a,t));for(var r=e.aanFeatures.i,l=0,c=r.length;c>l;l++)$(r[l]).html(t)}}function _fnInfoMacros(e,t){var n=e._iDisplayStart+1,i=e.fnFormatNumber(n),o=e.fnDisplayEnd(),s=e.fnFormatNumber(o),a=e.fnRecordsDisplay(),r=e.fnFormatNumber(a),l=e.fnRecordsTotal(),c=e.fnFormatNumber(l);return e.oScroll.bInfinite&&(i=e.fnFormatNumber(1)),t.replace(/_START_/g,i).replace(/_END_/g,s).replace(/_TOTAL_/g,r).replace(/_MAX_/g,c)}function _fnInitialise(e){var t,n,i=e.iInitDisplayStart;if(e.bInitialised===!1)return setTimeout(function(){_fnInitialise(e)},200),void 0;for(_fnAddOptionsHtml(e),_fnBuildHead(e),_fnDrawHead(e,e.aoHeader),e.nTFoot&&_fnDrawHead(e,e.aoFooter),_fnProcessingDisplay(e,!0),e.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(e),t=0,n=e.aoColumns.length;n>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth));if(e.oFeatures.bSort?_fnSort(e):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),null!==e.sAjaxSource&&!e.oFeatures.bServerSide){var o=[];return _fnServerParams(e,o),e.fnServerData.call(e.oInstance,e.sAjaxSource,o,function(n){var o=""!==e.sAjaxDataProp?_fnGetObjectDataFn(e.sAjaxDataProp)(n):n;for(t=0;o.length>t;t++)_fnAddData(e,o[t]);e.iInitDisplayStart=i,e.oFeatures.bSort?_fnSort(e):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),_fnProcessingDisplay(e,!1),_fnInitComplete(e,n)},e),void 0}e.oFeatures.bServerSide||(_fnProcessingDisplay(e,!1),_fnInitComplete(e))}function _fnInitComplete(e,t){e._bInitComplete=!0,_fnCallbackFire(e,"aoInitComplete","init",[e,t])}function _fnLanguageCompat(e){var t=DataTable.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&_fnMap(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&_fnMap(e,e,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite)return null;var t,n,i='name="'+e.sTableId+'_length"',o='<select size="1" '+i+">",s=e.aLengthMenu;if(2==s.length&&"object"==typeof s[0]&&"object"==typeof s[1])for(t=0,n=s[0].length;n>t;t++)o+='<option value="'+s[0][t]+'">'+s[1][t]+"</option>";else for(t=0,n=s.length;n>t;t++)o+='<option value="'+s[t]+'">'+s[t]+"</option>";o+="</select>";var a=document.createElement("div");return e.aanFeatures.l||(a.id=e.sTableId+"_length"),a.className=e.oClasses.sLength,a.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",o)+"</label>",$('select option[value="'+e._iDisplayLength+'"]',a).attr("selected",!0),$("select",a).bind("change.DT",function(){var i=$(this).val(),o=e.aanFeatures.l;for(t=0,n=o.length;n>t;t++)o[t]!=this.parentNode&&$("select",o[t]).val(i);e._iDisplayLength=parseInt(i,10),_fnCalculateEnd(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,0>e._iDisplayStart&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),_fnDraw(e)}),$("select",a).attr("aria-controls",e.sTableId),a}function _fnCalculateEnd(e){e._iDisplayEnd=e.oFeatures.bPaginate===!1?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite)return null;var t=document.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,DataTable.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e),_fnDraw(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){DataTable.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e),_fnDraw(e)})},sName:"pagination"}),t}function _fnPageChange(e,t){var n=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(e._iDisplayLength>=0){var i=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(i-1)*e._iDisplayLength}else e._iDisplayStart=0;else _fnLog(e,0,"Unknown paging action: "+t);return $(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing)for(var n=e.aanFeatures.r,i=0,o=n.length;o>i;i++)n[i].style.visibility=t?"visible":"hidden";$(e.oInstance).trigger("processing",[e,t])}function _fnFeatureHtmlTable(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),r=e.nTable.cloneNode(!1),l=e.nTable.cloneNode(!1),c=e.nTable.getElementsByTagName("thead")[0],d=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],u=e.oClasses;n.appendChild(i),s.appendChild(a),o.appendChild(e.nTable),t.appendChild(n),t.appendChild(o),i.appendChild(r),r.appendChild(c),null!==d&&(t.appendChild(s),a.appendChild(l),l.appendChild(d)),t.className=u.sScrollWrapper,n.className=u.sScrollHead,i.className=u.sScrollHeadInner,o.className=u.sScrollBody,s.className=u.sScrollFoot,a.className=u.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",s.style.overflow="hidden",o.style.overflow="auto"),n.style.border="0",n.style.width="100%",s.style.border="0",i.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",r.removeAttribute("id"),r.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==d&&(l.removeAttribute("id"),l.style.marginLeft="0");var h=$(e.nTable).children("caption");return h.length>0&&(h=h[0],"top"===h._captionSide?r.appendChild(h):"bottom"===h._captionSide&&d&&l.appendChild(h)),""!==e.oScroll.sX&&(n.style.width=_fnStringToCss(e.oScroll.sX),o.style.width=_fnStringToCss(e.oScroll.sX),null!==d&&(s.style.width=_fnStringToCss(e.oScroll.sX)),$(o).scroll(function(){n.scrollLeft=this.scrollLeft,null!==d&&(s.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(o.style.height=_fnStringToCss(e.oScroll.sY)),e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),e.oScroll.bInfinite&&$(o).scroll(function(){e.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(_fnPageChange(e,"next"),_fnCalculateEnd(e),_fnDraw(e))}),e.nScrollHead=n,e.nScrollFoot=s,t}function _fnScrollDraw(e){var t,n,i,o,s,a,r,l,c,d,u,h=e.nScrollHead.getElementsByTagName("div")[0],f=h.getElementsByTagName("table")[0],p=e.nTable.parentNode,m=[],g=[],v=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,y=null!==e.nTFoot?v.getElementsByTagName("table")[0]:null,b=e.oBrowser.bScrollOversize,w=function(e){r=e.style,r.paddingTop="0",r.paddingBottom="0",r.borderTopWidth="0",r.borderBottomWidth="0",r.height=0};$(e.nTable).children("thead, tfoot").remove(),c=$(e.nTHead).clone()[0],e.nTable.insertBefore(c,e.nTable.childNodes[0]),i=e.nTHead.getElementsByTagName("tr"),o=c.getElementsByTagName("tr"),null!==e.nTFoot&&(d=$(e.nTFoot).clone()[0],e.nTable.insertBefore(d,e.nTable.childNodes[1]),a=e.nTFoot.getElementsByTagName("tr"),s=d.getElementsByTagName("tr")),""===e.oScroll.sX&&(p.style.width="100%",h.parentNode.style.width="100%");var _=_fnGetUniqueThs(e,c);for(t=0,n=_.length;n>t;t++)l=_fnVisibleToColumnIndex(e,t),_[t].style.width=e.aoColumns[l].sWidth;if(null!==e.nTFoot&&_fnApplyToChildren(function(e){e.style.width=""},s),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(p.style.height=p.offsetHeight+e.nTHead.offsetHeight+"px"),u=$(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",b&&($("tbody",p).height()>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner):u==$(p).width()&&$(p).height()<$(e.nTable).height()?(e.nTable.style.width=_fnStringToCss(u-e.oScroll.iBarWidth),$(e.nTable).outerWidth()>u-e.oScroll.iBarWidth&&(e.nTable.style.width=_fnStringToCss(u))):e.nTable.style.width=_fnStringToCss(u),u=$(e.nTable).outerWidth(),_fnApplyToChildren(w,o),_fnApplyToChildren(function(e){m.push(_fnStringToCss($(e).width()))},o),_fnApplyToChildren(function(e,t){e.style.width=m[t]},i),$(o).height(0),null!==e.nTFoot&&(_fnApplyToChildren(w,s),_fnApplyToChildren(function(e){g.push(_fnStringToCss($(e).width()))},s),_fnApplyToChildren(function(e,t){e.style.width=g[t]},a),$(s).height(0)),_fnApplyToChildren(function(e,t){e.innerHTML="",e.style.width=m[t]},o),null!==e.nTFoot&&_fnApplyToChildren(function(e,t){e.innerHTML="",e.style.width=g[t]},s),u>$(e.nTable).outerWidth()){var C=p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y")?u+e.oScroll.iBarWidth:u;b&&(p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(e.nTable.style.width=_fnStringToCss(C-e.oScroll.iBarWidth)),p.style.width=_fnStringToCss(C),e.nScrollHead.style.width=_fnStringToCss(C),null!==e.nTFoot&&(e.nScrollFoot.style.width=_fnStringToCss(C)),""===e.oScroll.sX?_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else p.style.width=_fnStringToCss("100%"),e.nScrollHead.style.width=_fnStringToCss("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=_fnStringToCss("100%"));
if(""===e.oScroll.sY&&b&&(p.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse){p.style.height=_fnStringToCss(e.oScroll.sY);var x=""!==e.oScroll.sX&&e.nTable.offsetWidth>p.offsetWidth?e.oScroll.iBarWidth:0;e.nTable.offsetHeight<p.offsetHeight&&(p.style.height=_fnStringToCss(e.nTable.offsetHeight+x))}var S=$(e.nTable).outerWidth();f.style.width=_fnStringToCss(S),h.style.width=_fnStringToCss(S);var T=$(e.nTable).height()>p.clientHeight||"scroll"==$(p).css("overflow-y");h.style.paddingRight=T?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(y.style.width=_fnStringToCss(S),v.style.width=_fnStringToCss(S),v.style.paddingRight=T?e.oScroll.iBarWidth+"px":"0px"),$(p).scroll(),(e.bSorted||e.bFiltered)&&(p.scrollTop=0)}function _fnApplyToChildren(e,t,n){for(var i,o,s=0,a=0,r=t.length;r>a;){for(i=t[a].firstChild,o=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,o,s):e(i,s),s++),i=i.nextSibling,o=n?o.nextSibling:null;a++}}function _fnConvertToWidth(e,t){if(!e||null===e||""===e)return 0;t||(t=document.body);var n,i=document.createElement("div");return i.style.width=_fnStringToCss(e),t.appendChild(i),n=i.offsetWidth,t.removeChild(i),n}function _fnCalculateColumnWidths(e){e.nTable.offsetWidth;var t,n,i,o,s=0,a=0,r=e.aoColumns.length,l=$("th",e.nTHead),c=e.nTable.getAttribute("width"),d=e.nTable.parentNode;for(n=0;r>n;n++)e.aoColumns[n].bVisible&&(a++,null!==e.aoColumns[n].sWidth&&(t=_fnConvertToWidth(e.aoColumns[n].sWidthOrig,d),null!==t&&(e.aoColumns[n].sWidth=_fnStringToCss(t)),s++));if(r==l.length&&0===s&&a==r&&""===e.oScroll.sX&&""===e.oScroll.sY)for(n=0;e.aoColumns.length>n;n++)t=$(l[n]).width(),null!==t&&(e.aoColumns[n].sWidth=_fnStringToCss(t));else{var u=e.nTable.cloneNode(!1),h=e.nTHead.cloneNode(!0),f=document.createElement("tbody"),p=document.createElement("tr");u.removeAttribute("id"),u.appendChild(h),null!==e.nTFoot&&(u.appendChild(e.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(e){e.style.width=""},u.getElementsByTagName("tr"))),u.appendChild(f),f.appendChild(p);var m=$("thead th",u);0===m.length&&(m=$("tbody tr:eq(0)>td",u));var g=_fnGetUniqueThs(e,h);for(i=0,n=0;r>n;n++){var v=e.aoColumns[n];v.bVisible&&null!==v.sWidthOrig&&""!==v.sWidthOrig?g[n-i].style.width=_fnStringToCss(v.sWidthOrig):v.bVisible?g[n-i].style.width="":i++}for(n=0;r>n;n++)if(e.aoColumns[n].bVisible){var y=_fnGetWidestNode(e,n);null!==y&&(y=y.cloneNode(!0),""!==e.aoColumns[n].sContentPadding&&(y.innerHTML+=e.aoColumns[n].sContentPadding),p.appendChild(y))}d.appendChild(u),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?u.style.width=_fnStringToCss(e.oScroll.sXInner):""!==e.oScroll.sX?(u.style.width="",$(u).width()<d.offsetWidth&&(u.style.width=_fnStringToCss(d.offsetWidth))):""!==e.oScroll.sY?u.style.width=_fnStringToCss(d.offsetWidth):c&&(u.style.width=_fnStringToCss(c)),u.style.visibility="hidden",_fnScrollingWidthAdjust(e,u);var b=$("tbody tr:eq(0)",u).children();if(0===b.length&&(b=_fnGetUniqueThs(e,$("thead",u)[0])),""!==e.oScroll.sX){var w=0;for(i=0,n=0;e.aoColumns.length>n;n++)e.aoColumns[n].bVisible&&(w+=null===e.aoColumns[n].sWidthOrig?$(b[i]).outerWidth():parseInt(e.aoColumns[n].sWidth.replace("px",""),10)+($(b[i]).outerWidth()-$(b[i]).width()),i++);u.style.width=_fnStringToCss(w),e.nTable.style.width=_fnStringToCss(w)}for(i=0,n=0;e.aoColumns.length>n;n++)e.aoColumns[n].bVisible&&(o=$(b[i]).width(),null!==o&&o>0&&(e.aoColumns[n].sWidth=_fnStringToCss(o)),i++);var _=$(u).css("width");e.nTable.style.width=-1!==_.indexOf("%")?_:_fnStringToCss($(u).outerWidth()),u.parentNode.removeChild(u)}c&&(e.nTable.style.width=_fnStringToCss(c))}function _fnScrollingWidthAdjust(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?($(t).width(),t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=_fnStringToCss($(t).outerWidth()))}function _fnGetWidestNode(e,t){var n=_fnGetMaxLenString(e,t);if(0>n)return null;if(null===e.aoData[n].nTr){var i=document.createElement("td");return i.innerHTML=_fnGetCellData(e,n,t,""),i}return _fnGetTdNodes(e,n)[t]}function _fnGetMaxLenString(e,t){for(var n=-1,i=-1,o=0;e.aoData.length>o;o++){var s=_fnGetCellData(e,o,t,"display")+"";s=s.replace(/<.*?>/g,""),s.length>n&&(n=s.length,i=o)}return i}function _fnStringToCss(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function _fnScrollBarWidth(){var e=document.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=document.createElement("div");t=n.style,t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;return i==o&&(o=n.clientWidth),document.body.removeChild(n),i-o}function _fnSort(e,t){var n,i,o,s,a,r,l,c,d=[],u=[],h=DataTable.ext.oSort,f=e.aoData,p=e.aoColumns,m=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(d=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),n=0;d.length>n;n++){var g=d[n][0],v=_fnColumnIndexToVisible(e,g);if(l=e.aoColumns[g].sSortDataType,DataTable.ext.afnSortData[l]){var y=DataTable.ext.afnSortData[l].call(e.oInstance,e,g,v);if(y.length===f.length)for(o=0,s=f.length;s>o;o++)_fnSetCellData(e,o,g,y[o]);else _fnLog(e,0,"Returned data sort array (col "+g+") is the wrong length")}}for(n=0,i=e.aiDisplayMaster.length;i>n;n++)u[e.aiDisplayMaster[n]]=n;var b,w,_=d.length;for(n=0,i=f.length;i>n;n++)for(o=0;_>o;o++)for(w=p[d[o][0]].aDataSort,a=0,r=w.length;r>a;a++)l=p[w[a]].sType,b=h[(l?l:"string")+"-pre"],f[n]._aSortData[w[a]]=b?b(_fnGetCellData(e,n,w[a],"sort")):_fnGetCellData(e,n,w[a],"sort");e.aiDisplayMaster.sort(function(e,t){var n,i,o,s,a,r;for(n=0;_>n;n++)for(a=p[d[n][0]].aDataSort,i=0,o=a.length;o>i;i++)if(r=p[a[i]].sType,s=h[(r?r:"string")+"-"+d[n][1]](f[e]._aSortData[a[i]],f[t]._aSortData[a[i]]),0!==s)return s;return h["numeric-asc"](u[e],u[t])})}for(t!==undefined&&!t||e.oFeatures.bDeferRender||_fnSortingClasses(e),n=0,i=e.aoColumns.length;i>n;n++){var C=p[n].sTitle.replace(/<.*?>/g,"");if(c=p[n].nTh,c.removeAttribute("aria-sort"),c.removeAttribute("aria-label"),p[n].bSortable)if(d.length>0&&d[0][0]==n){c.setAttribute("aria-sort","asc"==d[0][1]?"ascending":"descending");var x=p[n].asSorting[d[0][2]+1]?p[n].asSorting[d[0][2]+1]:p[n].asSorting[0];c.setAttribute("aria-label",C+("asc"==x?m.sSortAscending:m.sSortDescending))}else c.setAttribute("aria-label",C+("asc"==p[n].asSorting[0]?m.sSortAscending:m.sSortDescending));else c.setAttribute("aria-label",C)}e.bSorted=!0,$(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e))}function _fnSortAttachListener(e,t,n,i){_fnBindAction(t,{},function(t){if(e.aoColumns[n].bSortable!==!1){var o=function(){var i,o;if(t.shiftKey){for(var s=!1,a=0;e.aaSorting.length>a;a++)if(e.aaSorting[a][0]==n){s=!0,i=e.aaSorting[a][0],o=e.aaSorting[a][2]+1,e.aoColumns[i].asSorting[o]?(e.aaSorting[a][1]=e.aoColumns[i].asSorting[o],e.aaSorting[a][2]=o):e.aaSorting.splice(a,1);break}s===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==n?(i=e.aaSorting[0][0],o=e.aaSorting[0][2]+1,e.aoColumns[i].asSorting[o]||(o=0),e.aaSorting[0][1]=e.aoColumns[i].asSorting[o],e.aaSorting[0][2]=o):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));_fnSort(e)};e.oFeatures.bProcessing?(_fnProcessingDisplay(e,!0),setTimeout(function(){o(),e.oFeatures.bServerSide||_fnProcessingDisplay(e,!1)},0)):o(),"function"==typeof i&&i(e)}})}function _fnSortingClasses(e){var t,n,i,o,s,a,r=e.aoColumns.length,l=e.oClasses;for(t=0;r>t;t++)e.aoColumns[t].bSortable&&$(e.aoColumns[t].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(s=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;e.aoColumns.length>t;t++)if(e.aoColumns[t].bSortable){for(a=e.aoColumns[t].sSortingClass,o=-1,i=0;s.length>i;i++)if(s[i][0]==t){a="asc"==s[i][1]?l.sSortAsc:l.sSortDesc,o=i;break}if($(e.aoColumns[t].nTh).addClass(a),e.bJUI){var c=$("span."+l.sSortIcon,e.aoColumns[t].nTh);c.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed);var d;d=-1==o?e.aoColumns[t].sSortingClassJUI:"asc"==s[o][1]?l.sSortJUIAsc:l.sSortJUIDesc,c.addClass(d)}}else $(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(a=l.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){var u,h,f=_fnGetTdNodes(e),p=[];for(t=0;r>t;t++)p.push("");for(t=0,u=1;s.length>t;t++)h=parseInt(s[t][0],10),p[h]=a+u,3>u&&u++;var m,g,v,y=new RegExp(a+"[123]");for(t=0,n=f.length;n>t;t++)h=t%r,g=f[t].className,v=p[h],m=g.replace(y,v),m!=g?f[t].className=$.trim(m):v.length>0&&-1==g.indexOf(v)&&(f[t].className=g+" "+v)}}function _fnSaveState(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,n,i=e.oScroll.bInfinite,o={iCreate:(new Date).getTime(),iStart:i?0:e._iDisplayStart,iEnd:i?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:$.extend(!0,[],e.aaSorting),oSearch:$.extend(!0,{},e.oPreviousSearch),aoSearchCols:$.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;n>t;t++)o.abVisCols.push(e.aoColumns[t].bVisible);_fnCallbackFire(e,"aoStateSaveParams","stateSaveParams",[e,o]),e.fnStateSave.call(e.oInstance,e,o)}}function _fnLoadState(e,t){if(e.oFeatures.bStateSave){var n=e.fnStateLoad.call(e.oInstance,e);if(n){var i=_fnCallbackFire(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===$.inArray(!1,i)){e.oLoadedState=$.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),$.extend(e.oPreviousSearch,n.oSearch),$.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[];for(var o=0;n.abVisCols.length>o;o++)t.saved_aoColumns[o]={},t.saved_aoColumns[o].bVisible=n.abVisCols[o];_fnCallbackFire(e,"aoStateLoaded","stateLoaded",[e,n])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")"),oData&&oData.iCreate&&aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}catch(e){}}for(aOldCookies.sort(function(e,t){return t.time-e.time});iNewCookieLen+document.cookie.length+10>4096;){if(0===aOldCookies.length)return;var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(e){for(var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",i=document.cookie.split(";"),o=0;i.length>o;o++){for(var s=i[o];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(n))return decodeURIComponent(s.substring(n.length,s.length))}return null}function _fnSettingsFromNode(e){for(var t=0;DataTable.settings.length>t;t++)if(DataTable.settings[t].nTable===e)return DataTable.settings[t];return null}function _fnGetTrNodes(e){for(var t=[],n=e.aoData,i=0,o=n.length;o>i;i++)null!==n[i].nTr&&t.push(n[i].nTr);return t}function _fnGetTdNodes(e,t){var n,i,o,s,a,r,l,c,d=[],u=e.aoData.length,h=0,f=u;for(t!==undefined&&(h=t,f=t+1),s=h;f>s;s++)if(l=e.aoData[s],null!==l.nTr){for(i=[],o=l.nTr.firstChild;o;)c=o.nodeName.toLowerCase(),("td"==c||"th"==c)&&i.push(o),o=o.nextSibling;for(n=0,a=0,r=e.aoColumns.length;r>a;a++)e.aoColumns[a].bVisible?d.push(i[a-n]):(d.push(l._anHidden[a]),n++)}return d}function _fnLog(e,t,n){var i=null===e?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(0===t){if("alert"!=DataTable.ext.sErrMode)throw new Error(i);return alert(i),void 0}window.console&&console.log&&console.log(i)}function _fnMap(e,t,n,i){i===undefined&&(i=n),t[n]!==undefined&&(e[i]=t[n])}function _fnExtend(e,t){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],"object"==typeof oInit[i]&&null!==n&&$.isArray(n)===!1?$.extend(!0,e[i],n):e[i]=n);return e}function _fnBindAction(e,t,n){$(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&n(e)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function _fnCallbackFire(e,t,n,i){for(var o=e[t],s=[],a=o.length-1;a>=0;a--)s.push(o[a].fn.apply(e.oInstance,i));return null!==n&&$(e.oInstance).trigger(n,i),s}function _fnBrowserDetect(e){var t=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(t),e.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,document.body.removeChild(t)}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[e].apply(this,t)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var n,i,o=[],s=$.isArray(e);for(n in e)i=e[n],t=typeof i,"string"===t?i='"'+i+'"':"object"===t&&null!==i&&(i=_fnJsonString(i)),o.push((s?"":'"'+n+'":')+i);return(s?"[":"{")+o+(s?"]":"}")};this.$=function(e,t){var n,i,o,s=[],a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),r=a.aoData,l=a.aiDisplay,c=a.aiDisplayMaster;if(t||(t={}),t=$.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(n=a._iDisplayStart,i=a.fnDisplayEnd();i>n;n++)o=r[l[n]].nTr,o&&s.push(o);else if("current"==t.order&&"none"==t.filter)for(n=0,i=c.length;i>n;n++)o=r[c[n]].nTr,o&&s.push(o);else if("current"==t.order&&"applied"==t.filter)for(n=0,i=l.length;i>n;n++)o=r[l[n]].nTr,o&&s.push(o);else if("original"==t.order&&"none"==t.filter)for(n=0,i=r.length;i>n;n++)o=r[n].nTr,o&&s.push(o);else if("original"==t.order&&"applied"==t.filter)for(n=0,i=r.length;i>n;n++)o=r[n].nTr,-1!==$.inArray(n,l)&&o&&s.push(o);else _fnLog(a,1,"Unknown selection options");var d=$(s),u=d.filter(e),h=d.find(e);return $([].concat($.makeArray(u),$.makeArray(h)))},this._=function(e,t){var n,i,o=[],s=this.$(e,t);for(n=0,i=s.length;i>n;n++)o.push(this.fnGetData(s[n]));return o},this.fnAddData=function(e,t){if(0===e.length)return[];var n,i=[],o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var s=0;e.length>s;s++){if(n=_fnAddData(o,e[s]),-1==n)return i;i.push(n)}else{if(n=_fnAddData(o,e),-1==n)return i;i.push(n)}return o.aiDisplay=o.aiDisplayMaster.slice(),(t===undefined||t)&&_fnReDraw(o),i},this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(t),e===undefined||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(t),(e===undefined||e)&&_fnDraw(t)},this.fnClose=function(e){for(var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=0;t.aoOpenRows.length>n;n++)if(t.aoOpenRows[n].nParent==e){var i=t.aoOpenRows[n].nTr.parentNode;return i&&i.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0}return 1},this.fnDeleteRow=function(e,t,n){var i,o,s,a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);s="object"==typeof e?_fnNodeToDataIndex(a,e):e;var r=a.aoData.splice(s,1);for(i=0,o=a.aoData.length;o>i;i++)null!==a.aoData[i].nTr&&(a.aoData[i].nTr._DT_RowIndex=i);var l=$.inArray(s,a.aiDisplay);return a.asDataSearch.splice(l,1),_fnDeleteIndex(a.aiDisplayMaster,s),_fnDeleteIndex(a.aiDisplay,s),"function"==typeof t&&t.call(this,a,r),a._iDisplayStart>=a.fnRecordsDisplay()&&(a._iDisplayStart-=a._iDisplayLength,0>a._iDisplayStart&&(a._iDisplayStart=0)),(n===undefined||n)&&(_fnCalculateEnd(a),_fnDraw(a)),r},this.fnDestroy=function(e){var t,n,i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o=i.nTableWrapper.parentNode,s=i.nTBody;if(e=e===undefined?!1:e,i.bDestroying=!0,_fnCallbackFire(i,"aoDestroyCallback","destroy",[i]),!e)for(t=0,n=i.aoColumns.length;n>t;t++)i.aoColumns[t].bVisible===!1&&this.fnSetColumnVis(t,!0);for($(i.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+i.oClasses.sRowEmpty,i.nTable).parent().remove(),i.nTable!=i.nTHead.parentNode&&($(i.nTable).children("thead").remove(),i.nTable.appendChild(i.nTHead)),i.nTFoot&&i.nTable!=i.nTFoot.parentNode&&($(i.nTable).children("tfoot").remove(),i.nTable.appendChild(i.nTFoot)),i.nTable.parentNode.removeChild(i.nTable),$(i.nTableWrapper).remove(),i.aaSorting=[],i.aaSortingFixed=[],_fnSortingClasses(i),$(_fnGetTrNodes(i)).removeClass(i.asStripeClasses.join(" ")),$("th, td",i.nTHead).removeClass([i.oClasses.sSortable,i.oClasses.sSortableAsc,i.oClasses.sSortableDesc,i.oClasses.sSortableNone].join(" ")),i.bJUI&&($("th span."+i.oClasses.sSortIcon+", td span."+i.oClasses.sSortIcon,i.nTHead).remove(),$("th, td",i.nTHead).each(function(){var e=$("div."+i.oClasses.sSortJUIWrapper,this),t=e.contents();$(this).append(t),e.remove()})),!e&&i.nTableReinsertBefore?o.insertBefore(i.nTable,i.nTableReinsertBefore):e||o.appendChild(i.nTable),t=0,n=i.aoData.length;n>t;t++)null!==i.aoData[t].nTr&&s.appendChild(i.aoData[t].nTr);if(i.oFeatures.bAutoWidth===!0&&(i.nTable.style.width=_fnStringToCss(i.sDestroyWidth)),n=i.asDestroyStripes.length){var a=$(s).children("tr");for(t=0;n>t;t++)a.filter(":nth-child("+n+"n + "+t+")").addClass(i.asDestroyStripes[t])}for(t=0,n=DataTable.settings.length;n>t;t++)DataTable.settings[t]==i&&DataTable.settings.splice(t,1);i=null,oInit=null},this.fnDraw=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e===!1?(_fnCalculateEnd(t),_fnDraw(t)):_fnReDraw(t)},this.fnFilter=function(e,t,n,i,o,s){var a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(a.oFeatures.bFilter)if((n===undefined||null===n)&&(n=!1),(i===undefined||null===i)&&(i=!0),(o===undefined||null===o)&&(o=!0),(s===undefined||null===s)&&(s=!0),t===undefined||null===t){if(_fnFilterComplete(a,{sSearch:e+"",bRegex:n,bSmart:i,bCaseInsensitive:s},1),o&&a.aanFeatures.f)for(var r=a.aanFeatures.f,l=0,c=r.length;c>l;l++)try{r[l]._DT_Input!=document.activeElement&&$(r[l]._DT_Input).val(e)}catch(d){$(r[l]._DT_Input).val(e)}}else $.extend(a.aoPreSearchCols[t],{sSearch:e+"",bRegex:n,bSmart:i,bCaseInsensitive:s}),_fnFilterComplete(a,a.oPreviousSearch,1)},this.fnGetData=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e!==undefined){var i=e;if("object"==typeof e){var o=e.nodeName.toLowerCase();"tr"===o?i=_fnNodeToDataIndex(n,e):"td"===o&&(i=_fnNodeToDataIndex(n,e.parentNode),t=_fnNodeToColumnIndex(n,i,e))}return t!==undefined?_fnGetCellData(n,i,t,""):n.aoData[i]!==undefined?n.aoData[i]._aData:null}return _fnGetDataMaster(n)},this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return e!==undefined?t.aoData[e]!==undefined?t.aoData[e].nTr:null:_fnGetTrNodes(t)},this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=e.nodeName.toUpperCase();if("TR"==n)return _fnNodeToDataIndex(t,e);if("TD"==n||"TH"==n){var i=_fnNodeToDataIndex(t,e.parentNode),o=_fnNodeToColumnIndex(t,i,e);return[i,_fnColumnIndexToVisible(t,o),o]}return null},this.fnIsOpen=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aoOpenRows;for(var n=0;t.aoOpenRows.length>n;n++)if(t.aoOpenRows[n].nParent==e)return!0;return!1},this.fnOpen=function(e,t,n){var i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o=_fnGetTrNodes(i);if(-1!==$.inArray(e,o)){this.fnClose(e);var s=document.createElement("tr"),a=document.createElement("td");s.appendChild(a),a.className=n,a.colSpan=_fnVisbleColumns(i),"string"==typeof t?a.innerHTML=t:$(a).html(t);var r=$("tr",i.nTBody);return-1!=$.inArray(e,r)&&$(s).insertAfter(e),i.aoOpenRows.push({nTr:s,nParent:e}),s}},this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,e),_fnCalculateEnd(n),(t===undefined||t)&&_fnDraw(n)},this.fnSetColumnVis=function(e,t,n){var i,o,s,a,r,l=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=l.aoColumns,d=l.aoData;if(c[e].bVisible!=t){if(t){var u=0;for(i=0;e>i;i++)c[i].bVisible&&u++;if(a=u>=_fnVisbleColumns(l),!a)for(i=e;c.length>i;i++)if(c[i].bVisible){r=i;break}for(i=0,o=d.length;o>i;i++)null!==d[i].nTr&&(a?d[i].nTr.appendChild(d[i]._anHidden[e]):d[i].nTr.insertBefore(d[i]._anHidden[e],_fnGetTdNodes(l,i)[r]))}else for(i=0,o=d.length;o>i;i++)null!==d[i].nTr&&(s=_fnGetTdNodes(l,i)[e],d[i]._anHidden[e]=s,s.parentNode.removeChild(s));for(c[e].bVisible=t,_fnDrawHead(l,l.aoHeader),l.nTFoot&&_fnDrawHead(l,l.aoFooter),i=0,o=l.aoOpenRows.length;o>i;i++)l.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(l);(n===undefined||n)&&(_fnAdjustColumnSizing(l),_fnDraw(l)),_fnSaveState(l)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aaSorting=e,_fnSort(t)},this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,n,i,o){var s,a,r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),l="object"==typeof t?_fnNodeToDataIndex(r,t):t;if($.isArray(e)&&n===undefined)for(r.aoData[l]._aData=e.slice(),s=0;r.aoColumns.length>s;s++)this.fnUpdate(_fnGetCellData(r,l,s),l,s,!1,!1);else if($.isPlainObject(e)&&n===undefined)for(r.aoData[l]._aData=$.extend(!0,{},e),s=0;r.aoColumns.length>s;s++)this.fnUpdate(_fnGetCellData(r,l,s),l,s,!1,!1);else{_fnSetCellData(r,l,n,e),a=_fnGetCellData(r,l,n,"display");var c=r.aoColumns[n];null!==c.fnRender&&(a=_fnRender(r,l,n),c.bUseRendered&&_fnSetCellData(r,l,n,a)),null!==r.aoData[l].nTr&&(_fnGetTdNodes(r,l)[n].innerHTML=a)}var d=$.inArray(l,r.aiDisplay);return r.asDataSearch[d]=_fnBuildSearchRow(r,_fnGetRowData(r,l,"filter",_fnGetColumns(r,"bSearchable"))),(o===undefined||o)&&_fnAdjustColumnSizing(r),(i===undefined||i)&&_fnReDraw(r),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var e,t,n,i=0,o=this.getAttribute("id"),s=!1,a=!1;if("table"!=this.nodeName.toLowerCase())return _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName),void 0;for(i=0,e=DataTable.settings.length;e>i;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}return _fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"),void 0}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}(null===o||""===o)&&(o="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=o);var r=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:o,sTableId:o});if(DataTable.settings.push(r),r.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(r.oFeatures,oInit,"bPaginate"),_fnMap(r.oFeatures,oInit,"bLengthChange"),_fnMap(r.oFeatures,oInit,"bFilter"),_fnMap(r.oFeatures,oInit,"bSort"),_fnMap(r.oFeatures,oInit,"bInfo"),_fnMap(r.oFeatures,oInit,"bProcessing"),_fnMap(r.oFeatures,oInit,"bAutoWidth"),_fnMap(r.oFeatures,oInit,"bSortClasses"),_fnMap(r.oFeatures,oInit,"bServerSide"),_fnMap(r.oFeatures,oInit,"bDeferRender"),_fnMap(r.oScroll,oInit,"sScrollX","sX"),_fnMap(r.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(r.oScroll,oInit,"sScrollY","sY"),_fnMap(r.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(r.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(r.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(r.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(r,oInit,"asStripeClasses"),_fnMap(r,oInit,"asStripClasses","asStripeClasses"),_fnMap(r,oInit,"fnServerData"),_fnMap(r,oInit,"fnFormatNumber"),_fnMap(r,oInit,"sServerMethod"),_fnMap(r,oInit,"aaSorting"),_fnMap(r,oInit,"aaSortingFixed"),_fnMap(r,oInit,"aLengthMenu"),_fnMap(r,oInit,"sPaginationType"),_fnMap(r,oInit,"sAjaxSource"),_fnMap(r,oInit,"sAjaxDataProp"),_fnMap(r,oInit,"iCookieDuration"),_fnMap(r,oInit,"sCookiePrefix"),_fnMap(r,oInit,"sDom"),_fnMap(r,oInit,"bSortCellsTop"),_fnMap(r,oInit,"iTabIndex"),_fnMap(r,oInit,"oSearch","oPreviousSearch"),_fnMap(r,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(r,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(r,oInit,"bJQueryUI","bJUI"),_fnMap(r,oInit,"fnCookieCallback"),_fnMap(r,oInit,"fnStateLoad"),_fnMap(r,oInit,"fnStateSave"),_fnMap(r.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(r,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(r,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(r,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(r,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(r,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(r,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(r,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(r,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(r,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(r,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(r,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),r.oFeatures.bServerSide&&r.oFeatures.bSort&&r.oFeatures.bSortClasses?_fnCallbackReg(r,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):r.oFeatures.bDeferRender&&_fnCallbackReg(r,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(r.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(r.sDom='<"H"lfr>t<"F"ip>')):$.extend(r.oClasses,DataTable.ext.oStdClasses),$(this).addClass(r.oClasses.sTable),(""!==r.oScroll.sX||""!==r.oScroll.sY)&&(r.oScroll.iBarWidth=_fnScrollBarWidth()),r.iInitDisplayStart===undefined&&(r.iInitDisplayStart=oInit.iDisplayStart,r._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(r.oFeatures.bStateSave=!0,_fnLoadState(r,oInit),_fnCallbackReg(r,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading){r.bDeferLoading=!0;var l=$.isArray(oInit.iDeferLoading);r._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading,r._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(null!==oInit.aaData&&(a=!0),""!==oInit.oLanguage.sUrl?(r.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(r.oLanguage.sUrl,null,function(e){_fnLanguageCompat(e),$.extend(!0,r.oLanguage,oInit.oLanguage,e),_fnInitialise(r)}),s=!0):$.extend(!0,r.oLanguage,oInit.oLanguage),null===oInit.asStripeClasses&&(r.asStripeClasses=[r.oClasses.sStripeOdd,r.oClasses.sStripeEven]),e=r.asStripeClasses.length,r.asDestroyStripes=[],e){var c=!1,d=$(this).children("tbody").children("tr:lt("+e+")");for(i=0;e>i;i++)d.hasClass(r.asStripeClasses[i])&&(c=!0,r.asDestroyStripes.push(r.asStripeClasses[i]));c&&d.removeClass(r.asStripeClasses.join(" "))}var u,h=[],f=this.getElementsByTagName("thead");if(0!==f.length&&(_fnDetectHeader(r.aoHeader,f[0]),h=_fnGetUniqueThs(r)),null===oInit.aoColumns)for(u=[],i=0,e=h.length;e>i;i++)u.push(null);else u=oInit.aoColumns;for(i=0,e=u.length;e>i;i++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==e&&(null===u[i]&&(u[i]={}),u[i].bVisible=oInit.saved_aoColumns[i].bVisible),_fnAddColumn(r,h?h[i]:null);for(_fnApplyColumnDefs(r,oInit.aoColumnDefs,u,function(e,t){_fnColumnOptions(r,e,t)}),i=0,e=r.aaSorting.length;e>i;i++){r.aaSorting[i][0]>=r.aoColumns.length&&(r.aaSorting[i][0]=0);var p=r.aoColumns[r.aaSorting[i][0]];for(r.aaSorting[i][2]===undefined&&(r.aaSorting[i][2]=0),oInit.aaSorting===undefined&&r.saved_aaSorting===undefined&&(r.aaSorting[i][1]=p.asSorting[0]),t=0,n=p.asSorting.length;n>t;t++)if(r.aaSorting[i][1]==p.asSorting[t]){r.aaSorting[i][2]=t;break}}_fnSortingClasses(r),_fnBrowserDetect(r);var m=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),g=$(this).children("thead");0===g.length&&(g=[document.createElement("thead")],this.appendChild(g[0])),r.nTHead=g[0];var v=$(this).children("tbody");0===v.length&&(v=[document.createElement("tbody")],this.appendChild(v[0])),r.nTBody=v[0],r.nTBody.setAttribute("role","alert"),r.nTBody.setAttribute("aria-live","polite"),r.nTBody.setAttribute("aria-relevant","all");var y=$(this).children("tfoot");if(0===y.length&&m.length>0&&(""!==r.oScroll.sX||""!==r.oScroll.sY)&&(y=[document.createElement("tfoot")],this.appendChild(y[0])),y.length>0&&(r.nTFoot=y[0],_fnDetectHeader(r.aoFooter,r.nTFoot)),a)for(i=0;oInit.aaData.length>i;i++)_fnAddData(r,oInit.aaData[i]);
else _fnGatherData(r);r.aiDisplay=r.aiDisplayMaster.slice(),r.bInitialised=!0,s===!1&&_fnInitialise(r)}),_that=null,this};DataTable.fnVersionCheck=function(e){for(var t=function(e,t){for(;t>e.length;)e+="0";return e},n=DataTable.ext.sVersion.split("."),i=e.split("."),o="",s="",a=0,r=i.length;r>a;a++)o+=t(n[a],3),s+=t(i[a],3);return parseInt(o,10)>=parseInt(s,10)},DataTable.fnIsDataTable=function(e){for(var t=DataTable.settings,n=0;t.length>n;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},DataTable.fnTables=function(e){var t=[];return jQuery.each(DataTable.settings,function(n,i){(!e||e===!0&&$(i.nTable).is(":visible"))&&t.push(i.nTable)}),t},DataTable.version="1.9.4",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",n=t.split(""),i="",o=t.length,s=0;o>s;s++)0===s%3&&0!==s&&(i=this.oLanguage.sInfoThousands+i),i=n[o-s-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,i){i.jqXHR=$.ajax({url:e,data:t,success:function(e){e.sError&&i.oApi._fnLog(i,0,e.sError),$(i.oInstance).trigger("xhr",[i,e]),n(e)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(e,t){"parsererror"==t&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate;e.oClasses;var o=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)},s=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sPrevious+"</a>"+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sNext+"</a>";$(t).append(s);var a=$("a",t),r=a[0],l=a[1];e.oApi._fnBindAction(r,{action:"previous"},o),e.oApi._fnBindAction(l,{action:"next"},o),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",r.setAttribute("aria-controls",e.sTableId),l.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,n=e.oClasses,i=e.aanFeatures.p,o=0,s=i.length;s>o;o++)t=i[o].firstChild,t&&(t.className=0===e._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,o=e.oClasses,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageFirst+'">'+i.sFirst+"</a>"+'<a  tabindex="'+e.iTabIndex+'" class="'+o.sPageButton+" "+o.sPagePrevious+'">'+i.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+e.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageNext+'">'+i.sNext+"</a>"+'<a tabindex="'+e.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageLast+'">'+i.sLast+"</a>");var a=$("a",t),r=a[0],l=a[1],c=a[2],d=a[3];e.oApi._fnBindAction(r,{action:"first"},s),e.oApi._fnBindAction(l,{action:"previous"},s),e.oApi._fnBindAction(c,{action:"next"},s),e.oApi._fnBindAction(d,{action:"last"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_first",l.id=e.sTableId+"_previous",c.id=e.sTableId+"_next",d.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var n,i,o,s,a,r,l,c=DataTable.ext.oPagination.iFullNumbersShowPages,d=Math.floor(c/2),u=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),h=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,f="",p=e.oClasses,m=e.aanFeatures.p,g=function(i){e.oApi._fnBindAction(this,{page:i+n-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};for(-1===e._iDisplayLength?(n=1,i=1,h=1):c>u?(n=1,i=u):d>=h?(n=1,i=c):h>=u-d?(n=u-c+1,i=u):(n=h-Math.ceil(c/2)+1,i=n+c-1),o=n;i>=o;o++)f+=h!==o?'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButton+'">'+e.fnFormatNumber(o)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButtonActive+'">'+e.fnFormatNumber(o)+"</a>";for(o=0,s=m.length;s>o;o++)l=m[o],l.hasChildNodes()&&($("span:eq(0)",l).html(f).children("a").each(g),a=l.getElementsByTagName("a"),r=[a[0],a[1],a[a.length-2],a[a.length-1]],$(r).removeClass(p.sPageButton+" "+p.sPageButtonActive+" "+p.sPageButtonStaticDisabled),$([r[0],r[1]]).addClass(1==h?p.sPageButtonStaticDisabled:p.sPageButton),$([r[2],r[3]]).addClass(0===u||h===u||-1===e._iDisplayLength?p.sPageButtonStaticDisabled:p.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){var t=Date.parse(e);return(isNaN(t)||""===t)&&(t=Date.parse("01/01/1970 00:00:00")),t},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),$.extend(DataTable.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,n="0123456789-",i="0123456789.",o=!1;if(t=e.charAt(0),-1==n.indexOf(t))return null;for(var s=1;e.length>s;s++){if(t=e.charAt(s),-1==i.indexOf(t))return null;if("."==t){if(o)return null;o=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext})}(window,document),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,o=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).addClass("pagination").append('<ul><li class="prev disabled"><a href="#">&larr; '+i.sPrevious+"</a></li>"+'<li class="next disabled"><a href="#">'+i.sNext+" &rarr; </a></li>"+"</ul>");var s=$("a",t);$(s[0]).bind("click.DT",{action:"previous"},o),$(s[1]).bind("click.DT",{action:"next"},o)},fnUpdate:function(e,t){var n,i,o,s,a,r=5,l=e.oInstance.fnPagingInfo(),c=e.aanFeatures.p,d=Math.floor(r/2);for(r>l.iTotalPages?(s=1,a=l.iTotalPages):d>=l.iPage?(s=1,a=r):l.iPage>=l.iTotalPages-d?(s=l.iTotalPages-r+1,a=l.iTotalPages):(s=l.iPage-d+1,a=s+r-1),n=0,iLen=c.length;iLen>n;n++){for($("li:gt(0)",c[n]).filter(":not(:last)").remove(),i=s;a>=i;i++)o=i==l.iPage+1?'class="active"':"",$("<li "+o+'><a href="#">'+i+"</a></li>").insertBefore($("li:last",c[n])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,t(e)});0===l.iPage?$("li:first",c[n]).addClass("disabled"):$("li:first",c[n]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li:last",c[n]).addClass("disabled"):$("li:last",c[n]).removeClass("disabled")}}}}),/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var o=e.data(i.form,"validator").settings,s=o.rules,a=e.validator.staticRules(i);switch(t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,s[i.name]=a,n.messages&&(o.messages[i.name]=e.extend(o.messages[i.name],n.messages));break;case"remove":if(!n)return delete s[i.name],a;var r={};return e.each(n.split(/\s/),function(e,t){r[t]=a[t],delete a[t]}),r}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),o=!1,s=this.elementValue(t);for(var a in i){var r={method:a,parameters:i[a]};try{if(n=e.validator.methods[a].call(this,s,t,r.parameters),"dependency-mismatch"===n){o=!0;continue}if(o=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!n)return this.formatAndAdd(t,r),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",l),l}}return o?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),o=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):o.test(i)&&(i=e.validator.format(i.replace(o,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t),o=i[0].getAttribute("type");for(var s in e.validator.methods){var a;"required"===s?(a=i.get(0).getAttribute(s),""===a&&(a=!0),a=!!a):a=i.attr(s),/min|max/.test(s)&&(null===o||/number|range|text/.test(o))&&(a=Number(a)),a?n[s]=a:o===s&&"range"!==o&&(n[s]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,o={},s=e(t);for(n in e.validator.methods)i=s.data("rule-"+n.toLowerCase()),void 0!==i&&(o[n]=i);return o},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,o){if(o===!1)return delete t[i],void 0;if(o.param||o.depends){var s=!0;switch(typeof o.depends){case"string":s=!!e(o.depends,n.form).length;break;case"function":s=o.depends.call(n,n)}s?t[i]=void 0!==o.param?o.param:!0:delete t[i]}}),e.each(t,function(i,o){t[i]=e.isFunction(o)?o(n):o}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],3>n.length&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var o=e(n).val();return o&&o.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,o=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var a=e.charAt(s);i=parseInt(a,10),o&&(i*=2)>9&&(i-=9),n+=i,o=!o}return 0===n%10},minlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||o>=i},maxlength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=o},rangelength:function(t,n,i){var o=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||o>=i[0]&&i[1]>=o},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&n[1]>=e},equalTo:function(t,n,i){var o=e(i);return this.settings.onfocusout&&o.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===o.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var o=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),o.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=o.message,i="string"==typeof i&&{url:i}||i,o.old===t)return o.valid;o.old=t;var s=this;this.startRequest(n);var a={};return a[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,success:function(i){s.settings.messages[n.name].remote=o.originalMessage;var a=i===!0||"true"===i;if(a){var r=s.formSubmitted;s.prepareElement(n),s.formSubmitted=r,s.successList.push(n),delete s.invalid[n.name],s.showErrors()}else{var l={},c=i||s.defaultMessage(n,"remote");l[n.name]=o.message=e.isFunction(c)?c(t):c,s.invalid[n.name]=!0,s.showErrors(l)}o.valid=a,s.stopRequest(n,a)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var o=e.port;"abort"===e.mode&&(t[o]&&t[o].abort(),t[o]=i)});else{var n=e.ajax;e.ajax=function(i){var o=("mode"in i?i:e.ajaxSettings).mode,s=("port"in i?i:e.ajaxSettings).port;return"abort"===o?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments),t[s]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var o=e(n.target);return o.is(t)?i.apply(o,arguments):void 0})}})}(jQuery),function(e){e.extend(e.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número entero válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",accept:"Por favor, escribe un valor con una extensión aceptada.",maxlength:e.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:e.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:e.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:e.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:e.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:e.validator.format("Por favor, escribe un valor mayor o igual a {0}.")})}(jQuery),function(){jQuery.validator.setDefaults({errorPlacement:function(e,t){return t.parent().hasClass("input-prepend")||t.parent().hasClass("input-append")?e.insertAfter(t.parent()):e.insertAfter(t)},errorElement:"span",errorClass:"help-inline",highlight:function(e){return $(e).closest(".control-group").addClass("error")},unhighlight:function(e){return $(e).closest(".control-group").removeClass("error")}})}.call(this);/**
 * @license wysihtml5 v0.3.0
 * https://github.com/xing/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 *
 */
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"﻿",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};/**
 * @license Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2011, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.2
 * Build date: 13 November 2011
 */
window.rangy=function(){function e(e,t){var n=typeof e[t];return n==u||!(n!=d||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=d||!e[t])}function n(e,t){return typeof e[t]!=h}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function o(e){return e&&v(e,g)&&b(e,m)}function s(e){window.alert("Rangy not supported in your browser. Reason: "+e),w.initialized=!0,w.supported=!1}function a(e){var t="Rangy warning: "+e;w.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function r(){if(!w.initialized){var n,i=!1,a=!1;e(document,"createRange")&&(n=document.createRange(),v(n,p)&&b(n,f)&&(i=!0),n.detach());var r=t(document,"body")?document.body:document.getElementsByTagName("body")[0];r&&e(r,"createTextRange")&&(n=r.createTextRange(),o(n)&&(a=!0)),i||a||s("Neither Range nor TextRange are implemented"),w.initialized=!0,w.features={implementsDomRange:i,implementsTextRange:a};for(var l=C.concat(_),c=0,d=l.length;d>c;++c)try{l[c](w)}catch(u){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function l(e){e=e||window,r();for(var t=0,n=x.length;n>t;++t)x[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var d="object",u="function",h="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=i(e),y=i(t),b=i(n),w={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:o},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};w.fail=s,w.warn=a,{}.hasOwnProperty?w.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}:s("hasOwnProperty not supported");var _=[],C=[];w.init=r,w.addInitListener=function(e){w.initialized?e(w):_.push(e)};var x=[];w.addCreateMissingNativeApiListener=function(e){x.push(e)},w.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){w.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},w.createModule=function(e,t){var n=new c(e);w.modules[e]=n,C.push(function(e){t(e,n),n.initialized=!0,n.supported=!0})},w.requireModules=function(e){for(var t,n,i=0,o=e.length;o>i;++i){if(n=e[i],t=w.modules[n],!(t&&t instanceof c))throw new Error("Module '"+n+"' not found");if(!t.supported)throw new Error("Module '"+n+"' not supported")}};var S=!1,T=function(){S||(S=!0,w.initialized||r())};return typeof window==h?(s("No window found"),void 0):typeof document==h?(s("No document found"),void 0):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",T,!1),e(window,"addEventListener")?window.addEventListener("load",T,!1):e(window,"attachEvent")?window.attachEvent("onload",T):s("Window does not have required addEventListener or attachEvent method"),w)}(),rangy.createModule("DomUtil",function(e,t){function n(e){var t;return typeof e.namespaceURI==T||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function o(e){for(var t=0;e=e.previousSibling;)t++;return t}function s(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function a(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(E(i,n))return n;return null}function r(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t,n){for(var i,o=n?e:e.parentNode;o;){if(i=o.parentNode,i===t)return o;o=i}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function u(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),d(n,e),n}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=T)return e.ownerDocument;if(typeof e.document!=T)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function f(e){var t=h(e);if(typeof t.defaultView!=T)return t.defaultView;if(typeof t.parentWindow!=T)return t.parentWindow;throw new Error("Cannot get a window object for node")}function p(e){if(typeof e.contentDocument!=T)return e.contentDocument;if(typeof e.contentWindow!=T)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=T)return e.contentWindow;if(typeof e.contentDocument!=T)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return k.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,n,i){var s,r,c,d,u;if(e==n)return t===i?0:i>t?-1:1;if(s=l(n,e,!0))return o(s)>=t?-1:1;if(s=l(e,n,!0))return i>o(s)?-1:1;if(r=a(e,n),c=e===r?r:l(e,r,!0),d=n===r?r:l(n,r,!0),c===d)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=r.firstChild;u;){if(u===c)return-1;if(u===d)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function b(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function w(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function _(e){this.root=e,this._next=e}function C(e){return new _(e)}function x(e,t){this.node=e,this.offset=t}function S(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var T="undefined",k=e.util;k.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),k.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var D=document.createElement("div");k.areHostMethods(D,["insertBefore","appendChild","cloneNode"]||!k.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),k.isHostProperty(D,"innerHTML")||t.fail("Element is missing innerHTML property");var N=document.createTextNode("test");k.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!k.areHostObjects(D,["previousSibling","nextSibling","childNodes","parentNode"])||!k.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation");var E=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};_.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"}},S.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},S.prototype.toString=function(){return this.message},e.dom={arrayContains:E,isHtmlNamespace:n,parentElement:i,getNodeIndex:o,getNodeLength:s,getCommonAncestor:a,isAncestorOf:r,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:d,splitDataNode:u,getDocument:h,getWindow:f,getIframeWindow:m,getIframeDocument:p,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:w,fragmentFromNodeChildren:b,createIterator:C,DomPosition:x},e.DOMException=S}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(F.isAncestorOf(e,t.startContainer,!0)||F.isAncestorOf(e,t.endContainer,!0))}function n(e){return F.getDocument(e.startContainer)}function i(e,t,n){var i=e._listeners[t];if(i)for(var o=0,s=i.length;s>o;++o)i[o].call(e,{target:e,args:n})}function o(e){return new O(e.parentNode,F.getNodeIndex(e))}function s(e){return new O(e.parentNode,F.getNodeIndex(e)+1)}function a(e,t,n){var i=11==e.nodeType?e.firstChild:e;return F.isCharacterDataNode(t)?n==t.length?F.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:F.splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function r(e){for(var t,i,o,s=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(o=e.getSubtreeIterator(),i.appendChild(r(o)),o.detach(!0)),10==i.nodeType)throw new H("HIERARCHY_REQUEST_ERR");s.appendChild(i)}return s}function l(e,t,n){var i,o;n=n||{stop:!1};for(var s,a;s=e.next();)if(e.isPartiallySelectedSubtree()){if(t(s)===!1)return n.stop=!0,void 0;if(a=e.getSubtreeIterator(),l(a,t,n),a.detach(!0),n.stop)return}else for(i=F.createIterator(s);o=i.next();)if(t(o)===!1)return n.stop=!0,void 0}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function d(e){for(var t,i,o=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(d(i)),i.detach(!0)):e.remove(),10==t.nodeType)throw new H("HIERARCHY_REQUEST_ERR");o.appendChild(t)}return o}function u(e,t,n){var i,o=!(!t||!t.length),s=!!n;o&&(i=new RegExp("^("+t.join("|")+")$"));var a=[];return l(new f(e,!1),function(e){o&&!i.test(e.nodeType)||s&&!n(e)||a.push(e)}),a}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+F.inspectNode(e.startContainer)+":"+e.startOffset+", "+F.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&F.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||F.isCharacterDataNode(this.sc)?F.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||F.isCharacterDataNode(this.ec)?F.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,n){this.nodes=u(e,t,n),this._next=this.nodes[0],this._position=0}function g(e){return function(t,n){for(var i,o=n?t:t.parentNode;o;){if(i=o.nodeType,F.arrayContains(e,i))return o;o=o.parentNode}return null}}function v(e,t){if(Y(e,t))throw new p("INVALID_NODE_TYPE_ERR")}function y(e){if(!e.startContainer)throw new H("INVALID_STATE_ERR")}function b(e,t){if(!F.arrayContains(t,e.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function w(e,t){if(0>t||t>(F.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new H("INDEX_SIZE_ERR")}function _(e,t){if(V(e,!0)!==V(t,!0))throw new H("WRONG_DOCUMENT_ERR")}function C(e){if(q(e,!0))throw new H("NO_MODIFICATION_ALLOWED_ERR")}function x(e,t){if(!e)throw new H(t)}function S(e){return!F.arrayContains($,e.nodeType)&&!V(e,!0)}function T(e,t){return(F.isCharacterDataNode(e)?e.length:e.childNodes.length)>=t}function k(e){if(y(e),S(e.startContainer)||S(e.endContainer)||!T(e.startContainer,e.startOffset)||!T(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function D(){}function N(e){e.START_TO_START=Z,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=nt,e.NODE_BEFORE=it,e.NODE_AFTER=ot,e.NODE_BEFORE_AND_AFTER=st,e.NODE_INSIDE=at}function E(e){N(e),N(e.prototype)}function A(e,t){return function(){k(this);var n,i,o=this.startContainer,a=this.startOffset,r=this.commonAncestorContainer,c=new f(this,!0);o!==r&&(n=F.getClosestAncestorIn(o,r,!0),i=s(n),o=i.node,a=i.offset),l(c,C),c.reset();var d=e(c);return c.detach(),t(this,o,a,o,a),d}}function M(n,i,a){function r(e,t){return function(n){y(this),b(n,B),b(U(n),$);var i=(e?o:s)(n);(t?l:u)(this,i.node,i.offset)}}function l(e,t,n){var o=e.endContainer,s=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((U(t)!=U(o)||1==F.comparePoints(t,n,o,s))&&(o=t,s=n),i(e,t,n,o,s))}function u(e,t,n){var o=e.startContainer,s=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((U(t)!=U(o)||-1==F.comparePoints(t,n,o,s))&&(o=t,s=n),i(e,o,s,t,n))}function h(e,t,n){(t!==e.startContainer||n!==e.startOffset||t!==e.endContainer||n!==e.endOffset)&&i(e,t,n,t,n)}n.prototype=new D,e.util.extend(n.prototype,{setStart:function(e,t){y(this),v(e,!0),w(e,t),l(this,e,t)},setEnd:function(e,t){y(this),v(e,!0),w(e,t),u(this,e,t)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(e){k(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){y(this),v(e,!0),i(this,e,0,e,F.getNodeLength(e))},selectNode:function(e){y(this),v(e,!1),b(e,B);var t=o(e),n=s(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:A(d,i),deleteContents:A(c,i),canSurroundContents:function(){k(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},detach:function(){a(this)},splitBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,o=this.endOffset,s=e===n;F.isCharacterDataNode(n)&&o>0&&n.length>o&&F.splitDataNode(n,o),F.isCharacterDataNode(e)&&t>0&&e.length>t&&(e=F.splitDataNode(e,t),s?(o-=t,n=e):n==e.parentNode&&o>=F.getNodeIndex(e)&&o++,t=0),i(this,e,t,n,o)},normalizeBoundaries:function(){k(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,o=this.endOffset,s=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,o=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(i){var s=i.previousSibling;if(s&&s.nodeType==i.nodeType){e=i;var a=i.length;if(t=s.length,i.insertData(0,s.data),s.parentNode.removeChild(s),e==n)o+=t,n=e;else if(n==i.parentNode){var r=F.getNodeIndex(i);o==r?(n=i,o=a):o>r&&o--}}},r=!0;if(F.isCharacterDataNode(n))n.length==o&&s(n);else{if(o>0){var l=n.childNodes[o-1];l&&F.isCharacterDataNode(l)&&s(l)}r=!this.collapsed}if(r){if(F.isCharacterDataNode(e))0==t&&a(e);else if(e.childNodes.length>t){var c=e.childNodes[t];c&&F.isCharacterDataNode(c)&&a(c)}}else e=n,t=o;i(this,e,t,n,o)},collapseToPoint:function(e,t){y(this),v(e,!0),w(e,t),h(this,e,t)}}),E(n)}function I(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:F.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,o,s){var a=e.startContainer!==t||e.startOffset!==n,r=e.endContainer!==o||e.endOffset!==s;e.startContainer=t,e.startOffset=n,e.endContainer=o,e.endOffset=s,I(e),i(e,"boundarychange",{startMoved:a,endMoved:r})}function L(e){y(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,i(e,"detach",null),e._listeners=null}function R(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},I(this)}e.requireModules(["DomUtil"]);var F=e.dom,O=F.DomPosition,H=e.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,F.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!F.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new R(n(this.range));var t=this._current,i=t,o=0,s=t,a=F.getNodeLength(t);F.isAncestorOf(t,this.sc,!0)&&(i=this.sc,o=this.so),F.isAncestorOf(t,this.ec,!0)&&(s=this.ec,a=this.eo),P(e,i,o,s,a)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var B=[1,3,4,5,7,8,10],$=[2,9,11],z=[5,6,10,12],j=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8],U=F.getRootContainer,V=g([9,11]),q=g(z),Y=g([6,10,12]),G=document.createElement("style"),X=!1;try{G.innerHTML="<b>x</b>",X=3==G.firstChild.nodeType}catch(J){}e.features.htmlParsingConforms=X;var K=X?function(e){var t=this.startContainer,n=F.getDocument(t);if(!t)throw new H("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:F.isCharacterDataNode(t)&&(i=F.parentElement(t)),i=null===i||"HTML"==i.nodeName&&F.isHtmlNamespace(F.getDocument(i).documentElement)&&F.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,F.fragmentFromNodeChildren(i)}:function(e){y(this);var t=n(this),i=t.createElement("body");return i.innerHTML=e,F.fragmentFromNodeChildren(i)},Q=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,et=1,tt=2,nt=3,it=0,ot=1,st=2,at=3;D.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){k(this),_(this.startContainer,t.startContainer);var n,i,o,s,a=e==nt||e==Z?"start":"end",r=e==et||e==Z?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],o=t[r+"Container"],s=t[r+"Offset"],F.comparePoints(n,i,o,s)},insertNode:function(e){if(k(this),b(e,j),C(this.startContainer),F.isAncestorOf(e,this.startContainer,!0))throw new H("HIERARCHY_REQUEST_ERR");var t=a(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){k(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&F.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var i=new f(this,!0);return e=r(i),i.detach(),e},canSurroundContents:function(){k(this),C(this.startContainer),C(this.endContainer);var e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(b(e,W),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);a(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){k(this);for(var e,t=new R(n(this)),i=Q.length;i--;)e=Q[i],t[e]=this[e];return t},toString:function(){k(this);var e=this.startContainer;if(e===this.endContainer&&F.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new f(this,!0);return l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){k(this);var t=e.parentNode,n=F.getNodeIndex(e);if(!t)throw new H("NOT_FOUND_ERR");var i=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return 0>i?o>0?st:it:o>0?ot:at},comparePoint:function(e,t){return k(this),x(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),0>F.comparePoints(e,t,this.startContainer,this.startOffset)?-1:F.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:K,toHtml:function(){k(this);var e=n(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(k(this),x(e,"NOT_FOUND_ERR"),F.getDocument(e)!==n(this))return!1;var i=e.parentNode,o=F.getNodeIndex(e);x(i,"NOT_FOUND_ERR");var s=F.comparePoints(i,o,this.endContainer,this.endOffset),a=F.comparePoints(i,o+1,this.startContainer,this.startOffset);return t?0>=s&&a>=0:0>s&&a>0},isPointInRange:function(e,t){return k(this),x(e,"HIERARCHY_REQUEST_ERR"),_(e,this.startContainer),F.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&0>=F.comparePoints(e,t,this.endContainer,this.endOffset)},intersectsRange:function(e,t){if(k(this),n(e)!=n(this))throw new H("WRONG_DOCUMENT_ERR");var i=F.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),o=F.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=i&&o>=0:0>i&&o>0},intersection:function(e){if(this.intersectsRange(e)){var t=F.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=F.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==F.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==F.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new p("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==at},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&0>=this.comparePoint(e,F.getNodeLength(e))},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();t.setEnd(i,i.length);var o=this.containsRange(t);return t.detach(),o}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return k(this),new m(this,e,t)},getNodes:function(e,t){return k(this),u(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){y(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){y(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return R.rangesEqual(this,e)},inspect:function(){return h(this)}},M(R,P,L),e.rangePrototype=D.prototype,R.rangeProperties=Q,R.RangeIterator=f,R.copyComparisonConstants=E,R.createPrototypeRange=M,R.inspect=h,R.getRangeDocument=n,R.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=R,e.RangeException=p}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),s=i==o?i:a.getCommonAncestor(i,o);return s==t?s:a.getCommonAncestor(t,s)}function n(e){return 0==e.compareEndPoints("StartToEnd",e)}function i(e,t,n,i){var o=e.duplicate();o.collapse(n);var s=o.parentElement();if(a.isAncestorOf(t,s,!0)||(s=t),!s.canHaveHTML)return new r(s.parentNode,a.getNodeIndex(s));var l,c,d,u,h,f=a.getDocument(s).createElement("span"),p=n?"StartToStart":"StartToEnd";do s.insertBefore(f,f.previousSibling),o.moveToElementText(f);while((l=o.compareEndPoints(p,e))>0&&f.previousSibling);if(h=f.nextSibling,-1==l&&h&&a.isCharacterDataNode(h)){o.setEndPoint(n?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=o.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=o.text.length;u=new r(h,m)}else c=(i||!n)&&f.previousSibling,d=(i||n)&&f.nextSibling,u=d&&a.isCharacterDataNode(d)?new r(d,0):c&&a.isCharacterDataNode(c)?new r(c,c.length):new r(s,a.getNodeIndex(f));return f.parentNode.removeChild(f),u}function o(e,t){var n,i,o,s,r=e.offset,l=a.getDocument(e.node),c=l.body.createTextRange(),d=a.isCharacterDataNode(e.node);return d?(n=e.node,i=n.parentNode):(s=e.node.childNodes,n=s.length>r?s[r]:null,i=e.node),o=l.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),c.moveToElementText(o),c.collapse(!t),i.removeChild(o),d&&c[t?"moveStart":"moveEnd"]("character",r),c}e.requireModules(["DomUtil","DomRange"]);var s,a=e.dom,r=a.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){s=function(e){this.textRange=e,this.refresh()},s.prototype=new l(document),s.prototype.refresh=function(){var e,o,s=t(this.textRange);n(this.textRange)?o=e=i(this.textRange,s,!0,!0):(e=i(this.textRange,s,!0,!1),o=i(this.textRange,s,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(o.node,o.offset)},l.copyComparisonConstants(s);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=s),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else(function(){function t(e){for(var t,n=d.length;n--;)t=d[n],e[t]=e.nativeRange[t]}function n(e,t,n,i,o){var s=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=o;(s||a)&&(e.setEnd(i,o),e.setStart(t,n))}function i(e){e.nativeRange.detach(),e.detached=!0;for(var t,n=d.length;n--;)t=d[n],e[t]=null}var o,r,c,d=l.rangeProperties;s=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(s,n,i),o=s.prototype,o.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},o.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},o.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},o.collapse=function(e){this.nativeRange.collapse(e),t(this)},o.cloneRange=function(){return new s(this.nativeRange.cloneRange())},o.refresh=function(){t(this)},o.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");a.getBody(document).appendChild(u);var h=document.createRange();h.setStart(u,0),h.setEnd(u,0);try{h.setStart(u,1),r=!0,o.setStart=function(e,n){this.nativeRange.setStart(e,n),t(this)},o.setEnd=function(e,n){this.nativeRange.setEnd(e,n),t(this)},c=function(e){return function(n){this.nativeRange[e](n),t(this)}}}catch(f){r=!1,o.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(i){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}t(this)},o.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(i){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}t(this)},c=function(e,n){return function(i){try{this.nativeRange[e](i)}catch(o){this.nativeRange[n](i),this.nativeRange[e](i)}t(this)}}}o.setStartBefore=c("setStartBefore","setEndBefore"),o.setStartAfter=c("setStartAfter","setEndAfter"),o.setEndBefore=c("setEndBefore","setStartBefore"),o.setEndAfter=c("setEndAfter","setStartAfter"),h.selectNodeContents(u),o.selectNodeContents=h.startContainer==u&&h.endContainer==u&&0==h.startOffset&&h.endOffset==u.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},h.selectNodeContents(u),h.setEnd(u,3);var p=document.createRange();p.selectNodeContents(u),p.setEnd(u,4),p.setStart(u,2),o.compareBoundaryPoints=-1==h.compareBoundaryPoints(h.START_TO_END,p)&1==h.compareBoundaryPoints(h.END_TO_START,p)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(h,"createContextualFragment")&&(o.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),a.getBody(document).removeChild(u),h.detach(),p.detach()})(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(s.rangeToTextRange=function(e){if(e.collapsed){var t=o(new r(e.startContainer,e.startOffset),!0);return t}var n=o(new r(e.startContainer,e.startOffset),!0),i=o(new r(e.endContainer,e.endOffset),!1),s=a.getDocument(e.startContainer).body.createTextRange();return s.setEndPoint("StartToStart",n),s.setEndPoint("EndToEnd",i),s}),s.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=s,e.createRange=function(t){return t=t||document,new s(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(a.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(a.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(this)}),n=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function n(e){return(e||window).getSelection()}function i(e){return(e||window).document.selection}function o(e,t,n){var i=n?"end":"start",o=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function s(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function a(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function r(t){var n;return t instanceof S?(n=t._selectionNativeRange,n||(n=e.createNativeRange(C.getDocument(t.startContainer)),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof T?n=t.nativeRange:e.features.implementsDomRange&&t instanceof C.getWindow(t.startContainer).Range&&(n=t),n}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!C.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function d(e){return!!e&&"undefined"!=typeof e.text}function u(e,t){var n=new T(t);e._ranges=[n],o(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)a(t);else{var n=t.docSelection.createRange();if(d(n))u(t,n);else{t.rangeCount=n.length;for(var i,s=C.getDocument(n.item(0)),r=0;t.rangeCount>r;++r)i=e.createRange(s),i.selectNode(n.item(r)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,o(t,t._ranges[t.rangeCount-1],!1)}}}function f(e,t){for(var n=e.docSelection.createRange(),i=c(t),o=C.getDocument(n.item(0)),s=C.getBody(o).createControlRange(),a=0,r=n.length;r>a;++a)s.add(n.item(a));try{s.add(i)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),h(e)}function p(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function m(e,t){for(var n,i=C.getDocument(t[0].startContainer),o=C.getBody(i).createControlRange(),s=0;rangeCount>s;++s){n=c(t[s]);try{o.add(n)}catch(a){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")
}}o.select(),h(e)}function g(e,t){if(e.anchorNode&&C.getDocument(e.anchorNode)!==C.getDocument(t))throw new k("WRONG_DOCUMENT_ERR")}function v(e){var t=[],n=new D(e.anchorNode,e.anchorOffset),i=new D(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var s=0,a=e.rangeCount;a>s;++s)t[s]=S.inspect(e.getRangeAt(s));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var y,b,w="boolean",_="_rangySelection",C=e.dom,x=e.util,S=e.DomRange,T=e.WrappedRange,k=e.DOMException,D=C.DomPosition,N="Control",E=e.util.isHostMethod(window,"getSelection"),A=e.util.isHostObject(document,"selection"),M=A&&(!E||e.config.preferTextRange);M?(y=i,e.isSelectionValid=function(e){var t=(e||window).document,n=t.selection;return"None"!=n.type||C.getDocument(n.createRange().parentElement())==t}):E?(y=n,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=y;var I=y(),P=e.createNativeRange(document),L=C.getBody(document),R=x.areHostObjects(I,["anchorNode","focusNode"]&&x.areHostProperties(I,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=R;var F=x.isHostMethod(I,"extend");e.features.selectionHasExtend=F;var O="number"==typeof I.rangeCount;e.features.selectionHasRangeCount=O;var H=!1,B=!0;x.areHostMethods(I,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof I.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");L.appendChild(e);var t=C.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=C.getIframeWindow(e).getSelection(),i=t.documentElement,o=i.lastChild,s=o.firstChild,a=t.createRange();a.setStart(s,1),a.collapse(!0),n.addRange(a),B=1==n.rangeCount,n.removeAllRanges();var r=a.cloneRange();a.setStart(s,0),r.setEnd(s,2),n.addRange(a),n.addRange(r),H=2==n.rangeCount,a.detach(),r.detach(),L.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=H,e.features.collapsedNonEditableSelectionsSupported=B;var $,z=!1;L&&x.isHostMethod(L,"createControlRange")&&($=L.createControlRange(),x.areHostProperties($,["item","add"])&&(z=!0)),e.features.implementsControlRange=z,b=R?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var j;x.isHostMethod(I,"getRangeAt")?j=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:R&&(j=function(t){var n=C.getDocument(t.anchorNode),i=e.createRange(n);return i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),i}),e.getSelection=function(e){e=e||window;var t=e[_],n=y(e),o=A?i(e):null;return t?(t.nativeSelection=n,t.docSelection=o,t.refresh(e)):(t=new p(n,o,e),e[_]=t),t},e.getIframeSelection=function(t){return e.getSelection(C.getIframeWindow(t))};var W=p.prototype;if(!M&&R&&x.areHostMethods(I,["removeAllRanges","addRange"])){W.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),a(this)};var U=function(t,n){var i=S.getRangeDocument(n),o=e.createRange(i);o.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(r(o)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};W.addRange=O?function(t,n){if(z&&A&&this.docSelection.type==N)f(this,t);else if(n&&F)U(this,t);else{var i;if(H?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(r(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var s=j(this.nativeSelection,this.rangeCount-1);s&&!S.rangesEqual(s,t)&&(t=new T(s))}this._ranges[this.rangeCount-1]=t,o(this,t,Y(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(e,t){t&&F?U(this,e):(this.nativeSelection.addRange(r(e)),this.refresh())},W.setRanges=function(e){if(z&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(x.isHostMethod(I,"empty")&&x.isHostMethod(P,"select")&&z&&M))return t.fail("No means of selecting a Range or TextRange was found"),!1;W.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=C.getDocument(this.anchorNode);else if(this.docSelection.type==N){var t=this.docSelection.createRange();t.length&&(e=C.getDocument(t.item(0)).body.createTextRange())}if(e){var n=e.body.createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}a(this)},W.addRange=function(e){this.docSelection.type==N?f(this,e):(T.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,e,!1))},W.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}W.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new k("INDEX_SIZE_ERR");return this._ranges[e]};var V;if(M)V=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=C.getBody(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==N?h(t):d(n)?u(t,n):a(t)};else if(x.isHostMethod(I,"getRangeAt")&&"number"==typeof I.rangeCount)V=function(t){if(z&&A&&t.docSelection.type==N)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));o(t,t._ranges[t.rangeCount-1],Y(t.nativeSelection)),t.isCollapsed=b(t)}else a(t)};else{if(!R||typeof I.isCollapsed!=w||typeof P.collapsed!=w||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;V=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=j(n,0),e._ranges=[t],e.rangeCount=1,s(e),e.isCollapsed=b(e)):a(e)}}W.refresh=function(e){var t=e?this._ranges.slice(0):null;if(V(this),e){var n=t.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!S.rangesEqual(t[n],this._ranges[n]))return!1;return!0}};var q=function(e,t){var n=e.getAllRanges(),i=!1;e.removeAllRanges();for(var o=0,s=n.length;s>o;++o)i||t!==n[o]?e.addRange(n[o]):i=!0;e.rangeCount||a(e)};W.removeRange=z?function(e){if(this.docSelection.type==N){for(var t,n=this.docSelection.createRange(),i=c(e),o=C.getDocument(n.item(0)),s=C.getBody(o).createControlRange(),a=!1,r=0,l=n.length;l>r;++r)t=n.item(r),t!==i||a?s.add(n.item(r)):a=!0;s.select(),h(this)}else q(this,e)}:function(e){q(this,e)};var Y;!M&&R&&e.features.implementsDomRange?(Y=function(e){var t=!1;return e.anchorNode&&(t=1==C.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},W.isBackwards=function(){return Y(this)}):Y=W.isBackwards=function(){return!1},W.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},W.collapse=function(t,n){g(this,t);var i=e.createRange(C.getDocument(t));i.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},W.collapseToStart=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},W.collapseToEnd=function(){if(!this.rangeCount)throw new k("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},W.selectAllChildren=function(t){g(this,t);var n=e.createRange(C.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},W.deleteFromDocument=function(){if(z&&A&&this.docSelection.type==N){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var i=0,o=n.length;o>i;++i)n[i].deleteContents();this.addRange(n[o-1])}},W.getAllRanges=function(){return this._ranges.slice(0)},W.setSingleRange=function(e){this.setRanges([e])},W.containsNode=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},W.toHtml=function(){var e="";if(this.rangeCount){for(var t=S.getRangeDocument(this._ranges[0]).createElement("div"),n=0,i=this._ranges.length;i>n;++n)t.appendChild(this._ranges[n].cloneContents());e=t.innerHTML}return e},W.getName=function(){return"WrappedSelection"},W.inspect=function(){return v(this)},W.detach=function(){this.win[_]=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,e.Selection=p,e.selectionPrototype=W,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})});/*
	Base.js, version 1.1a
	Copyright 2006-2010, Dean Edwards
	License: http://www.opensource.org/licenses/mit-license.php
*/
var Base=function(){};/*!
	Copyright 2010 Mal Curtis
*/
if(Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,e),i.base=function(){},delete Base._prototyping;var o=i.constructor,s=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=i,s.toString=this.toString,s.valueOf=function(e){return"object"==e?s:o.valueOf()},n.call(s,t),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var i=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=i.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString}this[e]=t}else if(e){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var s={toSource:null},a=["constructor","toString","valueOf"],r=Base._prototyping?0:1;l=a[r++];)e[l]!=s[l]&&o.call(this,l,e[l]);for(var l in e)s[l]||o.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;arguments.length>e;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var t=navigator.userAgent,n=document.createElement("div"),i=-1!==t.indexOf("MSIE")&&-1===t.indexOf("Opera"),o=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),s=-1!==t.indexOf("AppleWebKit/"),a=-1!==t.indexOf("Chrome/"),r=-1!==t.indexOf("Opera/");return{USER_AGENT:t,supported:function(){var t=this.USER_AGENT.toLowerCase(),i="contentEditable"in n,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,s=document.querySelector&&document.querySelectorAll,a=this.isIos()&&5>e(t)||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return i&&o&&s&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var e=this.USER_AGENT.toLowerCase();return-1!==e.indexOf("webkit")&&-1!==e.indexOf("mobile")},supportsSandboxedIframes:function(){return i},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!o},hasCurrentStyleProperty:function(){return"currentStyle"in n},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in n||function(){return n.setAttribute("on"+e,"return;"),"function"==typeof n["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!r},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return s||o},supportsDataTransfer:function(){try{return s&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(e){return!1}},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:i,insertUnorderedList:i||r||s,insertOrderedList:i||r||s},t={insertHTML:o};return function(n,i){var o=e[i];if(!o){try{return n.queryCommandSupported(i)}catch(s){}try{return n.queryCommandEnabled(i)}catch(a){return!!t[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return i},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||r||s},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||i||r},clearsListsInContentEditableCorrectly:function(){return o||i||s},autoScrollsToCaret:function(){return!s},autoClosesUnclosedTags:function(){var e,t,i=n.cloneNode(!1);return i.innerHTML="<p><div></div>",t=i.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in n},needsSpaceAfterLineBreak:function(){return r},supportsSpeechApiOn:function(e){var n=t.match(/Chrome\/(\d+)/)||[,0];return n[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return i&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return i},hasProblemsSettingCaretAfterImg:function(){return i},hasUndoInContextMenu:function(){return o||a||r}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(e.indexOf)return-1!==e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return!0;return!1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],i=0,o=e.length;o>i;i++)t.contains(e[i])||n.push(e[i]);return n},get:function(){for(var t=0,n=e.length,i=[];n>t;t++)i.push(e[t]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;n.length>i;i++)n[i].call(this,t);return this},stopObserving:function(e,t){this.events=this.events||{};var n,i,o=0;if(e){for(n=this.events[e]||[],i=[];n.length>o;o++)n[o]!==t&&t&&i.push(n[o]);this.events[e]=i}else this.events={};return this}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/;wysihtml5.lang.string=function(n){return n=String(n),{trim:function(){return n.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)n=this.replace("#{"+t+"}").by(e[t]);return n},replace:function(e){return{by:function(t){return n.split(e).join(t)}}}}}}(),function(e){function t(e){return s(e)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e))}function n(e){return e.replace(l,function(e,t){var n=(t.match(c)||[])[1]||"",i=u[n];t=t.replace(c,""),t.split(i).length>t.split(n).length&&(t+=n,n="");var o=t,s=t;return t.length>d&&(s=s.substr(0,d)+"..."),"www."===o.substr(0,4)&&(o="http://"+o),'<a href="'+o+'">'+s+"</a>"+n})}function i(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function o(e){var t=e.parentNode,o=i(t.ownerDocument);for(o.innerHTML="<span></span>"+n(e.data),o.removeChild(o.firstChild);o.firstChild;)t.insertBefore(o.firstChild,e);t.removeChild(e)}function s(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,r.contains(t))return!0;if("body"===t)return!1}return!1}function a(t){if(!r.contains(t.nodeName)){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return o(t),void 0;for(var n=e.lang.array(t.childNodes).get(),i=n.length,s=0;i>s;s++)a(n[s]);return t}}var r=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,d=100,u={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.browser.supportsClassList(),n=e.dom;n.addClass=function(e,i){return t?e.classList.add(i):(n.hasClass(e,i)||(e.className+=" "+i),void 0)},n.removeClass=function(e,n){return t?e.classList.remove(n):(e.className=e.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," "),void 0)},n.hasClass=function(e,n){if(t)return e.classList.contains(n);var i=e.className;return i.length>0&&(i==n||new RegExp("(^|\\s)"+n+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,i){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var o,s,a,r,l,c,d,u,h,f=n.ownerDocument,p=t(f,i),m=n.querySelectorAll("br"),g=m.length;for(h=0;g>h;h++)for(r=m[h];(l=r.parentNode)&&l!==n&&l.lastChild===r;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(r);break}wysihtml5.dom.insert(r).after(r.parentNode)}for(o=wysihtml5.lang.array(n.childNodes).get(),s=o.length,h=0;s>h;h++)u=u||e(f,p),a=o[h],c="block"===wysihtml5.dom.getStyle("display").from(a),d="BR"===a.nodeName,c?(u=u.firstChild?e(f,p):u,u.appendChild(a),u=null):d?u=u.firstChild?null:u:u.appendChild(a);return n.parentNode.replaceChild(p,n),p}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var i,o=0,s=e.length;s>o;o++)i=e[o],"undefined"!=typeof t[i]&&""!==t[i]&&(n[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return i(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},i=function(n){for(var i=0,o=t.length;o>i;i++)if("border-box"===e.getStyle(t[i]).from(n))return t[i]};e.copyStyles=function(i){return{from:function(o){n(o)&&(i=wysihtml5.lang.array(i).without(t));for(var s,a="",r=i.length,l=0;r>l;l++)s=i[l],a+=s+":"+e.getStyle(s).from(o)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,i,o){return e.dom.observe(t,i,function(i){for(var s=i.target,a=e.lang.array(t.querySelectorAll(n));s&&s!==t;){if(a.contains(s)){o.call(s,i);break}s=s.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(i){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=n.length;i>t;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,i){i=i||document;var o;return"object"==typeof n&&n.nodeType?(o=i.createElement("div"),o.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(i)?(o=i.createElement("div"),o.innerHTML=n):(t(i),o=e(n,i)),o}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var i=(e.className||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}function i(t,n,i){for(;i--&&t&&"BODY"!==t.nodeName;){if(e(t.nodeName,n))return t;t=t.parentNode}return null}function o(i,o,s,a,r){for(;r--&&i&&"BODY"!==i.nodeName;){if(t(i)&&e(i.nodeName,o)&&n(i,s,a))return i;i=i.parentNode}return null}return function(e,t,n){return n=n||50,t.className||t.classRegExp?o(e,t.nodeName,t.className,t.classRegExp,n):i(e,t.nodeName,n)}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var o=i.ownerDocument,s=t[n]||e(n),a=i.style,r=i.currentStyle,l=a[s];if(l)return l;if(r)try{return r[s]}catch(c){}var d,u,h=o.defaultView||o.parentWindow,f=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;return h.getComputedStyle?(f&&(d=a.overflow,a.overflow="hidden"),u=h.getComputedStyle(i,null).getPropertyValue(n),f&&(a.overflow=d||""),u):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,i){var o=e(n)+":"+i,s=t[o];return s||(s=t[o]=n.getElementsByTagName(i)),s.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var n={},i=1;e.dom.hasElementWithClassName=function(i,o){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+o);var s=t(i)+":"+o,a=n[s];return a||(a=n[s]=i.getElementsByClassName(o)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n&&n.appendChild(i)}}},wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var i,o,s=0,a=t.length;a>s;s++)o=t[s],e.addEventListener?e.addEventListener(o,n,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+o,i));return{stop:function(){for(var o,s=0,a=t.length;a>s;s++)o=t[s],e.removeEventListener?e.removeEventListener(o,n,!1):e.detachEvent("on"+o,i)}}},wysihtml5.dom.parse=function(){function e(e,n,i,o){wysihtml5.lang.object(u).merge(d).merge(n).get(),i=i||e.ownerDocument||document;var s,a,r,l=i.createDocumentFragment(),c="string"==typeof e;for(s=c?wysihtml5.dom.getAsDom(e,i):e;s.firstChild;)r=s.firstChild,s.removeChild(r),a=t(r,o),a&&l.appendChild(a);return s.innerHTML="",s.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(s):s}function t(e,n){var i,o=e.nodeType,s=e.childNodes,a=s.length,c=r[o],d=0;if(i=c&&c(e),!i)return null;for(d=0;a>d;d++)newChild=t(s[d],n),newChild&&i.appendChild(newChild);return n&&1>=i.childNodes.length&&i.nodeName.toLowerCase()===l&&!i.attributes.length?i.firstChild:i}function n(e){var t,n,o=u.tags,s=e.nodeName.toLowerCase(),a=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(a&&"HTML"!=a&&(s=a+":"+s),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(s="div")),s in o){if(t=o[s],!t||t.remove)return null;t="string"==typeof t?{rename_tag:t}:t}else{if(!e.firstChild)return null;t={rename_tag:l}}return n=e.ownerDocument.createElement(t.rename_tag||s),i(e,n,t),e=null,n}function i(e,t,n){var i,s,a,r,l,d,h,m={},g=n.set_class,v=n.add_class,y=n.set_attributes,b=n.check_attributes,w=u.classes,_=0,C=[],x=[],S=[],T=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(l in b)h=f[b[l]],h&&(d=h(o(e,l)),"string"==typeof d&&(m[l]=d));if(g&&C.push(g),v)for(l in v)h=p[v[l]],h&&(r=h(o(e,l)),"string"==typeof r&&C.push(r));for(w["_wysihtml5-temp-placeholder"]=1,T=e.getAttribute("class"),T&&(C=C.concat(T.split(c))),i=C.length;i>_;_++)a=C[_],w[a]&&x.push(a);for(s=x.length;s--;)a=x[s],wysihtml5.lang.array(S).contains(a)||S.unshift(a);S.length&&(m["class"]=S.join(" "));for(l in m)try{t.setAttribute(l,m[l])}catch(k){}m.src&&("undefined"!=typeof m.width&&t.setAttribute("width",m.width),"undefined"!=typeof m.height&&t.setAttribute("height",m.height))}function o(e,t){t=t.toLowerCase();var n=e.nodeName;if("IMG"==n&&"src"==t&&s(e)===!0)return e.src;if(h&&"outerHTML"in e){var i=e.outerHTML.toLowerCase(),o=-1!=i.indexOf(" "+t+"=");return o?e.getAttribute(t):null}return e.getAttribute(t)}function s(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function a(e){return e.ownerDocument.createTextNode(e.data)}var r={1:n,3:a},l="span",c=/\s+/,d={tags:{},classes:{}},u={},h=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},p={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,o=0;i>o;o++)t=n[o],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return e.parentNode.removeChild(e),void 0;for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function o(e){if("MENU"===e.nodeName||"UL"===e.nodeName||"OL"===e.nodeName){var o,s,a,r,l,c=e.ownerDocument,d=c.createDocumentFragment(),u=e.previousElementSibling||e.previousSibling;for(u&&!t(u)&&i(d);l=e.firstChild;){for(s=l.lastChild;o=l.firstChild;)a=o===s,r=a&&!t(o)&&!n(o),d.appendChild(o),r&&i(d);l.parentNode.removeChild(l)}e.parentNode.replaceChild(d,e)}}e.resolveList=o}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],o=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(s){if(e.dom.contains(t.documentElement,s)){var a=this,r=s.contentWindow,l=s.contentWindow.document,c=t.characterSet||t.charset||"utf-8",d=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(d),l.close(),this.getWindow=function(){return s.contentWindow},this.getDocument=function(){return s.contentWindow.document},r.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var u,h;for(u=0,h=n.length;h>u;u++)this._unset(r,n[u]);for(u=0,h=i.length;h>u;u++)this._unset(r,i[u],e.EMPTY_FUNCTION);for(u=0,h=o.length;h>u;u++)this._unset(l,o[u]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,i=t.stylesheets,o="",s=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>s;s++)o+='<link rel="stylesheet" href="'+i[s]+'">';return t.stylesheets=o,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,i,o){try{t[n]=i}catch(s){}try{t.__defineGetter__(n,function(){return i})}catch(s){}if(o)try{t.__defineSetter__(n,function(){})}catch(s){}if(!e.browser.crashesWhenDefineProperty(n))try{var a={get:function(){return i}};o&&(a.set=function(){}),Object.defineProperty(t,n,a)}catch(s){}}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var i in t)n.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n=t.style;if("string"==typeof e)return n.cssText+=";"+e,void 0;for(var i in e)"float"===i?(n.cssFloat=e[i],n.styleFloat=e[i]):n[i]=e[i]}}},function(e){e.simulatePlaceholder=function(t,n,i){var o="placeholder",s=function(){n.hasPlaceholderSet()&&n.clear(),e.removeClass(n.element,o)},a=function(){n.isEmpty()&&(n.setValue(i),e.addClass(n.element,o))};t.observe("set_placeholder",a).observe("unset_placeholder",s).observe("focus:composer",s).observe("paste:composer",s).observe("blur:composer",a),a()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function e(e,n,i){n=n||t,i=i||e.ownerDocument||document;var o,s,a,r,l,c="string"==typeof e,d=0;o=c?wysihtml5.dom.getAsDom(e,i):e;for(l in n)for(a=o.querySelectorAll(l),s=n[l],r=a.length;r>d;d++)s(a[d]);return a=e=n=null,c?o.innerHTML:o}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),function(e){var t=e.dom;e.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(n){t.observe(n.element,["cut","keydown"],e)}}(),e.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"],i=function(i,o){if(o.firstChild&&e.lang.array(n).contains(o.firstChild.nodeName)){var s=t.getParentElement(i,{nodeName:n});if(s){var a=s==o.firstChild;if(a){var r=1>=s.childNodes.length;if(r){var l=s.firstChild?""===s.firstChild.innerHTML:!0;l&&s.parentNode.removeChild(s)}}}}};return function(n){t.observe(n.element,"keydown",function(t){if(t.keyCode===e.BACKSPACE_KEY){var o=n.selection.getSelectedNode();i(o,n.element)}})}}()}(wysihtml5),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(n){var i=n.innerHTML;if(-1===i.indexOf(t))return i;var o,s,a,r,l=n.querySelectorAll("[href*='~'], [src*='~']");for(r=0,a=l.length;a>r;r++)o=l[r].href||l[r].src,s=e.lang.string(o).replace("~").by(t),i=e.lang.string(i).replace(s).by(o);return i}}(wysihtml5),function(e){var t=e.dom,n=["LI","P","H1","H2","H3","H4","H5","H6"],i=["UL","OL","MENU"];e.quirks.insertLineBreakOnReturn=function(o){function s(n){var i=t.getParentElement(n,{nodeName:["P","DIV"]},2);if(i){var s=document.createTextNode(e.INVISIBLE_SPACE);t.insert(s).before(i),t.replaceWithChildNodes(i),o.selection.selectNode(s)}}function a(a){var r=a.keyCode;if(!(a.shiftKey||r!==e.ENTER_KEY&&r!==e.BACKSPACE_KEY)){var l=(a.target,o.selection.getSelectedNode()),c=t.getParentElement(l,{nodeName:n},4);return c?("LI"!==c.nodeName||r!==e.ENTER_KEY&&r!==e.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&r===e.ENTER_KEY&&setTimeout(function(){s(o.selection.getSelectedNode())},0):setTimeout(function(){var e,n=o.selection.getSelectedNode();n&&(e=t.getParentElement(n,{nodeName:i},2),e||s(n))},0),void 0):(r!==e.ENTER_KEY||e.browser.insertsLineBreaksOnReturn()||(o.commands.exec("insertLineBreak"),a.preventDefault()),void 0)}}t.observe(o.element.ownerDocument,"keydown",a)}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(o){}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var n=e.dom;e.Selection=Base.extend({constructor:function(e){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t){var i=rangy.createRange(this.doc),o=t.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,a=o?t.innerHTML:t.data,r=""===a||a===e.INVISIBLE_SPACE,l=n.getStyle("display").from(t),c="block"===l||"list-item"===l;if(r&&o&&s)try{t.innerHTML=e.INVISIBLE_SPACE}catch(d){}s?i.selectNodeContents(t):i.selectNode(t),s&&r&&o?i.collapse(c):s&&r&&(i.setStartAfter(t),i.setEndAfter(t)),this.setSelection(i)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},executeAndRestore:function(t,n){var i,o=this.doc.body,s=n&&o.scrollTop,a=n&&o.scrollLeft,r="_wysihtml5-temp-placeholder",l='<span class="'+r+'">'+e.INVISIBLE_SPACE+"</span>",c=this.getRange(this.doc);if(!c)return t(o,o),void 0;var d=c.createContextualFragment(l);c.insertNode(d);try{t(c.startContainer,c.endContainer)}catch(u){setTimeout(function(){throw u},0)}caretPlaceholder=this.doc.querySelector("."+r),caretPlaceholder?(i=rangy.createRange(this.doc),i.selectNode(caretPlaceholder),i.deleteContents(),this.setSelection(i)):o.focus(),n&&(o.scrollTop=s,o.scrollLeft=a);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(h){}},executeAndRestoreSimple:function(e){var t,n,i,o,s,a=this.getRange(),r=this.doc.body;if(!a)return e(r,r),void 0;o=a.getNodes([3]),n=o[0]||a.startContainer,i=o[o.length-1]||a.endContainer,s={collapsed:a.collapsed,startContainer:n,startOffset:n===a.startContainer?a.startOffset:0,endContainer:i,endOffset:i===a.endContainer?a.endOffset:i.length};try{e(a.startContainer,a.endContainer)}catch(l){setTimeout(function(){throw l},0)}t=rangy.createRange(this.doc);try{t.setStart(s.startContainer,s.startOffset)}catch(c){}try{t.setEnd(s.endContainer,s.endOffset)}catch(d){}try{this.setSelection(t)}catch(u){}},insertHTML:function(e){var t=rangy.createRange(this.doc),n=t.createContextualFragment(e),i=n.lastChild;this.insertNode(n),i&&this.setAfter(i)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t=this.getRange();if(t)try{t.surroundContents(e),this.selectNode(e)}catch(n){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function(){var n,i=this.doc,o=i.documentElement.scrollHeight>i.documentElement.offsetHeight,s=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var t=i.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();o&&(this.insertNode(s),n=t(s),s.parentNode.removeChild(s),n>i.body.scrollTop&&(i.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("extend","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,o,s=this.doc.selection.createRange(),a=s.boundingTop,r=(s.boundingHeight,this.doc.body.scrollWidth);if(s.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;r>i;i+=2)try{s.moveToPoint(i,a);break}catch(l){}for(e=a,t=this.doc.selection.createRange(),o=r;o>=0;o--)try{t.moveToPoint(o,e);break}catch(c){}s.setEndPoint("EndToEnd",t),s.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},getRange:function(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(t);return n.setSingleRange(e)}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function i(e,t,n){e.className?(o(e,n),e.className+=" "+t):e.className=t}function o(e,t){e.className&&(e.className=e.className.replace(t,""))}function s(e,t){return e.className.replace(f," ")==t.className.replace(f," ")}function a(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function r(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,o,s=0,a=e.attributes.length;a>s;++s)if(n=e.attributes[s],o=n.name,"class"!=o){if(i=t.attributes.getNamedItem(o),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function l(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n==e.length?!!e.nextSibling:!0:n>0&&e.childNodes.length>n}function c(e,n,i){var o;if(t.dom.isCharacterDataNode(n)&&(0==i?(i=t.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=t.dom.getNodeIndex(n)+1,n=n.parentNode):o=t.dom.splitDataNode(n,i)),!o){o=n.cloneNode(!1),o.id&&o.removeAttribute("id");for(var s;s=n.childNodes[i];)o.appendChild(s);t.dom.insertAfter(o,n)}return n==e?o:c(e,o.parentNode,t.dom.getNodeIndex(o))}function d(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function u(e,t,n,i){this.tagNames=e||[h],this.cssClass=t||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var h="span",f=/\s+/g;d.prototype={doMerge:function(){for(var e,t,n,i=[],o=0,s=this.textNodes.length;s>o;++o)e=this.textNodes[o],t=e.parentNode,i[o]=e.data,o&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;n>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},u.prototype={getAncestorWithClass:function(i){for(var o;i;){if(o=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):!0,i.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&o)return i;i=i.parentNode}return!1},postApply:function(e,t){for(var n,i,o,s=e[0],a=e[e.length-1],r=[],l=s,c=a,u=0,h=a.length,f=0,p=e.length;p>f;++f)i=e[f],o=this.getAdjacentMergeableTextNode(i.parentNode,!1),o?(n||(n=new d(o),r.push(n)),n.textNodes.push(i),i===s&&(l=n.firstTextNode,u=l.length),i===a&&(c=n.firstTextNode,h=n.getLength())):n=null;
var m=this.getAdjacentMergeableTextNode(a.parentNode,!0);if(m&&(n||(n=new d(a),r.push(n)),n.textNodes.push(m)),r.length){for(f=0,p=r.length;p>f;++f)r[f].doMerge();t.setStart(l,u),t.setEnd(c,h)}},getAdjacentMergeableTextNode:function(t,n){var i,o=t.nodeType==e.TEXT_NODE,s=o?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(o){if(i=t[a],i&&i.nodeType==e.TEXT_NODE)return i}else if(i=s[a],i&&this.areElementsMergeable(t,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&s(e,n)&&r(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),t},applyToTextNode:function(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&i(n,this.cssClass,this.similarClassRegExp);else{var o=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(o,e),o.appendChild(e)}},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&e.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(e,t,n){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&l(t.endContainer,t.endOffset)&&(c(n,t.endContainer,t.endOffset),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&l(t.startContainer,t.startOffset)&&(n=c(n,t.startContainer,t.startOffset))}this.similarClassRegExp&&o(n,this.similarClassRegExp),this.isRemovable(n)&&a(n)},applyToRange:function(t){var n=t.getNodes([e.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(i),this.selectNode(t,i),void 0}catch(o){}if(t.splitBoundaries(),n=t.getNodes([e.TEXT_NODE]),n.length){for(var s,a=0,r=n.length;r>a;++a)s=n[a],this.getAncestorWithClass(s)||this.applyToTextNode(s);t.setStart(n[0],0),s=n[n.length-1],t.setEnd(s,s.length),this.normalize&&this.postApply(n,t)}},undoToRange:function(t){var n,i,o=t.getNodes([e.TEXT_NODE]);if(o.length)t.splitBoundaries(),o=t.getNodes([e.TEXT_NODE]);else{var s=t.endContainer.ownerDocument,a=s.createTextNode(e.INVISIBLE_SPACE);t.insertNode(a),t.selectNode(a),o=[a]}for(var r=0,l=o.length;l>r;++r)n=o[r],i=this.getAncestorWithClass(n),i&&this.undoToTextNode(n,t,i);1==l?this.selectNode(t,o[0]):(t.setStart(o[0],0),n=o[o.length-1],t.setEnd(n,n.length),this.normalize&&this.postApply(o,t))},selectNode:function(t,n){var i=n.nodeType===e.ELEMENT_NODE,o="canHaveHTML"in n?n.canHaveHTML:!0,s=i?n.innerHTML:n.data,a=""===s||s===e.INVISIBLE_SPACE;if(a&&i&&o)try{n.innerHTML=e.INVISIBLE_SPACE}catch(r){}t.selectNodeContents(n),a&&i?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var i=n.intersection(t),o=i?i.toString():"";return n.detach(),o},isAppliedToRange:function(t){var n,i=[],o=t.getNodes([e.TEXT_NODE]);if(!o.length)return n=this.getAncestorWithClass(t.startContainer),n?[n]:!1;for(var s,a=0,r=o.length;r>a;++a){if(s=this.getTextSelectedByRange(o[a],t),n=this.getAncestorWithClass(o[a]),""!=s&&!n)return!1;i.push(n)}return i},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=u}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),o=n&&n.exec,s=null;if(this.editor.fire("beforecommand:composer"),o)i.unshift(this.composer),s=o.apply(n,i);else try{s=this.doc.execCommand(e,!1,t)}catch(a){}return this.editor.fire("aftercommand:composer"),s},state:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return n.unshift(this.composer),i.apply(t,n);try{return this.doc.queryCommandState(e)}catch(o){return!1}},value:function(e){var t=wysihtml5.commands[e],n=t&&t.value;if(n)return n.call(t,this.composer,e);try{return this.doc.queryCommandValue(e)}catch(i){return null}}}),function(e){var t;e.commands.bold={exec:function(t,n){return e.commands.formatInline.exec(t,n,"b")},state:function(t,n){return e.commands.formatInline.state(t,n,"b")},value:function(){return t}}}(wysihtml5),function(e){function t(e,t){for(var n,i,o,a=t.length,r=0;a>r;r++)n=t[r],i=s.getParentElement(n,{nodeName:"code"}),o=s.getTextContent(n),o.match(s.autoLink.URL_REG_EXP)&&!i?i=s.renameElement(n,"code"):s.replaceWithChildNodes(n)}function n(t,n){var a,r,l,c,d,u,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(e.commands.formatInline.exec(t,i,o,g,v),r=m.querySelectorAll(o+"."+g),a=r.length;a>y;y++){l=r[y],l.removeAttribute("class");for(p in n)l.setAttribute(p,n[p])}u=l,1===a&&(h=s.getTextContent(l),c=!!l.querySelector("*"),d=""===h||h===e.INVISIBLE_SPACE,!c&&d&&(s.setTextContent(l,n.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),t.selection.insertNode(f),u=f)),t.selection.setAfter(u)}var i,o="A",s=e.dom;e.commands.createLink={exec:function(e,i,o){var s=this.state(e,i);s?e.selection.executeAndRestore(function(){t(e,s)}):(o="object"==typeof o?o:{href:o},n(e,o))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")},value:function(){return i}}}(wysihtml5),function(e){var t,n=/wysiwyg-font-size-[a-z\-]+/g;e.commands.fontSize={exec:function(t,i,o){return e.commands.formatInline.exec(t,i,"span","wysiwyg-font-size-"+o,n)},state:function(t,i,o){return e.commands.formatInline.state(t,i,"span","wysiwyg-font-size-"+o,n)},value:function(){return t}}}(wysihtml5),function(e){var t,n=/wysiwyg-color-[a-z]+/g;e.commands.foreColor={exec:function(t,i,o){return e.commands.formatInline.exec(t,i,"span","wysiwyg-color-"+o,n)},state:function(t,i,o){return e.commands.formatInline.state(t,i,"span","wysiwyg-color-"+o,n)},value:function(){return t}}}(wysihtml5),function(e){function t(e,t,i){e.className?(n(e,i),e.className+=" "+t):e.className=t}function n(e,t){e.className=e.className.replace(t,"")}function i(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function o(e){for(var t=e.previousSibling;t&&i(t);)t=t.previousSibling;return t}function s(e){for(var t=e.nextSibling;t&&i(t);)t=t.nextSibling;return t}function a(e){var t=e.ownerDocument,n=s(e),i=o(e);n&&!d(n)&&e.parentNode.insertBefore(t.createElement("br"),n),i&&!d(i)&&e.parentNode.insertBefore(t.createElement("br"),e)}function r(e){var t=s(e),n=o(e);t&&c(t)&&t.parentNode.removeChild(t),n&&c(n)&&n.parentNode.removeChild(n)}function l(e){var t=e.lastChild;t&&c(t)&&t.parentNode.removeChild(t)}function c(e){return"BR"===e.nodeName}function d(e){return c(e)?!0:"block"===m.getStyle("display").from(e)?!0:!1}function u(t,n,i,o){if(o)var s=m.observe(t,"DOMNodeInserted",function(t){var n,i=t.target;i.nodeType===e.ELEMENT_NODE&&(n=m.getStyle("display").from(i),"inline"!==n.substr(0,6)&&(i.className+=" "+o))});t.execCommand(n,!1,i),s&&s.stop()}function h(e,t){e.selection.selectLine(),e.selection.surround(t),r(t),l(t),e.selection.selectNode(t)}function f(t){return!!e.lang.string(t.className).trim()}var p,m=e.dom,g="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",g];e.commands.formatBlock={exec:function(i,o,s,r,l){var c,d=i.doc,p=this.state(i,o,s,r,l);return s="string"==typeof s?s.toUpperCase():s,p?(i.selection.executeAndRestoreSimple(function(){l&&n(p,l);var e=f(p);e||p.nodeName!==(s||g)?e&&m.renameElement(p,g):(a(p),m.replaceWithChildNodes(p))}),void 0):(null===s||e.lang.array(v).contains(s))&&(c=i.selection.getSelectedNode(),p=m.getParentElement(c,{nodeName:v}))?(i.selection.executeAndRestoreSimple(function(){s&&(p=m.renameElement(p,s)),r&&t(p,r,l)}),void 0):i.commands.support(o)?(u(d,o,s||g,r),void 0):(p=d.createElement(s||g),r&&(p.className=r),h(i,p),void 0)},state:function(e,t,n,i,o){n="string"==typeof n?n.toUpperCase():n;var s=e.selection.getSelectedNode();return m.getParentElement(s,{nodeName:n,className:i,classRegExp:o})},value:function(){return p}}}(wysihtml5),function(e){function t(e){var t=o[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,i,o){var a=n+":"+i;return s[a]||(s[a]=new e.selection.HTMLApplier(t(n),i,o,!0)),s[a]}var i,o={strong:"b",em:"i",b:"strong",i:"em"},s={};e.commands.formatInline={exec:function(e,t,i,o,s){var a=e.selection.getRange();return a?(n(i,o,s).toggleRange(a),e.selection.setSelection(a),void 0):!1},state:function(t,i,s,a,r){var l,c=t.doc,d=o[s]||s;return e.dom.hasElementWithTagName(c,s)||e.dom.hasElementWithTagName(c,d)?a&&!e.dom.hasElementWithClassName(c,a)?!1:(l=t.selection.getRange(),l?n(s,a,r).isAppliedToRange(l):!1):!1},value:function(){return i}}}(wysihtml5),function(e){var t;e.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t="IMG";e.commands.insertImage={exec:function(n,i,o){o="object"==typeof o?o:{src:o};var s,a,r,l=n.doc,c=this.state(n);if(c)return n.selection.setBefore(c),r=c.parentNode,r.removeChild(c),e.dom.removeEmptyTextNodes(r),"A"!==r.nodeName||r.firstChild||(n.selection.setAfter(r),r.parentNode.removeChild(r)),e.quirks.redraw(n.element),void 0;c=l.createElement(t);for(a in o)c[a]=o[a];n.selection.insertNode(c),e.browser.hasProblemsSettingCaretAfterImg()?(s=l.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(s),n.selection.setAfter(s)):n.selection.setAfter(c)},state:function(n){var i,o,s,a=n.doc;return e.dom.hasElementWithTagName(a,t)?(i=n.selection.getSelectedNode())?i.nodeName===t?i:i.nodeType!==e.ELEMENT_NODE?!1:(o=n.selection.getText(),(o=e.lang.string(o).trim())?!1:(s=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==s.length?!1:s[0])):!1:!1},value:function(e){var t=this.state(e);return t&&t.src}}}(wysihtml5),function(e){var t,n="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(t,i){t.commands.support(i)?(t.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",n)},state:function(){return!1},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertOrderedList={exec:function(t,n){var i,o,s=t.doc,a=t.selection.getSelectedNode(),r=e.dom.getParentElement(a,{nodeName:"OL"}),l=e.dom.getParentElement(a,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(n)?(s.execCommand(n,!1,null),void 0):(r?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(r)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ol")}):(t.commands.exec("formatBlock","div",c),o=s.querySelector("."+c),i=""===o.innerHTML||o.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){r=e.dom.convertToList(o,"ol")}),i&&t.selection.selectNode(r.querySelector("li"))),void 0)},state:function(t){var n=t.selection.getSelectedNode();return e.dom.getParentElement(n,{nodeName:"OL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.insertUnorderedList={exec:function(t,n){var i,o,s=t.doc,a=t.selection.getSelectedNode(),r=e.dom.getParentElement(a,{nodeName:"UL"}),l=e.dom.getParentElement(a,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime();return t.commands.support(n)?(s.execCommand(n,!1,null),void 0):(r?t.selection.executeAndRestoreSimple(function(){e.dom.resolveList(r)}):l?t.selection.executeAndRestoreSimple(function(){e.dom.renameElement(l,"ul")}):(t.commands.exec("formatBlock","div",c),o=s.querySelector("."+c),i=""===o.innerHTML||o.innerHTML===e.INVISIBLE_SPACE,t.selection.executeAndRestoreSimple(function(){r=e.dom.convertToList(o,"ul")}),i&&t.selection.selectNode(r.querySelector("li"))),void 0)},state:function(t){var n=t.selection.getSelectedNode();return e.dom.getParentElement(n,{nodeName:"UL"})},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.italic={exec:function(t,n){return e.commands.formatInline.exec(t,n,"i")},state:function(t,n){return e.commands.formatInline.state(t,n,"i")},value:function(){return t}}}(wysihtml5),function(e){var t,n="wysiwyg-text-align-center",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)},value:function(){return t}}}(wysihtml5),function(e){var t,n="wysiwyg-text-align-left",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)},value:function(){return t}}}(wysihtml5),function(e){var t,n="wysiwyg-text-align-right",i=/wysiwyg-text-align-[a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)},value:function(){return t}}}(wysihtml5),function(e){var t;e.commands.underline={exec:function(t,n){return e.commands.formatInline.exec(t,n,"u")},state:function(t,n){return e.commands.formatInline.state(t,n,"u")},value:function(){return t}}}(wysihtml5),function(e){function t(e){for(var t;t=e.querySelector("._wysihtml5-temp");)t.parentNode.removeChild(t)}var n=90,i=89,o=8,s=46,a=40,r='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",c=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var a,d=this,u=this.composer.sandbox.getDocument();if(c.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,o=t===n&&!e.shiftKey,s=t===n&&e.shiftKey||t===i;o?(d.undo(),e.preventDefault()):s&&(d.redo(),e.preventDefault())}}),c.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==a&&(a=t,(t===o||t===s)&&d.transact())}),e.browser.hasUndoInContextMenu()){var h,f,p=function(){t(u),clearInterval(h)};c.observe(this.element,"contextmenu",function(){p(),d.composer.selection.executeAndRestoreSimple(function(){d.element.lastChild&&d.composer.selection.setAfter(d.element.lastChild),u.execCommand("insertHTML",!1,r),u.execCommand("insertHTML",!1,l),u.execCommand("undo",!1,null)}),h=setInterval(function(){u.getElementById("_wysihtml5-redo")?(p(),d.redo()):u.getElementById("_wysihtml5-undo")||(p(),d.undo())},400),f||(f=!0,c.observe(document,"mousedown",p),c.observe(u,["mousedown","paste","cut","copy"],p))})}this.editor.observe("newword:composer",function(){d.transact()}).observe("beforecommand:composer",function(){d.transact()})},transact:function(){var e=this.history[this.position-1],t=this.composer.getValue();if(t!=e){var n=this.history.length=this.position;n>a&&(this.history.shift(),this.position--),this.position++,this.history.push(t)}},undo:function(){this.transact(),1>=this.position||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(e){this.composer.setValue(e),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.observe("beforeload",function(){e.parent.observe("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t){var n=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t&&(n=this.parent.parse(n)),n=e.lang.string(n).replace(e.INVISIBLE_SPACE).by("")},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.innerHTML=e},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=t.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML,t="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===e||e===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(t)},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var i=this.textarea.element;t.insert(this.iframe).after(i),t.insert(n).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new e.Selection(this.parent),this.commands=new e.Commands(this.parent),t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var o=this.config.name;o&&(t.addClass(this.element,o),t.addClass(this.iframe,o));var s="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");s&&t.simulatePlaceholder(this.parent,this,s),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),e.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||e.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,o=n.canDisableAutoLinking(),s=n.doesAutoLinkingInContentEditable();if(o&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!s||s&&o)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(e,n){t.autoLink(n.parentNode)})});var a=this.sandbox.getDocument().getElementsByTagName("a"),r=t.autoLink.URL_REG_EXP,l=function(n){var i=e.lang.string(t.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};t.observe(this.element,"keydown",function(e){if(a.length){var n,o=i.selection.getSelectedNode(e.target.ownerDocument),s=t.getParentElement(o,{nodeName:"A"},4);s&&(n=l(s),setTimeout(function(){var e=l(s);e!==n&&e.match(r)&&s.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){var i=["width","height"],o=i.length,s=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&t.observe(s,"resizeend",function(t){for(var n,a=t.target||t.srcElement,r=a.style,l=0;o>l;l++)n=i[l],r[n]&&(a.setAttribute(n,parseInt(r[n],10)),r[n]="");e.quirks.redraw(s)}):n.supportsEvent("resizestart")&&t.observe(s,"resizestart",function(e){e.preventDefault()})},_initUndoManager:function(){new e.UndoManager(this.parent)}})}(wysihtml5),function(e){var t=e.dom,n=document,i=window,o=n.createElement("div"),s=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],r=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(e){if(e.setActive)try{e.setActive()}catch(o){}else{var s=e.style,a=n.documentElement.scrollTop||n.body.scrollTop,r=n.documentElement.scrollLeft||n.body.scrollLeft,l={position:s.position,top:s.top,left:s.left,WebkitUserSelect:s.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),i.scrollTo&&i.scrollTo(r,a)}};e.views.Composer.prototype.style=function(){var d=this,u=n.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||o.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||o.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===u&&h.blur(),t.copyStyles(a).from(h).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(s).from(h).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),c(h),t.copyStyles(a).from(h).to(this.focusStylesHost),t.copyStyles(s).from(h).to(this.focusStylesHost);var m=e.lang.array(a).without(["display"]);if(u?u.focus():h.blur(),f&&h.setAttribute("placeholder",p),!e.browser.hasCurrentStyleProperty())var g=t.observe(i,"resize",function(){if(!t.contains(document.documentElement,d.iframe))return g.stop(),void 0;var e=t.getStyle("display").from(h),n=t.getStyle("display").from(d.iframe);h.style.display="",d.iframe.style.display="none",t.copyStyles(r).from(h).to(d.iframe).andTo(d.focusStylesHost).andTo(d.blurStylesHost),d.iframe.style.display=n,h.style.display=e});return this.parent.observe("focus:composer",function(){t.copyStyles(m).from(d.focusStylesHost).to(d.iframe),t.copyStyles(s).from(d.focusStylesHost).to(d.element)}),this.parent.observe("blur:composer",function(){t.copyStyles(m).from(d.blurStylesHost).to(d.iframe),t.copyStyles(s).from(d.blurStylesHost).to(d.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,i={66:"bold",73:"italic",85:"underline"};e.views.Composer.prototype.observe=function(){var o=this,s=this.getValue(),a=this.sandbox.getIframe(),r=this.element,l=n.supportsEventsInIframeCorrectly()?r:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];t.observe(a,"DOMNodeRemoved",function(){clearInterval(d),o.parent.fire("destroy:composer")});var d=setInterval(function(){t.contains(document.documentElement,a)||(clearInterval(d),o.parent.fire("destroy:composer"))},250);t.observe(l,"focus",function(){o.parent.fire("focus").fire("focus:composer"),setTimeout(function(){s=o.getValue()},0)}),t.observe(l,"blur",function(){s!==o.getValue()&&o.parent.fire("change").fire("change:composer"),o.parent.fire("blur").fire("blur:composer")}),e.browser.isIos()&&t.observe(r,"blur",function(){var e=r.ownerDocument.createElement("input"),t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{o.selection.insertNode(e)}catch(i){r.appendChild(e)}e.focus(),e.parentNode.removeChild(e),window.scrollTo(n,t)}),t.observe(r,"dragenter",function(){o.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&t.observe(r,["dragover","dragenter"],function(e){e.preventDefault()}),t.observe(r,c,function(e){var t,i=e.dataTransfer;console.log("PASTED",e),i&&n.supportsDataTransfer()&&(t=i.getData("text/html")||i.getData("text/plain")),t?(r.focus(),o.commands.exec("insertHTML",t),o.parent.fire("paste").fire("paste:composer"),e.stopPropagation(),e.preventDefault()):setTimeout(function(){o.parent.fire("paste").fire("paste:composer")},0)}),t.observe(r,"keyup",function(t){var n=t.keyCode;(n===e.SPACE_KEY||n===e.ENTER_KEY)&&o.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){o.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(r,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(o.selection.selectNode(t),e.preventDefault())}),t.observe(r,"keydown",function(e){var t=e.keyCode,n=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(o.commands.exec(n),e.preventDefault())}),t.observe(r,"keydown",function(t){var n,i=o.selection.getSelectedNode(!0),s=t.keyCode;!i||"IMG"!==i.nodeName||s!==e.BACKSPACE_KEY&&s!==e.DELETE_KEY||(n=i.parentNode,n.removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(r)},0),t.preventDefault())});var u={IMG:"Image: ",A:"Link: "};t.observe(r,"mouseover",function(e){var t,n=e.target,i=n.nodeName;if("A"===i||"IMG"===i){var o=n.hasAttribute("title");o||(t=u[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue();t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var n,i=this,o=this.textarea.element.form,s=function(){n=setInterval(function(){i.fromComposerToTextarea()},t)},a=function(){clearInterval(n),n=null};s(),o&&(e.dom.observe(o,"submit",function(){i.sync(!0)}),e.dom.observe(o,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(e){"composer"!==e||n?"textarea"===e&&(i.fromComposerToTextarea(!0),a()):(i.fromTextareaToComposer(!0),s())}),this.editor.observe("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,i=!n;return e&&i||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.observe("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=n[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",o="[data-wysihtml5-dialog-field]",s="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var o=this,s=function(e){var t=o._serialize();t==o.elementToChange?o.fire("edit",t):o.fire("save",t),o.hide(),e.preventDefault(),e.stopPropagation()};t.observe(o.link,"click",function(){t.hasClass(o.link,n)&&setTimeout(function(){o.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&s(t),n===e.ESCAPE_KEY&&o.hide()}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",s),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){o.fire("cancel"),o.hide(),e.preventDefault(),e.stopPropagation()});for(var a=this.container.querySelectorAll(i),r=0,l=a.length,c=function(){clearInterval(o.interval)};l>r;r++)t.observe(a[r],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(o),n=t.length,i=0;n>i;i++)e[t[i].getAttribute(s)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,a=document.querySelector(":focus"),r=this.container.querySelectorAll(o),l=r.length,c=0;l>c;c++)t=r[c],t!==a&&(e&&"hidden"===t.type||(n=t.getAttribute(s),i=this.elementToChange?this.elementToChange[n]||"":t.defaultValue,t.value=i))},show:function(e){var o=this,s=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){o._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),s&&!e)try{s.focus()}catch(a){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},o={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},s={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,r){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return r.style.display="none",void 0;var c=document.createElement("div");e.lang.object(i).merge({width:r.offsetWidth+"px",height:r.offsetHeight+"px"}),t.insert(l).into(c),t.insert(c).into(r),t.setStyles(o).on(l),t.setAttributes(s).on(l),t.setStyles(i).on(c),t.setStyles(n).on(r);var d="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,d,function(){a.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(r,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",o="wysihtml5-action-active",s=e.dom;
e.toolbar.Toolbar=Base.extend({constructor:function(t,n){this.editor=t,this.container="string"==typeof n?document.getElementById(n):n,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=i.length,s=0;o>s;s++)new e.toolbar.Speech(this,i[s])},_getLinks:function(t){for(var n,i,o,s,a,r=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=r.length,c=0,d=this[t+"Mapping"]={};l>c;c++)n=r[c],o=n.getAttribute("data-wysihtml5-"+t),s=n.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+o+"']"),a=this._getDialog(n,o),d[o+":"+s]={link:n,group:i,name:o,value:s,dialog:a,state:!1}},_getDialog:function(t,n){var i,o,s=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&(i=new e.toolbar.Dialog(t,a),i.observe("show",function(){o=s.composer.selection.getBookmark(),s.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.observe("save",function(e){o&&s.composer.selection.setBookmark(o),s._execCommand(n,e),s.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.observe("cancel",function(){s.editor.focus(!1),s.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;switch(e){case"change_view":t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")}},_observe:function(){for(var e=this,t=this.editor,i=this.container,o=this.commandLinks.concat(this.actionLinks),a=o.length,r=0;a>r;r++)s.setAttributes({href:"javascript:;",unselectable:"on"}).on(o[r]);s.delegate(i,"[data-wysihtml5-command]","mousedown",function(e){e.preventDefault()}),s.delegate(i,"[data-wysihtml5-command]","click",function(t){var n=this,i=n.getAttribute("data-wysihtml5-command"),o=n.getAttribute("data-wysihtml5-command-value");e.execCommand(i,o),t.preventDefault()}),s.delegate(i,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.observe("focus:composer",function(){e.bookmark=null,clearInterval(e.interval),e.interval=setInterval(function(){e._updateLinkStates()},500)}),t.observe("blur:composer",function(){clearInterval(e.interval)}),t.observe("destroy:composer",function(){clearInterval(e.interval)}),t.observe("change_view",function(t){setTimeout(function(){e.commandsDisabled="composer"!==t,e._updateLinkStates(),e.commandsDisabled?s.addClass(i,n):s.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,a,r,l,c=(this.composer.element,this.commandMapping),d=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(a=!1,s.removeClass(l.link,i),l.group&&s.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),e.lang.object(a).isArray()&&(a=1===a.length?a[0]:!0),s.removeClass(l.link,t),l.group&&s.removeClass(l.group,t)),l.state!==a&&(l.state=a,a?(s.addClass(l.link,i),l.group&&s.addClass(l.group,i),l.dialog&&("object"==typeof a?l.dialog.show(a):l.dialog.hide())):(s.removeClass(l.link,i),l.group&&s.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in d)r=d[n],"change_view"===r.name&&(r.state=this.editor.currentView===this.editor.textarea,r.state?s.addClass(r.link,o):s.removeClass(r.link,o))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){var t,n={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:t,allowObjectResizing:!0,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.textareaElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(i).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var o=this;return setTimeout(function(){o.fire("beforeload").fire("load")},0),void 0}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(s){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e){return this.currentView.getValue(e)},setValue:function(e,t){return e?(this.currentView.setValue(e,t),this):this.clear()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t){var n=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof t&&e.quirks.redraw(t),n},_initParser:function(){this.observe("paste:composer",function(){var t=!0,n=this;n.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(n.composer.element),n.parse(n.composer.element)},t)}),this.observe("paste:textarea",function(){var e,t=this.textarea.getValue();e=this.parse(t),this.textarea.setValue(e)})}})}(wysihtml5),!function(e,t){"use strict";var n={"font-styles":function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+n+"' data-toggle='dropdown' href='#'>"+"<i class='icon-font'></i>&nbsp;<span class='current-font'>"+e.font_styles.normal+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+e.font_styles.normal+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+e.font_styles.h1+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+e.font_styles.h2+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+e.font_styles.h3+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>"+e.font_styles.h4+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>"+e.font_styles.h5+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>"+e.font_styles.h6+"</a></li>"+"</ul>"+"</li>"},emphasis:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+n+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+e.emphasis.bold+"</a>"+"<a class='btn"+n+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+e.emphasis.italic+"</a>"+"<a class='btn"+n+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+e.emphasis.underline+"</a>"+"</div>"+"</li>"},lists:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+n+"' data-wysihtml5-command='insertUnorderedList' title='"+e.lists.unordered+"' tabindex='-1'><i class='icon-list'></i></a>"+"<a class='btn"+n+"' data-wysihtml5-command='insertOrderedList' title='"+e.lists.ordered+"' tabindex='-1'><i class='icon-th-list'></i></a>"+"<a class='btn"+n+"' data-wysihtml5-command='Outdent' title='"+e.lists.outdent+"' tabindex='-1'><i class='icon-indent-right'></i></a>"+"<a class='btn"+n+"' data-wysihtml5-command='Indent' title='"+e.lists.indent+"' tabindex='-1'><i class='icon-indent-left'></i></a>"+"</div>"+"</li>"},link:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+e.link.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'>"+"<label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+e.link.target+"</label>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn' data-dismiss='modal'>"+e.link.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.link.insert+"</a>"+"</div>"+"</div>"+"<a class='btn"+n+"' data-wysihtml5-command='createLink' title='"+e.link.insert+"' tabindex='-1'><i class='icon-share'></i></a>"+"</li>"},image:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+e.image.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn' data-dismiss='modal'>"+e.image.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+e.image.insert+"</a>"+"</div>"+"</div>"+"<a class='btn"+n+"' data-wysihtml5-command='insertImage' title='"+e.image.insert+"' tabindex='-1'><i class='icon-picture'></i></a>"+"</li>"},html:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li><div class='btn-group'><a class='btn"+n+"' data-wysihtml5-action='change_view' title='"+e.html.edit+"' tabindex='-1'><i class='icon-pencil'></i></a>"+"</div>"+"</li>"},color:function(e,t){var n=t&&t.size?" btn-"+t.size:"";return"<li class='dropdown'><a class='btn dropdown-toggle"+n+"' data-toggle='dropdown' href='#' tabindex='-1'>"+"<span class='current-color'>"+e.colours.black+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+e.colours.black+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+e.colours.silver+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+e.colours.gray+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+e.colours.maroon+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+e.colours.red+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+e.colours.purple+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+e.colours.green+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+e.colours.olive+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+e.colours.navy+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+e.colours.blue+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+e.colours.orange+"</a></li>"+"</ul>"+"</li>"}},i=function(e,t,i){return n[e](t,i)},o=function(t,i){this.el=t;var o=i||a;for(var s in o.customTemplates)n[s]=o.customTemplates[s];this.toolbar=this.createToolbar(t,o),this.editor=this.createEditor(i),window.editor=this.editor,e("iframe.wysihtml5-sandbox").each(function(t,n){e(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){e("li.dropdown").removeClass("open")}})})};o.prototype={constructor:o,createEditor:function(n){n=n||{},n=e.extend(!0,{},n),n.toolbar=this.toolbar[0];var i=new t.Editor(this.el[0],n);if(n&&n.events)for(var o in n.events)i.on(o,n.events[o]);return i},createToolbar:function(t,n){var o=this,s=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=n.locale||a.locale||"en";for(var c in a){var d=!1;void 0!==n[c]?n[c]===!0&&(d=!0):d=a[c],d===!0&&(s.append(i(c,r[l],n)),"html"===c&&this.initHtml(s),"link"===c&&this.initInsertLink(s),"image"===c&&this.initInsertImage(s))}if(n.toolbar)for(c in n.toolbar)s.append(n.toolbar[c]);return s.find("a[data-wysihtml5-command='formatBlock']").click(function(t){var n=t.target||t.srcElement,i=e(n);o.toolbar.find(".current-font").text(i.html())}),s.find("a[data-wysihtml5-command='foreColor']").click(function(t){var n=t.target||t.srcElement,i=e(n);o.toolbar.find(".current-color").text(i.html())}),this.el.before(s),s},initHtml:function(e){var t="a[data-wysihtml5-action='change_view']";e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},initInsertImage:function(t){var n,i=this,o=t.find(".bootstrap-wysihtml5-insert-image-modal"),s=o.find(".bootstrap-wysihtml5-insert-image-url"),a=o.find("a.btn-primary"),r=s.val(),l=function(){var e=s.val();s.val(r),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",e)};s.keypress(function(e){13==e.which&&(l(),o.modal("hide"))}),a.click(l),o.on("shown",function(){s.focus()}),o.on("hide",function(){i.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=insertImage]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})},initInsertLink:function(t){var n,i=this,o=t.find(".bootstrap-wysihtml5-insert-link-modal"),s=o.find(".bootstrap-wysihtml5-insert-link-url"),a=o.find(".bootstrap-wysihtml5-insert-link-target"),r=o.find("a.btn-primary"),l=s.val(),c=function(){var e=s.val();s.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var t=a.prop("checked");i.editor.composer.commands.exec("createLink",{href:e,target:t?"_blank":"_self",rel:t?"nofollow":""})};s.keypress(function(e){13==e.which&&(c(),o.modal("hide"))}),r.click(c),o.on("shown",function(){s.focus()}),o.on("hide",function(){i.editor.currentView.element.focus()}),t.find("a[data-wysihtml5-command=createLink]").click(function(){var t=e(this).hasClass("wysihtml5-command-active");return t?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(e){e.stopPropagation()}),!1)})}};var s={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new o(n,t))})},shallowExtend:function(t){var n=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),i=this;return s.bypassDefaults.apply(i,[n])},deepExtend:function(t){var n=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),i=this;return s.bypassDefaults.apply(i,[n])},init:function(e){var t=this;return s.shallowExtend.apply(t,[e])}};e.fn.wysihtml5=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.wysihtml5"),void 0):s.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=o;var a=e.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["http://s3.amazonaws.com/puntospoint-assets-dev/assets/bootstrap-wysihtml5/wysiwyg-color-302f69eedfbd67c993f8ce2bc64c971c.css"],locale:"en"};"undefined"==typeof e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var r=e.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),function(e){e.fn.wysihtml5.locale["es-ES"]={font_styles:{normal:"Texto normal",h1:"Título 1",h2:"Título 2",h3:"Título 3"},emphasis:{bold:"Negrita",italic:"Itálica",underline:"Subrayado"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada",outdent:"Eliminar sangría",indent:"Agregar sangría"},link:{insert:"Insertar enlace",cancel:"Cancelar"},image:{insert:"Insertar imágen",cancel:"Cancelar"},html:{edit:"Editar HTML"},colours:{black:"Negro",silver:"Plata",gray:"Gris",maroon:"Marrón",red:"Rojo",purple:"Púrpura",green:"Verde",olive:"Oliva",navy:"Azul Marino",blue:"Azul",orange:"Naranja"}}}(jQuery),function(e){window.NestedFormEvents=function(){this.addFields=e.proxy(this.addFields,this),this.removeFields=e.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(t){var n=t.currentTarget,i=e(n).data("association"),o=e("#"+e(n).data("blueprint-id")),s=o.data("blueprint"),a=(e(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(a)for(var r=a.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=a.match(/[0-9]+/g)||[],c=0;r.length>c;c++)l[c]&&(s=s.replace(new RegExp("(_"+r[c]+")_.+?_","g"),"$1_"+l[c]+"_"),s=s.replace(new RegExp("(\\["+r[c]+"\\])\\[.+?\\]","g"),"$1["+l[c]+"]"));var d=new RegExp("new_"+i,"g"),u=this.newId();s=e.trim(s.replace(d,u));var h=this.insertFields(s,i,n);return h.trigger({type:"nested:fieldAdded",field:h}).trigger({type:"nested:fieldAdded:"+i,field:h}),!1},newId:function(){return(new Date).getTime()},insertFields:function(t,n,i){var o=e(i).data("target");return o?e(t).appendTo(e(o)):e(t).insertBefore(i)},removeFields:function(t){var n=e(t.currentTarget),i=n.data("association"),o=n.prev("input[type=hidden]");o.val("1");var s=n.closest(".fields");return s.hide(),s.trigger({type:"nested:fieldRemoved",field:s}).trigger({type:"nested:fieldRemoved:"+i,field:s}),!1}},window.nestedFormEvents=new NestedFormEvents,e(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),/*
 * Copyright 2011, Tobias Lindig
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 */
function(e){e.fn.closestChild=function(t){if(t&&""!=t){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),o=i.children(),s=0;o.length>s;++s){var a=e(o[s]);if(a.is(t))return a;n.push(a)}}return e()}}(jQuery),$(function(){$("input[type=file]").each(function(e,t){if("undefined"==typeof $(this).attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof $(this).attr("title")&&(n=$(this).attr("title"));var i=$(t),o=$("<div>").append(i.eq(0).clone()).html();i.replaceWith('<a class="file-input-wrapper btn '+i.attr("class")+'">'+n+o+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(e){var t,n,i,o,s,a,r,l;n=$(this),t=n.find("input"),i=n.offset().left,o=n.offset().top,s=t.width(),a=t.height(),r=e.pageX,l=e.pageY,moveInputX=r-i-s+20,moveInputY=l-o-a/2,t.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){$(this).parent().next(".file-input-name").remove(),$(this).prop("files").length>1?$(this).parent().after('<span class="file-input-name">'+$(this)[0].files.length+" files</span>"):$(this).parent().after('<span class="file-input-name">'+$(this).val().replace("C:\\fakepath\\","")+"</span>")})});var e="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(e)}),function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=i.offset();s.clk_x=t.pageX-a.left,s.clk_y=t.pageY-a.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var o={};o.fileapi=void 0!==e("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,o,s=e.param(n,t.traditional).split("&"),a=s.length,r=[];for(i=0;a>i;i++)s[i]=s[i].replace(/\+/g," "),o=s[i].split("="),r.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return r}function a(i){for(var o=new FormData,s=0;i.length>s;s++)o.append(i[s].name,i[s].value);if(t.extraData){var a=n(t.extraData);for(s=0;a.length>s;s++)a[s]&&o.append(a[s][0],a[s][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(r.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,o=e.total;e.lengthComputable&&(n=Math.ceil(100*(i/o))),t.uploadProgress(e,i,o,n)},!1),n}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(e,n){n.data=t.formData?t.formData:o,c&&c.call(this,e,n)},e.ajax(r)}function r(n){function o(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function a(){function t(){try{var e=o(v).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),r(k),C&&clearTimeout(C),C=void 0}}var n=u.attr2("target"),s=u.attr2("action");x.setAttribute("target",p),(!l||/post/i.test(l))&&x.setAttribute("method","POST"),s!=h.url&&x.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(C=setTimeout(function(){_=!0,r(T)},h.timeout));var a=[];try{if(h.extraData)for(var c in h.extraData)h.extraData.hasOwnProperty(c)&&(e.isPlainObject(h.extraData[c])&&h.extraData[c].hasOwnProperty("name")&&h.extraData[c].hasOwnProperty("value")?a.push(e('<input type="hidden" name="'+h.extraData[c].name+'">').val(h.extraData[c].value).appendTo(x)[0]):a.push(e('<input type="hidden" name="'+c+'">').val(h.extraData[c]).appendTo(x)[0]));h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(t,15);try{x.submit()}catch(d){var f=document.createElement("form").submit;f.apply(x)}}finally{x.setAttribute("action",s),n?x.setAttribute("target",n):u.removeAttr("target"),e(a).remove()}}function r(t){if(!y.aborted&&!M){if(A=o(v),A||(i("cannot access response document"),t=k),t===T&&y)return y.abort("timeout"),S.reject(y,"timeout"),void 0;if(t==k&&y)return y.abort("server abort"),S.reject(y,"error","server abort"),void 0;if(A&&A.location.href!=h.iframeSrc||_){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var n,s="success";try{if(_)throw"timeout";var a="xml"==h.dataType||A.XMLDocument||e.isXMLDoc(A);if(i("isXml="+a),!a&&window.opera&&(null===A.body||!A.body.innerHTML)&&--I)return i("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var l=A.body?A.body:A.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=A.XMLDocument?A.XMLDocument:A,a&&(h.dataType="xml"),y.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(h.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||h.textarea){var u=A.getElementsByTagName("textarea")[0];if(u)y.responseText=u.value,y.status=Number(u.getAttribute("status"))||y.status,y.statusText=u.getAttribute("statusText")||y.statusText;else if(d){var p=A.getElementsByTagName("pre")[0],m=A.getElementsByTagName("body")[0];p?y.responseText=p.textContent?p.textContent:p.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=P(y.responseText));try{E=R(y,c,h)}catch(b){s="parsererror",y.error=n=b||s}}catch(b){i("error caught: ",b),s="error",y.error=n=b||s}y.aborted&&(i("upload aborted"),s=null),y.status&&(s=y.status>=200&&300>y.status||304===y.status?"success":"error"),"success"===s?(h.success&&h.success.call(h.context,E,"success",y),S.resolve(y.responseText,"success",y),f&&e.event.trigger("ajaxSuccess",[y,h])):s&&(void 0===n&&(n=y.statusText),h.error&&h.error.call(h.context,y,s,n),S.reject(y,"error",n),f&&e.event.trigger("ajaxError",[y,h,n])),f&&e.event.trigger("ajaxComplete",[y,h]),f&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,y,s),M=!0,h.timeout&&clearTimeout(C),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),y.responseXML=null},100)}}}var c,d,h,f,p,g,v,y,b,w,_,C,x=u[0],S=e.Deferred();if(S.abort=function(e){y.abort(e)},n)for(d=0;m.length>d;d++)c=e(m[d]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,p="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),w=g.attr2("name"),w?p=w:g.attr2("name",p)):(g=e('<iframe name="'+p+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",h.iframeSrc),y.error=n,h.error&&h.error.call(h.context,y,n,t),f&&e.event.trigger("ajaxError",[y,h,n]),h.complete&&h.complete.call(h.context,y,n)}},f=h.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[y,h]),h.beforeSend&&h.beforeSend.call(h.context,y,h)===!1)return h.global&&e.active--,S.reject(),S;if(y.aborted)return S.reject(),S;b=x.clk,b&&(w=b.name,w&&!b.disabled&&(h.extraData=h.extraData||{},h.extraData[w]=b.value,"image"==b.type&&(h.extraData[w+".x"]=x.clk_x,h.extraData[w+".y"]=x.clk_y)));var T=1,k=2,D=e("meta[name=csrf-token]").attr("content"),N=e("meta[name=csrf-param]").attr("content");N&&D&&(h.extraData=h.extraData||{},h.extraData[N]=D),h.forceSync?a():setTimeout(a,10);var E,A,M,I=50,P=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},L=e.parseJSON||function(e){return window.eval("("+e+")")},R=function(t,n,i){var o=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&o.indexOf("xml")>=0,a=s?t.responseXML:t.responseText;return s&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(a=i.dataFilter(a,n)),"string"==typeof a&&("json"===n||!n&&o.indexOf("json")>=0?a=L(a):("script"===n||!n&&o.indexOf("javascript")>=0)&&e.globalEval(a)),a};return S}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,d,u=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),d="string"==typeof c?e.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var p,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,p=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,f);p&&(v=v?v+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var y=[];if(t.resetForm&&y.push(function(){u.resetForm()}),t.clearForm&&y.push(function(){u.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};y.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(b,arguments)})}else t.success&&y.push(t.success);if(t.success=function(e,n,i){for(var o=t.context||this,s=0,a=y.length;a>s;s++)y[s].apply(o,[e,n,i||u,u])},t.error){var w=t.error;t.error=function(e,n,i){var o=t.context||this;w.apply(o,[e,n,i,u])}}if(t.complete){var _=t.complete;t.complete=function(e,n){var i=t.context||this;_.apply(i,[e,n,u])}}var C=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),x=C.length>0,S="multipart/form-data",T=u.attr("enctype")==S||u.attr("encoding")==S,k=o.fileapi&&o.formdata;i("fileAPI :"+k);var D,N=(x||T)&&!k;t.iframe!==!1&&(t.iframe||N)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){D=r(g)}):D=r(g):D=(x||T)&&k?a(g):e.ajax(t),u.removeData("jqxhr").data("jqxhr",D);for(var E=0;m.length>E;E++)m[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&e.isFunction(e.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return o.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,t).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,t).bind("click.form-plugin",o,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var s=this[0],a=t?s.getElementsByTagName("*"):s.elements;if(!a)return i;var r,l,c,d,u,h,f;for(r=0,h=a.length;h>r;r++)if(u=a[r],c=u.name,c&&!u.disabled)if(t&&s.clk&&"image"==u.type)s.clk==u&&(i.push({name:c,value:e(u).val(),type:u.type}),i.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}));else if(d=e.fieldValue(u,!0),d&&d.constructor==Array)for(n&&n.push(u),l=0,f=d.length;f>l;l++)i.push({name:c,value:d[l]});else if(o.fileapi&&"file"==u.type){n&&n.push(u);var p=u.files;if(p.length)for(l=0;p.length>l;l++)i.push({name:c,value:p[l],type:u.type});else i.push({name:c,value:"",type:u.type})}else null!==d&&"undefined"!=typeof d&&(n&&n.push(u),i.push({name:c,value:d,type:u.type,required:u.required}));if(!t&&s.clk){var m=e(s.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(i.push({name:c,value:m.val()}),i.push({name:c+".x",value:s.clk_x},{name:c+".y",value:s.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var s=0,a=o.length;a>s;s++)n.push({name:i,value:o[s]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,o=this.length;o>i;i++){var s=this[i],a=e.fieldValue(s,t);null===a||"undefined"==typeof a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(n,a):n.push(a))}return n},e.fieldValue=function(t,n){var i=t.name,o=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var a=t.selectedIndex;if(0>a)return null;for(var r=[],l=t.options,c="select-one"==o,d=c?a+1:l.length,u=c?a:0;d>u;u++){var h=l[u];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;r.push(f)}}return r}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto),"undefined"==typeof jQuery)throw"jQuery Required";(function(e){e.extend({DirtyForms:{debug:!1,message:"You've made changes on this page which aren't saved. If you leave you will lose these changes.",title:"Are you sure you want to do that?",dirtyClass:"dirty",listeningClass:"dirtylisten",ignoreClass:"ignoredirty",choiceContinue:!1,helpers:[],dialog:{refire:function(t){e.facebox(t)},fire:function(t,n){var i="<h1>"+n+"</h1><p>"+t+'</p><p><a href="#" class="ignoredirty button medium red continue">Continue</a><a href="#" class="ignoredirty button medium cancel">Stop</a>';e.facebox(i)},bind:function(){var t=function(t){return function(n){n.preventDefault(),e(document).trigger("close.facebox"),t(n)}};e("#facebox .cancel, #facebox .close, #facebox_overlay").click(t(g)),e("#facebox .continue").click(t(v))},stash:function(){var t=e("#facebox");return""==e.trim(t.html())||"block"!=t.css("display")?!1:e("#facebox .content").clone(!0)},selector:"#facebox .content"},isDirty:function(){return e(":dirtylistening").dirtyForms("isDirty")},disable:function(){n.disabled=!0},ignoreParentDocs:function(){n.watchParentDocs=!1},choiceCommit:function(e){m(e)},isDeciding:function(){return n.deciding},decidingContinue:function(e){v(e)},decidingCancel:function(e){g(e)},dirtylog:function(e){r(e)}}}),e.extend(e.expr[":"],{dirtylistening:function(t){return e(t).hasClass(e.DirtyForms.listeningClass)},dirty:function(t){return e(t).hasClass(e.DirtyForms.dirtyClass)}});var t={init:function(){var t=e.DirtyForms;return r("Adding forms to watch"),l(),this.each(function(){if(e(this).is("form")){r("Adding form "+e(this).attr("id")+" to forms to watch"),e(this).addClass(t.listeningClass);var n="textarea,input:not([type='checkbox'],[type='radio'],[type='button'],[type='image'],[type='submit'],[type='reset'],[type='file'],[type='search'])",a="input[type='checkbox'],input[type='radio'],select",l="input[type='reset']";"function"==typeof e(document).on?(e(this).on("focus change",n,s),e(this).on("change",a,o),e(this).on("click",l,i)):(e(this).delegate(n,"focus change",s),e(this).delegate(a,"change",o),e(this).delegate(l,"click",i))}})},isDirty:function(){var t=!1,i=this;return n.disabled?!1:a()?(t=!0,!0):(this.each(function(){return e(this).hasClass(e.DirtyForms.dirtyClass)?(t=!0,!0):void 0}),e.each(e.DirtyForms.helpers,function(e,n){return"isDirty"in n&&n.isDirty(i)?(t=!0,!0):"isNodeDirty"in n&&n.isNodeDirty(i)?(t=!0,!0):void 0}),r("isDirty returned "+t),t)},setDirty:function(){return r("setDirty called"),this.each(function(){e(this).addClass(e.DirtyForms.dirtyClass).parents("form").addClass(e.DirtyForms.dirtyClass)})},setClean:function(){return r("setClean called"),n.focused={element:!1,value:!1},this.each(function(){var t=this;if(e(t).removeClass(e.DirtyForms.dirtyClass),e(t).is("form"))e(t).find(":dirty").removeClass(e.DirtyForms.dirtyClass);else{var n=e(t).parents("form");0==n.find(":dirty").length&&n.removeClass(e.DirtyForms.dirtyClass)}e.each(e.DirtyForms.helpers,function(e,n){"setClean"in n&&n.setClean(t)})})}};e.fn.dirtyForms=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?(e.error("Method "+n+" does not exist on jQuery.dirtyForms"),void 0):t.init.apply(this,arguments)},e.fn.setDirty=function(){return this.dirtyForms("setDirty")},e.fn.isDirty=function(){return this.dirtyForms("isDirty")},e.fn.cleanDirty=function(){return this.dirtyForms("setClean")};var n=e.DirtyForms=e.extend({watchParentDocs:!0,disabled:!1,exitBound:!1,formStash:!1,dialogStash:!1,deciding:!1,decidingEvent:!1,currentForm:!1,hasFirebug:"console"in window&&"firebug"in window.console,hasConsoleLog:"console"in window&&"log"in window.console,focused:{element:!1,value:!1}},e.DirtyForms),i=function(){e(this).parents("form").dirtyForms("setClean")},o=function(){e(this).dirtyForms("setDirty")},s=function(){element=e(this),a()&&n.focused.element.dirtyForms("setDirty"),n.focused.element=element,n.focused.value=element.val()},a=function(){return n.focused.element&&n.focused.element.val()!==n.focused.value},r=function(t){e.DirtyForms.debug&&(t="[DirtyForms] "+t,n.hasFirebug?console.log(t):n.hasConsoleLog?window.console.log(t):alert(t))},l=function(){if(!n.exitBound){var t=top!==self;"function"==typeof e(document).on?(e(document).on("click","a",d),e(document).on("submit","form",u),n.watchParentDocs&&t&&(e(top.document).on("click","a",d),e(top.document).on("submit","form",u))):(e(document).delegate("a","click",d),e(document).delegate("form","submit",u),n.watchParentDocs&&t&&(e(top.document).delegate("a","click",d),e(top.document).delegate("form","submit",u))),e(window).bind("beforeunload",h),n.watchParentDocs&&t&&e(top.window).bind("beforeunload",h),n.exitBound=!0}},c=function(){var t="";return e.each(e.DirtyForms.helpers,function(e,n){"ignoreAnchorSelector"in n&&(t.length>0&&(t+=","),t+=n.ignoreAnchorSelector)}),t},d=function(t){e(this).is(c())||f(t)},u=function(e){n.currentForm=this,f(e)},h=function(e){var t=f(e);return t&&1!=n.doubleunloadfix&&(r("Before unload will be called, resetting"),n.deciding=!1),n.doubleunloadfix=!0,setTimeout(function(){n.doubleunloadfix=!1},200),"string"==typeof t?(e=e||window.event,e&&(e.returnValue=t),t):void 0},f=function(t){return r("Entering: Leaving Event fired, type: "+t.type+", element: "+t.target+", class: "+e(t.target).attr("class")+" and id: "+t.target.id),"beforeunload"==t.type&&n.doubleunloadfix?(r("Skip this unload, Firefox bug triggers the unload event multiple times"),n.doubleunloadfix=!1,!1):e(t.target).hasClass(n.ignoreClass)||p(t)?(r("Leaving: Element has ignore class or has target='_blank'"),t.isDefaultPrevented()||y(),!1):n.deciding?(r("Leaving: Already in the deciding process"),!1):t.isDefaultPrevented()?(r("Leaving: Event has been stopped elsewhere"),!1):n.isDirty()?"submit"==t.type&&e(t.target).dirtyForms("isDirty")?(r("Leaving: Form submitted is a dirty form"),t.isDefaultPrevented()||y(),!0):(n.deciding=!0,n.decidingEvent=t,r("Setting deciding active"),n.dialog!==!1&&(r("Saving dialog content"),n.dialogStash=n.dialog.stash(),r(n.dialogStash)),e(document).trigger("defer.dirtyforms"),"beforeunload"==t.type?(r("Returning to beforeunload browser handler with: "+n.message),n.message):(n.dialog&&(t.preventDefault(),t.stopImmediatePropagation(),e(t.target).is("form")&&e(t.target).parents(n.dialog.selector).length>0?(r("Stashing form"),n.formStash=e(t.target).clone(!0).hide()):n.formStash=!1,r("Deferring to the dialog"),n.dialog.fire(e.DirtyForms.message,e.DirtyForms.title),n.dialog.bind()),void 0)):(r("Leaving: Not dirty"),t.isDefaultPrevented()||y(),!1)},p=function(t){var n=e(t.target).attr("target");return"string"==typeof n&&(n=n.toLowerCase()),"_blank"===n},m=function(t){n.deciding&&(e(document).trigger("choicecommit.dirtyforms"),e.DirtyForms.choiceContinue?v(t):g(t),e(document).trigger("choicecommitAfter.dirtyforms"))},g=function(t){t.preventDefault(),e(document).trigger("decidingcancelled.dirtyforms"),n.dialog!==!1&&n.dialogStash!==!1&&(r("Refiring the dialog with stashed content"),n.dialog.refire(n.dialogStash.html(),t)),e(document).trigger("decidingcancelledAfter.dirtyforms"),n.dialogStash=!1,n.deciding=n.currentForm=n.decidingEvent=!1},v=function(t){window.onbeforeunload=null,t.preventDefault(),n.dialogStash=!1,e(document).trigger("decidingcontinued.dirtyforms"),b(n.decidingEvent),n.deciding=n.currentForm=n.decidingEvent=!1},y=function(){r("Clearing the beforeunload event"),e(window).unbind("beforeunload",h),window.onbeforeunload=null,e(document).trigger("beforeunload.dirtyforms")},b=function(t){switch(e(document).trigger("beforeRefire.dirtyforms"),e(document).trigger("beforeunload.dirtyforms"),t.type){case"click":r("Refiring click event");var i=new jQuery.Event("click");if(e(t.target).trigger(i),!i.isDefaultPrevented()){var o=e(t.target).closest("[href]");return r("Sending location to "+o.attr("href")),location.href=o.attr("href"),void 0}break;default:r("Refiring "+t.type+" event on "+t.target);var s;n.formStash?(r("Appending stashed form to body"),s=n.formStash,e("body").append(s)):(s=e(t.target),s.is("form")||(s=s.closest("form"))),s.trigger(t.type)}}})(jQuery),function(){$.widget("pp.income",{_init:function(){var e;return e=this,this.radioButtons=this.element.find('input[type="radio"]'),this.element.hide(),this.element.wrap('<div class="hide"/>').parent().parent().append(this.buttonGroupHTML()),this.incomeButtons=$(".pp-income"),this.incomeButtons.find(".btn").on("click",function(e){return e.preventDefault(),$(".pp-income").find(".active").removeClass("active"),$(this).addClass("active"),$('input[value="'+$(this).text()+'"]').prop("checked",!0)}),this.byIndustry=$("#experience_by_industry_exclusivity_sales"),this.noExclusivity=$("#experience_without_exclusivity_sales"),this.byIndustry.on("change",function(){return e.checkExclusivity()}),this.noExclusivity.on("change",function(){return e.checkExclusivity()}),this.checkExclusivity()},buttonGroupHTML:function(){var e;return e='<div class="btn-group pp-income">',this.radioButtons.each(function(t,n){var i;return i=$(n).is(":checked")?"active":"",e+='<button class="btn '+i+'">'+$(n).val()+"</button>"}),e+="<div />"},checkExclusivity:function(){var e;return e=this.incomeButtons.find(".btn:first"),this.byIndustry.is(":checked")||this.noExclusivity.is(":checked")?(e.hide(),$('input[value="Ventas"]').is(":checked")?this.incomeButtons.find(".btn:nth(1)").trigger("click"):void 0):e.show()}}),$(function(){var e,t,n,i,o,s,a,r;return $(".section-header").on("click",function(){return $(this).closest(".section").find(".section-content").slideToggle(),$(this).find(".arrow").toggleClass("down")}),a=$("form.new_experience"),n=$("form.edit_experience"),i=a.length>0?a:n,e=o=!1,s=a.length>0?!0:!1,i.length>0&&(i.dirtyForms({title:"TITLE",message:"Tienes cambios pendientes sin guardar. Estas seguro que quieres salir?"}),t=i.find('input[name="save_draft"]').button(),r=!1,t.on("click",function(n){return n.preventDefault(),i.ajaxSubmit({beforeSubmit:function(){return t.button("loading"),r=!0},success:function(e,t,n){var a,r;return s=!1,r=$(e),o&&(a=r.find(".experience-files"),i.find(".experience-files").html(a.html())),i.dirtyForms("setClean"),0===i.find('input[name="_method"]').length&&i.find("div:first").append('<input type="hidden" name="_method" value="put" />'),i.attr("action",n.getResponseHeader("Location"))},error:function(t){return 503===t.status||401===t.status||403===t.status?e=!0:void 0},complete:function(){return r=!1,t.button("reset")}})}),setInterval(function(){return!i.dirtyForms("isDirty")||r||e?void 0:t.click()},6e4),i.find('.relative input[type="file"]').on("change",function(){return i.dirtyForms("setDirty")}),i.delegate('.experience-files input[type="file"]',"change",function(){return o=!0,i.dirtyForms("setDirty")})),$(".experience_income_type .controls").income(),$(".wysihtml5").each(function(e,t){return $(t).wysihtml5({image:!1,lists:!1,locale:"es-ES",events:{"change:composer":function(){return i.dirtyForms("setDirty")}}})})})}.call(this),function(){}.call(this),function(){$(function(){var e,t,n;return window.numberToCurrency=function(e,t){var n,i,o,s,a;return n=",",s=".",t=t||0,0===e||e?(e+="",a=parseFloat(e.replace(/[\.]/g,"").replace(/[\,]/g,".")),i=a.toFixed(t),0===t?(o=RegExp("^(-?\\d{1,3})((\\d{3})+)$").exec(i),o?o[1]+o[2].replace(/\d{3}/g,s+"$&"):i.replace(".",n)):(o=RegExp("^(-?\\d{1,3})((\\d{3})+)\\.(\\d{"+t+"})$").exec(i),o?o[1]+o[2].replace(/\d{3}/g,s+"$&")+n+o[4]:i.replace(".",n))):void 0},window.currencyToNumber=function(e){return parseFloat(e.replace(/[\.]/g,"").replace(/[\,]/g,"."))},window.do_format=function(e,t){var n,i;return $(e).val()?(i=currencyToNumber($(e).val()||"0"),0>i&&(i=0),n=numberToCurrency(to_string_number(i),t),$(e).val(n)):void 0},window.to_string_number=function(e){return e+="",e=e.replace(".",",")},e=function(){var e,t,n,i,o,s,a,r;return r=currencyToNumber($("input#experience_amount").val()||"0"),a=currencyToNumber($("input#experience_discounted_price").val()||"0"),s=parseInt(r),t=parseInt(a),e=100-(parseFloat(100*t/s)||0),o=numberToCurrency(s,0),i=numberToCurrency(t,0),n=numberToCurrency(to_string_number(e),0),$("input#experience_amount").val(o),$("input#experience_discounted_price").val(i),$("input#experience_discount_percentage").val(n)},n=function(){var e,t,n,i,o,s,a,r;return r=currencyToNumber($("input#experience_discounted_price").val()||"0"),a=currencyToNumber($("input#experience_discount_percentage").val()||"0"),console.log(a),t=parseInt(r),e=parseFloat(a),s=parseInt(100*t/(100-e)),o=numberToCurrency(s,0),i=numberToCurrency(t,0),n=numberToCurrency(to_string_number(e),2),$("input#experience_amount").val(o),$("input#experience_discounted_price").val(i),$("input#experience_discount_percentage").val(n)},t=function(){var e,t,n,i,o,s,a,r;return r=currencyToNumber($("input#experience_amount").val()||0),a=currencyToNumber($("input#experience_discount_percentage").val()||0),0>a&&(a=0),a>100&&(a=100),s=parseInt(r),e=parseFloat(a),t=parseInt(s*(100-e)/100||0),o=numberToCurrency(s,0),i=numberToCurrency(t,0),n=numberToCurrency(to_string_number(e),2),$("input#experience_amount").val(o),$("input#experience_discounted_price").val(i),$("input#experience_discount_percentage").val(n)},$("input#experience_discounted_price").on("change",function(){return do_format($(this),0),$("input#experience_discounted_price").val()&&$("input#experience_amount").val()?e():$("input#experience_discounted_price").val()&&$("input#experience_discount_percentage").val()?n():$("input#experience_discount_percentage").val("")}),$("input#experience_discount_percentage").on("change",function(){return do_format($(this),2),$("input#experience_discount_percentage").val()&&$("input#experience_amount").val()?t():$("input#experience_discount_percentage").val()&&$("input#experience_discounted_price").val()?n():$("input#experience_discounted_price").val()&&$("input#experience_amount").val()?$("input#experience_discounted_price").trigger("change"):void 0}),$("input#experience_amount").on("change",function(){return do_format($(this),0),$("input#experience_discount_percentage").val()&&$("input#experience_amount").val()?t():$("input#experience_discounted_price").val()&&$("input#experience_amount").val()?e():void 0}),$("input#experience_discounted_price").trigger("change")})}.call(this),function(){$(function(){return $(document).on("change","input.min_max",function(){var e,t,n;return n=$(this).val(),(void 0!==n&&""!==n||!$(this).data("blank"))&&(t=$(this).data("min"),e=$(this).data("max"),void 0!==t&&t>n&&$(this).val(t),void 0!==e&&n>e)?$(this).val(e):void 0})})}.call(this),function(){window.permiteNumeros=function(e){var t,n,i,o,s,a,r,l;s="0123456789",a=s+".,",l=[8,9,37,39,46],i=e||window.event,n=i.charCode||i.keyCode,t=String.fromCharCode(n),r=!1;for(o in l)if(n===l[o]){r=!0;break}return-1!==a.indexOf(t)||r}}.call(this),function(){$(function(){return $(".checkboxEfis label input.check_boxes").on("change",function(){return $(this).is(":checked")?$(this).parent().find(".hoverEfis").removeClass("dn"):$(this).parent().find(".hoverEfis").addClass("dn")})})}.call(this),function(){}.call(this),function(){$(function(){return $.extend($.fn.dataTable.defaults,{oLanguage:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"No hay datos disponibles",sInfo:"Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando desde 0 hasta 0 de 0 registros",sInfoFiltered:"(filtrado de _MAX_ registros en total)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecord:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},fnInfoCallback:null,oAria:{sSortAscending:": activar para Ordenar Ascendentemente",sSortDescending:": activar para Ordendar Descendentemente"}}})})}.call(this),function(){$(function(){var e;return $("#experience-filter a").click(function(e){return e.preventDefault(),$(this).tab("show")}),$("form.new_experience, form.edit_experience").validate({onfocusout:function(e){return this.element(e)},rules:{"experience[swaps]":{number:!0,min:1},"experience[amount]":{number:!0,min:1},"experience[discounted_price]":{number:!0,min:1},"experience[discount_percentage]":{number:!0,min:0,max:100},"experience[codes_by_purchase]":{number:!0,min:1}}}),$(".validation-box form").submit(function(){var t;return t=$(this),$.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),beforeSend:function(){return t.children(".experience-validation").button("loading")},complete:function(){return t.children(".experience-validation").button("reset")
},success:function(n){return e(t,n.type,n.message)},error:function(){return e(t,"error","A ocurrido un error!")}}),!1}),$(".experience-validation").button(),e=function(e,t,n){return e.append("<div class='alert alert-"+t+" flash-fadeout'>"+n+"</div>"),$(".flash-fadeout").delay(5e3).fadeOut()}})}.call(this),function(){$(function(){return $(".preview_image").on("change",function(e){var t,n;return t=e.target?e.target:e.srcElement,t.files[0]?(n=new FileReader,n.onload=function(e){return $(".preview_container").attr("src",e.target.result).width(470).height(350)},n.readAsDataURL(t.files[0])):void 0})})}.call(this),function(){$(function(){return $("#banner_event_id").on("change",function(){return $(".valid_images_container > .well").addClass("dn"),$(".valid_images_container > .valid_images_"+$(this).val()).children().length>2?$(".valid_images_container > .valid_images_"+$(this).val()).removeClass("dn"):void 0}),$("#banner_event_id").change()})}.call(this),function(){$(function(){return $("#exchanges .nested-fields:first a.remove_fields").remove()})}.call(this),function(){$(function(){return $(".preview_image").on("change",function(e){var t,n;return t=e.target?e.target:e.srcElement,t.files[0]?(n=new FileReader,n.onload=function(e){return $(".preview_container").attr("src",e.target.result).width(1170).height(308)},n.readAsDataURL(t.files[0])):void 0})})}.call(this),function(){$(function(){return $("#efi-validate-form").ajaxForm({target:"#validation-result",success:function(){return $("#validation-result-container").show()}})})}.call(this),function(){$(function(){return $('input[name="event[exclusivity_id]"]').on("click",function(){return $(this).hasClass("exchange")?($(".event_form .swaps_field").removeClass("dn"),$(".event_form .quantity_field").addClass("dn")):($(".event_form .swaps_field").addClass("dn"),$(".event_form .quantity_field").removeClass("dn")),$(".event_form").removeClass("dn"),$("span.input-large.uneditable-input").html($(this).data("quantity")),window.scrollTo(0,document.body.scrollHeight)})})}.call(this),/**
 * @license
 * =========================================================
 * bootstrap-datetimepicker.js 
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 *
 * Contributions:
 *  - Andrew Rowls
 *  - Thiago de Arruda
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================
 */
function(e){function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e,t,n){return e.length>t?e:Array(t-e.length+1).join(n||" ")+e}function i(e,t,n,i,o,s){return t&&n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(s?' class="collapse in"':"")+">"+'<div class="datepicker">'+f.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a><i class="'+e+'"></i></a></li>'+"<li"+(s?' class="collapse"':"")+">"+'<div class="timepicker">'+p.getTemplate(i,o)+"</div>"+"</li>"+"</ul>"+"</div>":n?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+p.getTemplate(i,o)+"</div>"+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+f.template+"</div>"+"</div>"}function o(){return new Date(Date.UTC.apply(Date,arguments))}void 0!=window.orientation;var s=function(e,t){this.id=a++,this.init(e,t)};s.prototype={constructor:s,init:function(t,n){var o;if(!n.pickTime&&!n.pickDate)throw new Error("Must choose at least one picker");if(this.options=n,this.$element=e(t),this.language=n.language in r?n.language:"en",this.pickDate=n.pickDate,this.pickTime=n.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.is(".input-append")||this.$element.is(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=n.format,this.format||(this.format=this.isInput?this.$element.data("format"):this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(o=this.component.find("i")),this.pickTime&&(o&&o.length&&(this.timeIcon=o.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),o.addClass(this.timeIcon)),this.pickDate&&(o&&o.length&&(this.dateIcon=o.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),o.removeClass(this.timeIcon),o.addClass(this.dateIcon)),this.widget=e(i(this.timeIcon,n.pickDate,n.pickTime,n.pick12HourFormat,n.pickSeconds,n.collapse)).appendTo("body"),this.minViewMode=n.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(n.startDate||this.$element.data("date-startdate")),this.setEndDate(n.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(e){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),e&&(e.stopPropagation(),e.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var e=this.widget.find(".collapse"),t=0;e.length>t;t++){var n=e.eq(t).data("collapse");if(n&&n.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var e="";if(this._unset||(e=this.formatDate(this._date)),this.isInput)this.$element.val(e),this._resetMaskPos(this.$element);else{if(this.component){var t=this.$element.find("input");t.val(e),this._resetMaskPos(t)}this.$element.data("date",e)}},setValue:function(e){this._unset=e?!1:!0,"string"==typeof e?this._date=this.parseDate(e):e&&(this._date=new Date(e)),this.set(),this.viewDate=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(e){e?this.setValue(e.valueOf()):this.setValue(null)},setStartDate:function(e){e instanceof Date?this.startDate=e:"string"==typeof e?(this.startDate=new o(e),this.startDate.getUTCFullYear()||(this.startDate=-1/0)):this.startDate=-1/0,this.viewDate&&this.update()},setEndDate:function(e){e instanceof Date?this.endDate=e:"string"==typeof e?(this.endDate=new o(e),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var e=this._date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},setLocalDate:function(e){e?this.setValue(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):this.setValue(null)},place:function(){var t="absolute",n=this.component?this.component.offset():this.$element.offset();if(n.top=n.top+this.height,this._isInFixed()){var i=e(window);t="fixed",n.top-=i.scrollTop(),n.left-=i.scrollLeft()}this.widget.css({position:t,top:n.top,left:n.left})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(e){var t=e;if(!t)if(t=this.isInput?this.$element.val():this.$element.find("input").val())this._date=this.parseDate(t);else{var n=new Date;this._date=o(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}this.viewDate=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var e=this.weekStart,t="<tr>";this.weekStart+7>e;)t+='<th class="dow">'+r[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.widget.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+r[this.language].monthsShort[t++]+"</span>";this.widget.find(".datepicker-months td").append(e)},fillDate:function(){var t=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),i=o(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),s="object"==typeof this.startDate?this.startDate.getUTCFullYear():-1/0,a="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,l="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,c="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(r[this.language].months[n]+" "+t);var d=o(t,n-1,28,0,0,0,0),u=f.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(u),d.setUTCDate(u-(d.getUTCDay()-this.weekStart+7)%7),(t==s&&a>=n||s>t)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(t==l&&n>=c||t>l)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var h=new Date(d.valueOf());h.setUTCDate(h.getUTCDate()+42),h=h.valueOf();for(var p,m=[];h>d.valueOf();)d.getUTCDay()===this.weekStart&&m.push("<tr>"),p="",t>d.getUTCFullYear()||d.getUTCFullYear()==t&&n>d.getUTCMonth()?p+=" old":(d.getUTCFullYear()>t||d.getUTCFullYear()==t&&d.getUTCMonth()>n)&&(p+=" new"),d.valueOf()===i.valueOf()&&(p+=" active"),d.valueOf()+864e5<=this.startDate&&(p+=" disabled"),d.valueOf()>this.endDate&&(p+=" disabled"),m.push('<td class="day'+p+'">'+d.getUTCDate()+"</td>"),d.getUTCDay()===this.weekEnd&&m.push("</tr>"),d.setUTCDate(d.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(m.join(""));var g=this._date.getUTCFullYear(),v=this.widget.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");g===t&&v.eq(this._date.getUTCMonth()).addClass("active"),s>g-1&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),g+1>l&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var y=0;12>y;y++)t==s&&a>y||s>t?e(v[y]).addClass("disabled"):(t==l&&y>c||t>l)&&e(v[y]).addClass("disabled");m="",t=10*parseInt(t/10,10);var b=this.widget.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),s>t&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),t+9>l&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),t-=1;for(var y=-1;11>y;y++)m+='<span class="year'+(-1===y||10===y?" old":"")+(g===t?" active":"")+(s>t||t>l?" disabled":"")+'">'+t+"</span>",t+=1;b.html(m)},fillHours:function(){var e=this.widget.find(".timepicker .timepicker-hours table");e.parent().hide();var t="";if(this.options.pick12HourFormat)for(var i=1,o=0;3>o;o+=1){t+="<tr>";for(var s=0;4>s;s+=1){var a=i.toString();t+='<td class="hour">'+n(a,2,"0")+"</td>",i++}t+="</tr>"}else for(var i=0,o=0;6>o;o+=1){t+="<tr>";for(var s=0;4>s;s+=1){var a=i.toString();t+='<td class="hour">'+n(a,2,"0")+"</td>",i++}t+="</tr>"}e.html(t)},fillMinutes:function(){var e=this.widget.find(".timepicker .timepicker-minutes table");e.parent().hide();for(var t="",i=0,o=0;5>o;o++){t+="<tr>";for(var s=0;4>s;s+=1){var a=i.toString();t+='<td class="minute">'+n(a,2,"0")+"</td>",i+=3}t+="</tr>"}e.html(t)},fillSeconds:function(){var e=this.widget.find(".timepicker .timepicker-seconds table");e.parent().hide();for(var t="",i=0,o=0;5>o;o++){t+="<tr>";for(var s=0;4>s;s+=1){var a=i.toString();t+='<td class="second">'+n(a,2,"0")+"</td>",i+=3}t+="</tr>"}e.html(t)},fillTime:function(){if(this._date){var e=this.widget.find(".timepicker span[data-time-component]");e.closest("table");var t=this.options.pick12HourFormat,i=this._date.getUTCHours(),o="AM";t&&(i>=12&&(o="PM"),0===i?i=12:12!=i&&(i%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(o)),i=n(i.toString(),2,"0");var s=n(this._date.getUTCMinutes().toString(),2,"0"),a=n(this._date.getUTCSeconds().toString(),2,"0");e.filter("[data-time-component=hours]").text(i),e.filter("[data-time-component=minutes]").text(s),e.filter("[data-time-component=seconds]").text(a)}},click:function(t){t.stopPropagation(),t.preventDefault(),this._unset=!1;var n=e(t.target).closest("span, td, th");if(1===n.length&&!n.is(".disabled"))switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var i=this.viewDate,s=f.modes[this.viewMode].navFnc,a=f.modes[this.viewMode].navStep;"prev"===n[0].className&&(a=-1*a),i["set"+s](i["get"+s]()+a),this.fillDate(),this.set()}break;case"span":if(n.is(".month")){var r=n.parent().find("span").index(n);this.viewDate.setUTCMonth(r)}else{var l=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(l)}0!==this.viewMode&&(this._date=o(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(n.is(".day")){var c=parseInt(n.text(),10)||1,r=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCFullYear();n.is(".old")?0===r?(r=11,l-=1):r-=1:n.is(".new")&&(11==r?(r=0,l+=1):r+=1),this._date=o(l,r,c,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=o(l,r,Math.min(28,c),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(){var e=this._date.getUTCHours();e>=12?e-=12:e+=12,this._date.setUTCHours(e)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=e(t.target),i=parseInt(n.text(),10);if(this.options.pick12HourFormat){var o=this._date.getUTCHours();o>=12?12!=i&&(i=(i+12)%24):12===i?i=0:i%=12}this._date.setUTCHours(i),this.actions.showPicker.call(this)},selectMinute:function(t){var n=e(t.target),i=parseInt(n.text(),10);this._date.setUTCMinutes(i),this.actions.showPicker.call(this)},selectSecond:function(t){var n=e(t.target),i=parseInt(n.text(),10);this._date.setUTCSeconds(i),this.actions.showPicker.call(this)}},doAction:function(t){t.stopPropagation(),t.preventDefault(),this._date||(this._date=o(1970,0,0,0,0,0,0));var n=e(t.currentTarget).data("action"),i=this.actions[n].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),i},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},keydown:function(t){var n=this,i=t.which,o=e(t.target);(8==i||46==i)&&setTimeout(function(){n._resetMaskPos(o)})},keypress:function(t){var n=t.which;if(8!=n&&46!=n){var i=e(t.target),o=String.fromCharCode(n),s=i.val()||"";s+=o;var a=this._mask[this._maskPos];if(!a)return!1;if(a.end==s.length){if(!a.pattern.test(s.slice(a.start))){for(s=s.slice(0,s.length-1);(a=this._mask[this._maskPos])&&a.character;)s+=a.character,this._maskPos++;return s+=o,a.end!=s.length?(i.val(s),!1):a.pattern.test(s.slice(a.start))?(i.val(s),this._maskPos++,!1):(i.val(s.slice(0,a.start)),!1)}this._maskPos++}}},change:function(t){var n=e(t.target),i=n.val();this._formatPattern.test(i)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):i&&i.trim()?(this.setValue(this._date.getTime()),this._date?this.set():n.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(n)},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+f.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(e){return this.format.replace(h,function(t){var i,o,s,a=t.length;if("ms"===t&&(a=1),o=l[t].property,"Hours12"===o)s=e.getUTCHours(),0===s?s=12:12!==s&&(s%=12);else{if("Period12"===o)return e.getUTCHours()>=12?"PM":"AM";i="get"+o,s=e[i]()}return"getUTCMonth"===i&&(s+=1),"getUTCYear"===i&&(s=s+1900-2e3),n(s.toString(),a,"0")})},parseDate:function(e){var t,n,i,o,s={};if(!(t=this._formatPattern.exec(e)))return null;for(n=1;t.length>n;n++)i=this._propertiesByIndex[n],i&&(o=t[n],/^\d+$/.test(o)&&(o=parseInt(o,10)),s[i]=o);return this._finishParsingDate(s)},_resetMaskPos:function(e){for(var t=e.val(),n=0;this._mask.length>n;n++){if(this._mask[n].end>t.length){this._maskPos=n;break}if(this._mask[n].end===t.length){this._maskPos=n+1;break}}},_finishParsingDate:function(e){var t,n,i,s,a,r,l;return t=e.UTCFullYear,e.UTCYear&&(t=2e3+e.UTCYear),t||(t=1970),n=e.UTCMonth?e.UTCMonth-1:0,i=e.UTCDate||1,s=e.UTCHours||0,a=e.UTCMinutes||0,r=e.UTCSeconds||0,l=e.UTCMilliseconds||0,e.Hours12&&(s=e.Hours12),e.Period12&&(/pm/i.test(e.Period12)?12!=s&&(s=(s+12)%24):s%=12),o(t,n,i,s,a,r,l)},_compileFormat:function(){for(var e,n,i=[],o=[],s=this.format,a={},r=0,c=0;e=u.exec(s);)n=e[0],n in l?(r++,a[r]=l[n].property,i.push("\\s*"+l[n].getPattern(this)+"\\s*"),o.push({pattern:new RegExp(l[n].getPattern(this)),property:l[n].property,start:c,end:c+=n.length})):(i.push(t(n)),o.push({pattern:new RegExp(t(n)),character:n,start:c,end:++c})),s=s.slice(n.length);this._mask=o,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+i.join("")+"\\s*$"),this._propertiesByIndex=a},_attachDatePickerEvents:function(){var t=this;this.widget.on("click",".datepicker *",e.proxy(this.click,this)),this.widget.on("click","[data-action]",e.proxy(this.doAction,this)),this.widget.on("mousedown",e.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(n){n.stopPropagation();var i=e(this),o=i.closest("ul"),s=o.find(".collapse.in"),a=o.find(".collapse:not(.in)");if(s&&s.length){var r=s.data("collapse");if(r&&r.transitioning)return;s.collapse("hide"),a.collapse("show"),i.find("i").toggleClass(t.timeIcon+" "+t.dateIcon),t.$element.find(".add-on i").toggleClass(t.timeIcon+" "+t.dateIcon)}}),this.isInput?(this.$element.on({focus:e.proxy(this.show,this),change:e.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)})):(this.$element.on({change:e.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:e.proxy(this.keydown,this),keypress:e.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",e.proxy(this.show,this)):this.$element.on("click",e.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){e(window).on("resize.datetimepicker"+this.id,e.proxy(this.place,this)),this.isInput||e(document).on("mousedown.datetimepicker"+this.id,e.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){e(window).off("resize.datetimepicker"+this.id),this.isInput||e(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var t=this.$element.parents(),n=!1,i=0;t.length>i;i++)if("fixed"==e(t[i]).css("position")){n=!0;break}return n}return!1}},e.fn.datetimepicker=function(t,n){return this.each(function(){var i=e(this),o=i.data("datetimepicker"),a="object"==typeof t&&t;o||i.data("datetimepicker",o=new s(this,e.extend({},e.fn.datetimepicker.defaults,a))),"string"==typeof t&&o[t](n)})},e.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-1/0,endDate:1/0,collapse:!0},e.fn.datetimepicker.Constructor=s;var a=0,r=e.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},l={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},c=[];for(var d in l)c.push(d);c[c.length-1]+="\\b",c.push(".");var u=new RegExp(c.join("\\b|"));c.pop();var h=new RegExp(c.join("\\b|"),"g"),f={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,f.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};f.template='<div class="datepicker-days"><table class="table-condensed">'+f.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+f.headTemplate+f.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+f.headTemplate+f.contTemplate+"</table>"+"</div>";var p={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};p.getTemplate=function(e,t){return'<div class="timepicker-picker"><table class="table-condensed"'+(e?' data-hour-format="12"':"")+">"+"<tr>"+'<td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"<tr>"+"<td>"+p.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+p.minuteTemplate+"</td> "+(t?'<td class="separator">:</td><td>'+p.secondTemplate+"</td>":"")+(e?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(t?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(e?'<td class="separator"></td>':"")+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed">'+"</table>"+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed">'+"</table>"+"</div>"+(t?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}(window.jQuery),function(e){e.fn.datetimepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"}}(jQuery),function(){$.widget("pp.exclusivity",{options:{daysContainer:null},_init:function(){var e;return e=this,this.daysContainerEl=$(this.options.daysContainer),this.element.is(":checked")&&this.show(),this.element.on("change",function(){return $(this).is(":checked")?e.show():e.hide()})},show:function(){return this.daysContainerEl.show()},hide:function(){return this.daysContainerEl.hide(),this.daysContainerEl.find("input").val("").trigger("focusout")}}),$(function(){return $("#experience_total_exclusivity_sales").exclusivity({daysContainer:"#total_exclusivity_days"}),$("#experience_by_industry_exclusivity_sales").exclusivity({daysContainer:"#by_industry_exclusivity_days"}),$("form.new_experience, form.edit_experience").validate({onfocusout:function(e){return this.element(e)},rules:{"experience[swaps]":{number:!0,min:1},"experience[amount]":{number:!0,min:1},"experience[discounted_price]":{number:!0,min:1},"experience[discount_percentage]":{number:!0,min:0,max:100},"experience[codes_by_purchase]":{number:!0,min:1},"experience[total_exclusivity_days]":{number:!0,min:0},"experience[by_industry_exclusivity_days]":{number:!0,min:0},"experience[fee]":{digits:!0,min:1,max:100}}})})}.call(this),function(){$(function(){return $("form.industries_percentages input[type='text']").on("change",function(){var e,t,n,i,o;for(t=0,o=$("form.industries_percentages input[type='text']"),n=0,i=o.length;i>n;n++)e=o[n],t+=parseFloat($(e).val());return $("form.industries_percentages .percentage_total span.uneditable-input").html(t),100!==t?($("form.industries_percentages .percentage_total").addClass("error"),$("form.industries_percentages .percentage_total span.help-inline").removeClass("dn")):($("form.industries_percentages .percentage_total").removeClass("error"),$("form.industries_percentages .percentage_total span.help-inline").addClass("dn"))})})}.call(this),function(){$(function(){return $(".preview_image").on("change",function(e){var t,n;return t=e.target?e.target:e.srcElement,t.files[0]?(n=new FileReader,n.onload=function(e){return $(".preview_container").attr("src",e.target.result).width("100%").height("100%")},n.readAsDataURL(t.files[0])):void 0})})}.call(this),function(){$(function(){return $(".carousel").carousel()})}.call(this);